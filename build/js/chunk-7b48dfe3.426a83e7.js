(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b48dfe3"],{"22a5":function(e,t,s){"use strict";function r(e,t){return"ro-RO"==t?e.toLocaleString("en-US"):e.toLocaleString(t)}function a(e){const t="1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHKLZXCVBNM";let s="";for(let r=0;r<e;r++)s+=t[Math.floor(Math.random()*(t.length-1))];return s}function i(e,t){return e.toLocaleString(t,{timeZone:"UTC"}).substr(0,10)}function n(e){let t="";switch(e){case 2:t="February";break;case 3:t="March";break;case 4:t="April";break;case 5:t="May";break;case 6:t="June";break;case 7:t="July";break;case 8:t="August";break;case 9:t="September";break;case 10:t="October";break;case 11:t="November";break;case 12:t="December";break;default:t="January"}return t}function o(e){return e&&e.length?e.join(", "):""}function c(e,t=0){const s=Math.pow(10,t),r=e*s*(1+Number.EPSILON);return Math.round(r)/s}s.d(t,"d",(function(){return r})),s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return i})),s.d(t,"c",(function(){return n})),s.d(t,"f",(function(){return o})),s.d(t,"e",(function(){return c}))},8836:function(e,t,s){},"8ce9":function(e,t,s){},"999f":function(e,t,s){"use strict";s.r(t);var r=s("8336"),a=s("62ad"),i=s("a523"),n=s("ce7e"),o=s("4bd4"),c=s("0fd9"),l=s("b974"),d=(s("8836"),s("10d2")),h=s("3206"),p=s("a452"),u=s("58df"),m=s("d9bd");const v=Object(u["a"])(d["a"],Object(h["b"])("stepper"),p["a"]);var g=v.extend({name:"v-stepper",provide(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,flat:Boolean,vertical:Boolean},data(){const e={isBooted:!1,steps:[],content:[],isReverse:!1};return e.internalLazyValue=null!=this.value?this.value:(e[0]||{}).step||1,e},computed:{classes(){return{"v-stepper--flat":this.flat,"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear,...d["a"].options.computed.classes.call(this)}},styles(){return{...d["a"].options.computed.styles.call(this)}}},watch:{internalValue(e,t){this.isReverse=Number(e)<Number(t),t&&(this.isBooted=!0),this.updateView()}},created(){this.$listeners.input&&Object(m["a"])("@input","@change",this)},mounted(){this.updateView()},methods:{register(e){"v-stepper-step"===e.$options.name?this.steps.push(e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content.push(e))},unregister(e){"v-stepper-step"===e.$options.name?this.steps=this.steps.filter(t=>t!==e):"v-stepper-content"===e.$options.name&&(e.isVertical=this.vertical,this.content=this.content.filter(t=>t!==e))},stepClick(e){this.$nextTick(()=>this.internalValue=e)},updateView(){for(let e=this.steps.length;--e>=0;)this.steps[e].toggle(this.internalValue);for(let e=this.content.length;--e>=0;)this.content[e].toggle(this.internalValue,this.isReverse)}},render(e){return e(this.tag,{staticClass:"v-stepper",class:this.classes,style:this.styles},this.$slots.default)}}),f=s("0789"),b=s("80d2");const _=Object(u["a"])(Object(h["a"])("stepper","v-stepper-content","v-stepper"));var y=_.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition(){const e=this.$vuetify.rtl?!this.isReverse:this.isReverse;return e?f["e"]:f["f"]},styles(){return this.isVertical?{height:Object(b["g"])(this.height)}:{}}},watch:{isActive(e,t){e&&null==t?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition(e){this.isActive&&"height"===e.propertyName&&(this.height="auto")},enter(){let e=0;requestAnimationFrame(()=>{e=this.$refs.wrapper.scrollHeight}),this.height=0,setTimeout(()=>this.isActive&&(this.height=e||"auto"),450)},leave(){this.height=this.$refs.wrapper.clientHeight,setTimeout(()=>this.height=0,10)},toggle(e,t){this.isActive=e.toString()===this.step.toString(),this.isReverse=t}},render(e){const t={staticClass:"v-stepper__content"},s={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(t.directives=[{name:"show",value:this.isActive}]);const r=e("div",s,[this.$slots.default]),a=e("div",t,[r]);return e(this.computedTransition,{on:this.$listeners},[a])}}),w=s("9d26"),k=s("a9ad"),$=s("5607");const x=Object(u["a"])(k["a"],Object(h["a"])("stepper","v-stepper-step","v-stepper"));var I=x.extend().extend({name:"v-stepper-step",directives:{ripple:$["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:()=>[]},step:[Number,String]},data(){return{isActive:!1,isInactive:!0}},computed:{classes(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError(){return this.rules.some(e=>!0!==e())}},mounted(){this.stepper&&this.stepper.register(this)},beforeDestroy(){this.stepper&&this.stepper.unregister(this)},methods:{click(e){e.stopPropagation(),this.$emit("click",e),this.editable&&this.stepClick(this.step)},genIcon(e){return this.$createElement(w["a"],e)},genLabel(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep(){const e=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(e,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent(){const e=[];return this.hasError?e.push(this.genIcon(this.errorIcon)):this.complete?this.editable?e.push(this.genIcon(this.editIcon)):e.push(this.genIcon(this.completeIcon)):e.push(String(this.step)),e},keyboardClick(e){e.keyCode===b["t"].space&&this.click(e)},toggle(e){this.isActive=e.toString()===this.step.toString(),this.isInactive=Number(e)<Number(this.step)}},render(e){return e("div",{attrs:{tabindex:this.editable?0:-1},staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click,keydown:this.keyboardClick}},[this.genStep(),this.genLabel()])}}),C=s("8654"),S=function(){var e=this,t=e._self._c;return t(i["a"],{attrs:{fluid:""}},[e.loading?t("div",{staticClass:"text-center"},[t("loader")],1):t("div",[t(c["a"],{staticClass:"my-2 subtitle-2 secondary--text pl-12"},[e._v(" Creating a new game ")]),t(n["a"]),t(g,{attrs:{vertical:""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[t(I,{attrs:{complete:e.e6>1,step:"1"}},[e._v(" 1. Select parameters for new game ")]),t(y,{attrs:{step:"1"}},[t(i["a"],{attrs:{"grid-list-md":""}},[t(o["a"],{ref:"form",attrs:{validation:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(c["a"],[t(a["a"],{attrs:{cols:"12",md:"2"}},[t(l["a"],{attrs:{dense:"","return-object":"",items:e.sets,"item-text":"item","item-value":"value",color:"secondary","item-color":"secondary",label:"level of complexity",rules:[e.rules.required]},model:{value:e.set,callback:function(t){e.set=t},expression:"set"}})],1),t(a["a"],{attrs:{cols:"12",md:"2"}},[t(C["a"],{attrs:{dense:"",color:"secondary",label:"number of teams",name:"teams_number",type:"text",rules:[e.rules.required,e.rules.max,e.rules.min]},on:{change:function(t){return e.onceMore()}},model:{value:e.teams_number,callback:function(t){e.teams_number=e._n(t)},expression:"teams_number"}})],1),t(a["a"],{attrs:{cols:"12",md:"2"}},[t(C["a"],{attrs:{dense:"",color:"secondary",label:"number of rounds",name:"rounds",type:"text",rules:[e.rules.required,e.rules.maxRounds,e.rules.min]},on:{change:function(t){return e.onceMore()}},model:{value:e.rounds,callback:function(t){e.rounds=e._n(t)},expression:"rounds"}})],1),t(a["a"],{attrs:{cols:"12",md:"6"}},[t(C["a"],{attrs:{dense:"",color:"secondary",label:"game description",name:"gameDescription",type:"text"},on:{change:function(t){return e.onceMore()}},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)],1)],1),t(c["a"],{staticClass:"mx-2 error",attrs:{justify:"center"}},[e._v(e._s(e.error))]),t(r["a"],{staticClass:"text-capitalize my-2",attrs:{color:"secondary",dark:"",small:"",disabled:!e.valid||Boolean(e.error)},on:{click:e.createGame}},[e._v("Continue ")])],1),t(I,{attrs:{step:"2",complete:e.e6>2}},[e._v(" 2. Creation "+e._s(e.teams_number)+" teams ")]),t(y,{attrs:{step:"2"}},[t(i["a"],{attrs:{"grid-list-md":""}},[t(o["a"],e._l(e.teams,(function(s,r){return t(c["a"],{key:s.id},[t(a["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[t(C["a"],{attrs:{dense:"",color:"secondary",label:"name of team",value:s.name,type:"text",readonly:""}})],1),t(a["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[t(C["a"],{attrs:{dense:"",color:"secondary",label:"team email",value:`${s.name}${e.gameId}@gmail.com`,type:"text",readonly:""}})],1),t(a["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[t(C["a"],{attrs:{dense:"",color:"secondary",label:"password",value:""+e.passes[r],type:"text",readonly:""}})],1)],1)})),1)],1),t(c["a"],{staticClass:"mx-2 error",attrs:{justify:"center"}},[e._v(e._s(e.error))]),t(r["a"],{staticClass:"text-capitalize mr-12",attrs:{color:"secondary",small:"",disabled:Boolean(e.error)}},[e._v("to PDF ")]),t(r["a"],{staticClass:"text-capitalize mr-12",attrs:{color:"secondary",small:"",disabled:Boolean(e.error)},on:{click:e.addTeams}},[e._v("Continue ")])],1)],1)],1)])},j=[],T=(s("d9e2"),s("43f5")),V=s("22a5"),A={data(){return{valid:!1,message:"",error:"",e6:1,rules:{required:e=>!!e||"required field",max:e=>e<=6||"max 6 expected",min:e=>e>=2||"min 2 expected",maxRounds:e=>e<=8||"max 8 expected"},sets:[{item:"simple",value:1},{item:"standart",value:2},{item:"advanced",value:3}],set:{item:"standart",value:2},teams_number:6,rounds:6,description:""}},computed:{loading(){return this.$store.getters.loading},teams(){return this.$store.getters.teams},newGame(){return console.log(this.$store.getters.newGame),this.$store.getters.newGame},trademarks(){return this.$store.getters.trademarks},gameId(){return this.newGame?this.newGame.id:null},passes(){const e=[];for(let t=0;t<this.teams.length;t++){const t=Object(V["b"])(6);e.push(t)}return e}},methods:{onceMore(){this.message="",this.error=""},async createGame(){if(this.$refs.form.validate()){const e={set:this.set,round:0,rounds:this.rounds,description:this.description};this.addGame(e),await this.fetchTeams(),this.e6=2}},addTeams(){if(this.gameId){const e=this.gameId;this.teams.map(async t=>{const s=[];t.products.forEach(t=>{const r=this.trademarks.find(e=>e.id==t.trademarkId);if(!r)throw new Error("not found the trademark with id: "+t.trademarkId);const a={productId:t.productId,gameId:e,round:0,trademark:r.name,model:t.model,material:t.material,manufacturing:t.manufacturing,design:t.design,design_type:t.design_type,variations:t.variations,advanced_feature:t.advanced_feature,unit_cost:t.unit_cost,investments:t.investments,available_from:t.available_from,available_till:t.available_till,sales_plan:t.sales_plan,production_plan:t.production_plan,retail_price:t.retail_price,price:t.price};s.push(a)});const r=[];t.channels.forEach(t=>{const s={register_round:t.register_round,annual_fee:t.annual_fee,entry_fee:t.entry_fee,franchise_cost:t.franchise_cost,franchise_fee:t.franchise_fee,gameId:e,round:0,name:t.name,investment_costs:t.investment_costs,operational_costs:t.operational_costs,stores:t.stores,type:t.type,id:t.id};r.push(s)});const a=[];t.spots.forEach(t=>{const s={gameId:e,round:0,register_round:Number(t.register_round)||0,name:t.name,advanced_feature:t.advanced_feature,channels:t.channels,design_type:t.design_type,investments:t.investments,objective:t.objective,operations:t.operations,price:t.price,quality:t.quality,segments:t.segments,trademarkId:t.trademarkId,value:t.value,core_message:t.core_message};a.push(s)});const i=[];t.resources.forEach(t=>{const s={gameId:e,round:0,borrowings:t.borrowings,capacities:t.capacities,capacities_increase:t.capacities_increase,long_term_debt:t.long_term_debt,research_segments:t.research_segments,research_costs:t.research_costs};i.push(s)});const n={gameId:e,name:`${t.name}_${e}`,products:s,channels:r,spots:a,resources:i};await this.addTeam(n)});const t=[];this.teams.map(async(s,r)=>{const a={name:s.name,email:`${s.name}${e}@gmail.com`,password:""+this.passes[r]};t.push(a),await this.createUser(a)}),localStorage.setItem("users",JSON.stringify({users:t})),this.e6=3}else this.error="game id was not found"},async fetchTeams(){try{await this.$store.dispatch("fetchTeams",{limit:this.teams_number,gameId:this.set.value})}catch(e){this.error="Something wrong with the gettings teams: "+e.message}},async addGame(e){try{await this.$store.dispatch("createGame",e)}catch(t){this.error="Something wrong with the new game adding: "+t.message}},async createUser(e){try{await this.$store.dispatch("addUser",e)}catch(t){this.error="Something wrong with the new user adding: "+t.message}},async addTeam(e){try{await this.$store.dispatch("createTeam",e)}catch(t){this.error="Something wrong with the new team adding: "+t.message}}},async mounted(){await this.$store.dispatch("fetchTrademarks")},components:{Loader:T["default"]}},B=A,E=s("2877"),L=Object(E["a"])(B,S,j,!1,null,null,null);t["default"]=L.exports},ce7e:function(e,t,s){"use strict";s("8ce9");var r=s("7560");t["a"]=r["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render(e){let t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:{"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical,...this.themeClasses},attrs:{role:"separator","aria-orientation":t,...this.$attrs},on:this.$listeners})}})}}]);
//# sourceMappingURL=chunk-7b48dfe3.426a83e7.js.map