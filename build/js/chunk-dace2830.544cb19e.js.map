{"version":3,"sources":["webpack:///../../../src/components/VExpansionPanel/VExpansionPanels.ts","webpack:///./src/views/team/Decisions.vue","webpack:///./src/views/team/decisions/ProductManagement.vue","webpack:///./src/components/team/products/addModel.vue","webpack:///src/components/team/products/addModel.vue","webpack:///./src/components/team/products/addModel.vue?848a","webpack:///./src/components/team/products/addModel.vue?16e9","webpack:///./src/components/team/products/upgradeModel.vue","webpack:///src/components/team/products/upgradeModel.vue","webpack:///./src/components/team/products/upgradeModel.vue?8678","webpack:///./src/components/team/products/upgradeModel.vue?00e0","webpack:///./src/components/team/products/deleteModel.vue","webpack:///src/components/team/products/deleteModel.vue","webpack:///./src/components/team/products/deleteModel.vue?d4d8","webpack:///./src/components/team/products/deleteModel.vue?458d","webpack:///./src/components/team/products/addBrand.vue","webpack:///src/components/team/products/addBrand.vue","webpack:///./src/components/team/products/addBrand.vue?ebfe","webpack:///./src/components/team/products/addBrand.vue?02e4","webpack:///src/views/team/decisions/ProductManagement.vue","webpack:///./src/views/team/decisions/ProductManagement.vue?8f94","webpack:///./src/views/team/decisions/ProductManagement.vue?7687","webpack:///./src/views/team/decisions/Sales.vue","webpack:///./src/components/team/products/upgradeSales.vue","webpack:///src/components/team/products/upgradeSales.vue","webpack:///./src/components/team/products/upgradeSales.vue?c3e4","webpack:///./src/components/team/products/upgradeSales.vue?3a20","webpack:///src/views/team/decisions/Sales.vue","webpack:///./src/views/team/decisions/Sales.vue?cb4c","webpack:///./src/views/team/decisions/Sales.vue?bd6b","webpack:///./src/views/team/decisions/Resources.vue","webpack:///./src/components/team/resources/editResource.vue","webpack:///./src/functions/resources.js","webpack:///src/components/team/resources/editResource.vue","webpack:///./src/components/team/resources/editResource.vue?5203","webpack:///./src/components/team/resources/editResource.vue?9851","webpack:///src/views/team/decisions/Resources.vue","webpack:///./src/views/team/decisions/Resources.vue?b9ef","webpack:///./src/views/team/decisions/Resources.vue?68e8","webpack:///./src/views/team/decisions/Retail.vue","webpack:///./src/components/team/channels/addChannel.vue","webpack:///src/components/team/channels/addChannel.vue","webpack:///./src/components/team/channels/addChannel.vue?9e74","webpack:///./src/components/team/channels/addChannel.vue?41fc","webpack:///./src/components/team/channels/deleteChannel.vue","webpack:///src/components/team/channels/deleteChannel.vue","webpack:///./src/components/team/channels/deleteChannel.vue?dd69","webpack:///./src/components/team/channels/deleteChannel.vue?7f1c","webpack:///./src/components/team/channels/changeChannel.vue","webpack:///src/components/team/channels/changeChannel.vue","webpack:///./src/components/team/channels/changeChannel.vue?2314","webpack:///./src/components/team/channels/changeChannel.vue?6dc1","webpack:///./src/components/team/channels/sellFranchise.vue","webpack:///src/components/team/channels/sellFranchise.vue","webpack:///./src/components/team/channels/sellFranchise.vue?c2d7","webpack:///./src/components/team/channels/sellFranchise.vue?7df0","webpack:///./src/components/team/channels/changeFranchise.vue","webpack:///src/components/team/channels/changeFranchise.vue","webpack:///./src/components/team/channels/changeFranchise.vue?cb75","webpack:///./src/components/team/channels/changeFranchise.vue?b601","webpack:///./src/components/team/channels/registerInChain.vue","webpack:///src/components/team/channels/registerInChain.vue","webpack:///./src/components/team/channels/registerInChain.vue?fcf6","webpack:///./src/components/team/channels/registerInChain.vue?b5f0","webpack:///./src/components/team/channels/suspendFromChain.vue","webpack:///src/components/team/channels/suspendFromChain.vue","webpack:///./src/components/team/channels/suspendFromChain.vue?234b","webpack:///./src/components/team/channels/suspendFromChain.vue?277b","webpack:///./src/components/team/channels/changeInChain.vue","webpack:///src/components/team/channels/changeInChain.vue","webpack:///./src/components/team/channels/changeInChain.vue?8032","webpack:///./src/components/team/channels/changeInChain.vue?aac5","webpack:///src/views/team/decisions/Retail.vue","webpack:///./src/views/team/decisions/Retail.vue?2aad","webpack:///./src/views/team/decisions/Retail.vue?02c5","webpack:///./src/views/team/decisions/Promotion.vue","webpack:///./src/components/team/promotion/addSpot.vue","webpack:///src/components/team/promotion/addSpot.vue","webpack:///./src/components/team/promotion/addSpot.vue?3ab8","webpack:///./src/components/team/promotion/addSpot.vue?d903","webpack:///./src/components/team/promotion/deleteSpot.vue","webpack:///src/components/team/promotion/deleteSpot.vue","webpack:///./src/components/team/promotion/deleteSpot.vue?eefa","webpack:///./src/components/team/promotion/deleteSpot.vue?aca7","webpack:///./src/components/team/promotion/addAction.vue","webpack:///src/components/team/promotion/addAction.vue","webpack:///./src/components/team/promotion/addAction.vue?7a17","webpack:///./src/components/team/promotion/addAction.vue?5eee","webpack:///./src/components/team/promotion/deleteAction.vue","webpack:///src/components/team/promotion/deleteAction.vue","webpack:///./src/components/team/promotion/deleteAction.vue?3458","webpack:///./src/components/team/promotion/deleteAction.vue?e2d2","webpack:///src/views/team/decisions/Promotion.vue","webpack:///./src/views/team/decisions/Promotion.vue?d185","webpack:///./src/views/team/decisions/Promotion.vue?9f8d","webpack:///src/views/team/Decisions.vue","webpack:///./src/views/team/Decisions.vue?ddbb","webpack:///./src/views/team/Decisions.vue?21bb","webpack:///../../../src/mixins/overlayable/index.ts","webpack:///../../../src/components/VDialog/VDialog.ts","webpack:///../../../src/components/VOverlay/index.ts","webpack:///./src/functions/product.js","webpack:///../../../src/components/VGrid/VSpacer.ts","webpack:///../../../src/components/VTooltip/VTooltip.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelContent.ts","webpack:///../../../src/components/VCard/index.ts","webpack:///./src/components/team/promotion/addAction.vue?18cd","webpack:///../../../src/components/VExpansionPanel/VExpansionPanelHeader.ts","webpack:///../../../src/components/VExpansionPanel/VExpansionPanel.ts","webpack:///./src/functions/promotion.js","webpack:///./src/functions/retail.js"],"names":["BaseItemGroup","extend","name","provide","expansionPanels","this","props","accordion","Boolean","disabled","flat","hover","focusable","inset","popout","readonly","tile","computed","classes","options","call","created","$attrs","hasOwnProperty","breaking","Array","isArray","value","length","methods","updateItem","item","index","getValue","nextValue","isActive","toggleMethod","nextIsActive","attrs","loading","staticClass","_vm","model","callback","expression","tab","_c","render","staticRenderFns","key","i","class","style","$$v","modelsByTrademark","_v","product","id","_s","valid","on","material","manufacturing","designType","design","variations","advanced_feature","data","dialog","message","error","calculating","trademark","rules","required","items","levelItems","investments","unit_cost","available_from","available_till","locale","game","user","features","calculate","onceMore","validName","af","gameId","round","productId","design_type","teamId","console","closeDialog","components","Loader","component","ref","number","text","products","selected","get","set","val","mounted","scopedSlots","deleteProduct","team","headers","title","trademarks","trademarkId","models","inArr","status","stringMonth","formatNumber","AddModel","UpgradeModel","DeleteProduct","AddBrand","sales_plan","production_plan","retail_price","price","number_hint","resources","production_plan_hint","all_production","capacities","sales","localeNumber","totalSales","salesValue","inventoriesBeginning","res","inventoriesEnd","EditProduct","_l","capacities_increase","borrowings","selected_segments","ResearchCosts","segments","reduce","sum","segment","max_price","roundNumber","max","cap_hint","borrow_hint","long_term_debt","research_costs","market_segments","finances","borrowHint","hint","capHint","resource","selializing","EditResources","panel","channel","outlets","franchises","franchise","panel2","chan","getChannel","$event","preventDefault","type","teamTrademarks","stores","not_empty","operational","channels","arr","multiple","types","watch","register_round","investment_costs","operational_costs","fn","intermediary","retail_writte_off","toAdd","toRemove","trademarksList","trs","trademarksChan","channelId","canSelling","franchise_cost","franchise_fee","outlet","frs","change","changed","num_trademarks","deleteChannel","icon","headers2","chains","onlineStores","marketplaces","bm_chains","channelTrademarks","lastSales","addChannel","changeChannel","sellFranchise","changeFranchise","register","suspend","spots","spot","promotions","prom","quality","core_messages","core_message","objective","values","pick_segments","operations","all_channels","prices","objectives","marketSize","cashback","gift_cost","first_mount","fromArr","addSpot","addAction","deleteSpot","deleteAction","link","ProductManagement","Sales","Retail","Promotion","Resources","Vue","hideOverlay","overlayColor","String","overlayOpacity","Number","animationFrame","overlay","removeOverlay","genOverlay","beforeDestroy","createOverlay","VOverlay","propsData","absolute","color","opacity","$mount","parent","$el","parentNode","document","querySelector","insertBefore","firstChild","hideScroll","requestAnimationFrame","undefined","activeZIndex","zIndex","getZIndex","showScroll","addOnceEventListener","removeChild","$destroy","cancelAnimationFrame","scrollListener","e","includes","target","tagName","isContentEditable","up","keyCodes","pageup","down","pagedown","keyCode","deltaY","body","checkPath","hasScrollbar","el","nodeType","Node","ELEMENT_NODE","window","getComputedStyle","overflowY","scrollHeight","clientHeight","overflowX","scrollWidth","clientWidth","shouldScroll","hasAttribute","dir","shiftKey","deltaX","delta","alreadyAtStart","alreadyAtEnd","scrollTop","scrollLeft","scrollingUp","scrollingDown","isInside","path","composedPath","$refs","getSelection","anchorNode","documentElement","content","$vuetify","breakpoint","smAndDown","classList","add","addPassiveEventListener","passive","addEventListener","remove","removeEventListener","baseMixins","mixins","Dependent","Detachable","Overlayable","Returnable","Stackable","Activatable","directives","ClickOutside","dark","fullscreen","light","maxWidth","noClickAnimation","origin","default","persistent","retainFocus","scrollable","transition","width","activatedBy","animate","animateTimeout","stackMinZIndex","previousActiveElement","contentClass","trim","contentClasses","hasActivator","$slots","activator","$scopedSlots","show","unbind","focus","removed","beforeMount","$nextTick","isBooted","animateClick","clearTimeout","setTimeout","closeConditional","_isDestroyed","contains","getMaxZIndex","_this$$refs$dialog","activeElement","bind","onFocusin","onClickOutside","$emit","onKeydown","esc","getOpenDependents","getActivator","getOpenDependentElements","some","querySelectorAll","find","genContent","showLazyContent","$createElement","VThemeProvider","root","role","getScopeIdAttrs","keydown","genTransition","genInnerContent","appear","tabindex","handler","include","transformOrigin","convertToUnit","getContentSlot","h","attach","genActivator","MATERIAL_UC","MANUFACTURING_UC","FEATURES_UC","MATERIAL_I","MANUFACTURING_I","DESIGN_I","FEATURES_I","MATERIAL_T","MANUFACTURING_T","DESIGN_T","FEATURES_T","UnitCost","mat","man","v","feature","parseFloat","toFixed","Investments","UpgradeInvestments","mat2","man2","v2","feature2","Math","abs","AvailabilityFrom","ceil","UpgradeAvailabilityFrom","v_prev","createSimpleFunctional","Colorable","Delayable","Menuable","closeDelay","openDelay","openOnHover","openOnFocus","tag","calculatedMinWidth","closeDependents","calculatedLeft","dimensions","unknown","bottom","left","top","right","activatorLeft","offsetLeft","nudgeLeft","parseInt","nudgeRight","calcXOverflow","calculatedTop","activatorTop","offsetTop","height","nudgeTop","nudgeBottom","pageYOffset","calcYOverflow","computedTransition","offsetY","offsetX","styles","minWidth","callActivate","getSlotType","consoleError","activate","updateDimensions","startTransition","deactivate","runDelay","genActivatorListeners","listeners","blur","genActivatorAttributes","setBackgroundColor","menuable__content__active","activatorFixed","isContentActive","Bootable","RegistrableInject","parentIsActive","expansionPanel","immediate","oldVal","registerContent","unregisterContent","VExpandTransition","getSlot","VCardActions","VCardSubtitle","VCardText","VCardTitle","VCard","ripple","disableIconRotate","expandIcon","hideActions","Object","hasMousedown","isDisabled","isReadonly","registerHeader","unregisterHeader","onClick","genIcon","VIcon","VFadeTransition","$listeners","click","mousedown","mouseup","open","GroupableFactory","RegistrableProvide","header","groupClasses","vm","$on","detail","toggle","SpotInvestments","quality_arr","base","SpotOperationsCosts","forEach","peak_size","ONLINE_INVESTMENTS","OFFLINE_INVESTMENTS","ONLINE_OPERATIONAL_COSTS","OFFLINE_OPERATIONAL_COSTS","retailInvestments","Error","operationalCosts"],"mappings":"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","file":"js/chunk-dace2830.544cb19e.js","sourcesContent":["// Styles\nimport './VExpansionPanel.sass'\n\n// Components\nimport { BaseItemGroup, GroupableInstance } from '../VItemGroup/VItemGroup'\nimport VExpansionPanel from './VExpansionPanel'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\ninterface VExpansionPanelInstance extends InstanceType<typeof VExpansionPanel> {}\n\n/* @vue/component */\nexport default BaseItemGroup.extend({\n  name: 'v-expansion-panels',\n\n  provide (): object {\n    return {\n      expansionPanels: this,\n    }\n  },\n\n  props: {\n    accordion: Boolean,\n    disabled: Boolean,\n    flat: Boolean,\n    hover: Boolean,\n    focusable: Boolean,\n    inset: Boolean,\n    popout: Boolean,\n    readonly: Boolean,\n    tile: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-expansion-panels': true,\n        'v-expansion-panels--accordion': this.accordion,\n        'v-expansion-panels--flat': this.flat,\n        'v-expansion-panels--hover': this.hover,\n        'v-expansion-panels--focusable': this.focusable,\n        'v-expansion-panels--inset': this.inset,\n        'v-expansion-panels--popout': this.popout,\n        'v-expansion-panels--tile': this.tile,\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('expand')) {\n      breaking('expand', 'multiple', this)\n    }\n\n    /* istanbul ignore next */\n    if (\n      Array.isArray(this.value) &&\n      this.value.length > 0 &&\n      typeof this.value[0] === 'boolean'\n    ) {\n      breaking(':value=\"[true, false, true]\"', ':value=\"[0, 2]\"', this)\n    }\n  },\n\n  methods: {\n    updateItem (item: GroupableInstance & VExpansionPanelInstance, index: number) {\n      const value = this.getValue(item, index)\n      const nextValue = this.getValue(item, index + 1)\n\n      item.isActive = this.toggleMethod(value)\n      item.nextIsActive = this.toggleMethod(nextValue)\n    },\n  },\n})\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{staticClass:\"pa-0\",attrs:{\"fluid\":\"\"}},[(!_vm.loading)?_c('div',[_c('v-row',{staticClass:\"body-2 font-weight-bold ml-12 my-4\"},[_c('span',{staticClass:\"ml-4\"},[_vm._v(\"team: \"+_vm._s(_vm.user.name))]),_c('span',{staticClass:\"ml-4\"},[_vm._v(\"current round: \"+_vm._s(_vm.game?.round))])]),_c('v-divider'),_c('v-tabs',{attrs:{\"height\":\"35\",\"background-color\":\"primary\",\"fixed-tabs\":\"\",\"slider-color\":\"accent\",\"dark\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{staticClass:\"text-capitalize font-weight-bold white--text\",attrs:{\"to\":\"/team/decisions/pm\"}},[_vm._v(\" Product management \")]),_vm._l((_vm.items),function(item){return _c('v-tab',{key:item,staticClass:\"text-capitalize font-weight-bold white--text\",attrs:{\"to\":_vm.link(item)}},[_vm._v(\" \"+_vm._s(item)+\" \")])})],2),_c('v-tabs-items',{attrs:{\"continuous\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',{attrs:{\"value\":\"/team/decisions/pm\"}},[_c('product-management')],1),_c('v-tab-item',{attrs:{\"value\":\"/team/decisions/sales\"}},[_c('sales')],1),_c('v-tab-item',{attrs:{\"value\":\"/team/decisions/retail\"}},[_c('retail')],1),_c('v-tab-item',{attrs:{\"value\":\"/team/decisions/promotion\"}},[_c('promotion')],1),_c('v-tab-item',{attrs:{\"value\":\"/team/decisions/resources\"}},[_c('resources')],1)],1)],1):_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(!_vm.loading)?_c('div',[_c('v-row',{staticClass:\"my-2 subtitle-2 secondary--text pl-12\"},[_vm._v(\" Products \")]),_c('v-row',{staticClass:\"subtitle-2 mx-8\",attrs:{\"no-gutters\":\"\"}},_vm._l((_vm.headers),function(item,i){return _c('v-col',{key:i,staticClass:\"tabCell\",class:item.style},[_vm._v(\" \"+_vm._s(item.title)+\" \")])}),1),(_vm.products?.length > 0)?_c('div',[_c('v-expansion-panels',{attrs:{\"focusable\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.modelsByTrademark),function(item){return _c('v-expansion-panel',{key:item.trademarkId},[_c('v-expansion-panel-header',{staticClass:\"font-weight-bold secondary--text\"},[_vm._v(\" \"+_vm._s(item.trademark)+\" \")]),_c('v-expansion-panel-content',{staticClass:\"body-2\"},[_vm._l((item.models),function(product){return _c('div',{key:product.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(product.model))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.stringMonth(product.available_from)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.stringMonth(product.available_till)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.status(product)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.material))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.manufacturing))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.design_type))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.design))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.variations))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.advanced_feature))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.unit_cost))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(product.investments)))]),(_vm.status(product) == 'available')?_c('v-col',{staticClass:\"text-right\"},[_c('upgrade-model',{attrs:{\"product\":product}}),_c('delete-product',{attrs:{\"product\":product}})],1):_c('v-col',{staticClass:\"text-right\"},[_c('delete-product',{attrs:{\"product\":product}})],1)],1),_c('v-divider')],1)}),_c('v-row',{staticClass:\"my-4 mx-8\",attrs:{\"justify\":\"end\"}},[_c('add-model',{attrs:{\"brand\":item}})],1)],2)],1)}),1)],1):_c('v-row',{staticClass:\"mt-8 px-4\"},[_vm._v(\" You haven't products yet! \")]),_c('div',{staticClass:\"my-4 ml-12 text-start\"},[_c('add-brand')],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"scrollable\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase mr-4\",attrs:{\"color\":\"secondary\",\"dark\":\"\",\"small\":\"\"}},on),[_vm._v(\" add model \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-spacer'),_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Add new model to the trademark \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.trademark))])]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"model name\",\"name\":\"name\",\"type\":\"text\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.validName()}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"material\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.material),callback:function ($$v) {_vm.material=_vm._n($$v)},expression:\"material\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"manufacturing\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.manufacturing),callback:function ($$v) {_vm.manufacturing=_vm._n($$v)},expression:\"manufacturing\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.items,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"design type\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.designType),callback:function ($$v) {_vm.designType=$$v},expression:\"designType\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"design level\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.design),callback:function ($$v) {_vm.design=_vm._n($$v)},expression:\"design\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"variations\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.variations),callback:function ($$v) {_vm.variations=_vm._n($$v)},expression:\"variations\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"return-object\":\"\",\"item-text\":\"text\",\"item-value\":\"value\",\"items\":_vm.features,\"clearable\":true,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"advanced feature\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.advanced_feature),callback:function ($$v) {_vm.advanced_feature=$$v},expression:\"advanced_feature\"}})],1)],1)],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! error: \"+_vm._s(_vm.error))]):_vm._e(),_c('v-row',{staticClass:\"text-pre-wrap mx-2\",attrs:{\"justify\":\"start\"}},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"loading\":_vm.loading,\"disabled\":!_vm.valid || _vm.loading || _vm.calculating || Boolean(_vm.error)},on:{\"click\":_vm.calculate}},[_vm._v(\"Calculate\")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.calculating || Boolean(_vm.error)},on:{\"click\":_vm.addModel}},[_vm._v(\"Save\")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent scrollable max-width=\"600px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase mr-4\" \r\n\t\t\t\tdark small v-on=\"on\">\r\n\t\t\t\tadd model\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tAdd new model to the trademark <span class=\"secondary--text\">{{ trademark }}</span>\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"model name\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"name\"\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"validName()\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\t\tv-model.number=\"material\"\r\n\t\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"material\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\t\tv-model.number=\"manufacturing\"\r\n\t\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"manufacturing\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\t\tv-model=\"designType\"\r\n\t\t\t\t\t\t\t\t\t:items=\"items\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"design type\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\t\tv-model.number=\"design\"\r\n\t\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"design level\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\t\tv-model.number=\"variations\"\r\n\t\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"variations\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\t\treturn-object\r\n\t\t\t\t\t\t\t\t\titem-text=\"text\"\r\n\t\t\t\t\t\t\t\t\titem-value=\"value\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"advanced_feature\"\r\n\t\t\t\t\t\t\t\t\t:items=\"features\"\r\n\t\t\t\t\t\t\t\t\t:clearable=true\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"advanced feature\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! error: {{error}}</v-row>\r\n\t\t\t\t<v-row justify=\"start\" class=\"text-pre-wrap mx-2\">\r\n\t\t\t\t\t{{message}}\r\n\t\t\t\t</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:loading=\"loading\" \r\n\t\t\t\t\t:disabled=\"!valid || loading || calculating || Boolean(error)\"\r\n\t\t\t\t\t@click=\"calculate\"\r\n\t\t\t\t>Calculate</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!calculating || Boolean(error)\"\r\n\t\t\t\t\t@click=\"addModel\"\r\n\t\t\t\t\t>Save</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" @click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport { UnitCost, Investments, AvailabilityFrom } from '../../../functions/product';\r\nimport { PromoCodeGenerator, getMonth, localeNumber } from '../../../functions/common';\r\n\r\n\texport default {\r\n\t\tprops: ['brand'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false,\r\n\t\t\t\tvalid: false,\r\n\t\t\t\tmessage: '',\r\n\t\t\t\terror: '',\r\n\t\t\t\tcalculating: false,\r\n\t\t\t\ttrademark: this.brand.trademark,\r\n\t\t\t\tid: this.brand.id,\r\n\t\t\t\trules: {\r\n\t\t\t\t\trequired: value => !!value || 'required field',\r\n\t\t\t\t},\r\n\t\t\t\titems: ['classic', 'business', 'casual', 'innovative', 'art'],\r\n\t\t\t\tlevelItems: [1, 2, 3, 4, 5],\r\n\t\t\t\tname: '',\r\n\t\t\t\tmaterial: 1,\r\n\t\t\t\tmanufacturing: 1,\r\n\t\t\t\tdesignType: '',\r\n\t\t\t\tadvanced_feature: {},\r\n\t\t\t\tdesign: 1,\r\n\t\t\t\tvariations: 1,\r\n\r\n\t\t\t\tinvestments: 0,\r\n\t\t\t\tunit_cost: 0,\r\n\t\t\t\tavailable_from: 1,\r\n\t\t\t\tavailable_till: 12,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tlocale() {\r\n\t\t\treturn this.$store.getters.locale;\r\n\t\t\t},\r\n\t\t\tgame() {\r\n\t\t\t\treturn this.$store.getters.game;\r\n\t\t\t},\r\n\t\t\tuser() {\r\n\t\t\t\treturn this.$store.getters.user;\r\n\t\t\t},\r\n\t\t\tfeatures() {\r\n\t\t\t\treturn this.$store.getters.FEATURES;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\tcalculate () {\r\n\t\t\t\tthis.calculating = true\t\r\n\t\t\t\tif(this.$refs.form.validate()) {\r\n\t\t\t\t/* new model parameters \r\n\t\t\t\t\t@unitCost\r\n\t\t\t\t\t@r&dInvestments\r\n\t\t\t\t\t@r&dTime (completion) \r\n\t\t\t\t*/\r\n\t\t\t\t\r\n\t\t\t\t\tif (!this.advanced_feature.text) {\r\n\t\t\t\t\t\tthis.unit_cost = UnitCost(this.material, this.manufacturing, this.variations)\r\n\t\t\t\t\t\tthis.investments = Investments(this.material, this.manufacturing, this.variations, this.design)\r\n\t\t\t\t\t\tthis.available_from = AvailabilityFrom(this.material, this.manufacturing, this.variations, this.design)\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis.unit_cost = UnitCost(\r\n\t\t\t\t\t\t\tthis.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\t\tthis.investments = Investments(this.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\t\tthis.design,\r\n\t\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\t\tthis.available_from = AvailabilityFrom(this.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\t\tthis.design,\r\n\t\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.message = `Please, mention the figures:\r\n\t\t\t\t\t\tmodel ${this.name} will be available from ${getMonth(this.available_from)},\r\n\t\t\t\t\t\tinvestments = $${localeNumber(this.investments, this.locale)},\r\n\t\t\t\t\t\tunit cost = $${this.unit_cost}.\r\n\t\t\t\t\tif you agree, press the button Save, else - press Close`\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.calculating = true;\r\n\t\t\t\t}\t\t\r\n\t\t\t},\r\n\t\t\tonceMore () {\r\n\t\t\t\tthis.message = ''\r\n\t\t\t\tthis.error = ''\r\n\t\t\t\tthis.calculating = false\r\n\t\t\t},\r\n\t\t\tvalidName() {\r\n\t\t\t\tconst inbrand = this.brand.models.find(mod => mod.model == this.name);\r\n\t\t\t\tif (inbrand) {\r\n\t\t\t\t\tthis.error = `model name ${this.name} has already been used`;\r\n\t\t\t\t\tthis.message = '';\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.onceMore();\r\n\t\t\t\t}\r\n\t\t\t}, \r\n\t\t\tasync addModel () {\r\n\r\n\t\t\t\tlet af = '';\r\n\t\t\t\tif (this.advanced_feature?.text) {\r\n\t\t\t\t\taf = this.advanced_feature.text;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst id = '_' + PromoCodeGenerator(9);\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name);\r\n\r\n\t\t\t\tconst prod = {\r\n\t\t\t\t\tgameId: this.game.id,\r\n\t\t\t\t\tround: this.game.round,\r\n\t\t\t\t\tproductId: id,\r\n\t\t\t\t\ttrademark: this.trademark,\r\n\t\t\t\t\tmodel: this.name,\r\n\t\t\t\t\tavailable_from: this.available_from,\r\n\t\t\t\t\tavailable_till: this.available_till,\r\n\t\t\t\t\tmaterial: this.material,\r\n\t\t\t\t\tmanufacturing: this.manufacturing,\r\n\t\t\t\t\tdesign_type: this.designType,\r\n\t\t\t\t\tdesign: this.design,\r\n\t\t\t\t\tvariations: this.variations,\r\n\t\t\t\t\tadvanced_feature: af,\r\n\t\t\t\t\tteamId: team.id, \r\n\t\t\t\t\tinvestments: this.investments,\r\n\t\t\t\t\tunit_cost: this.unit_cost,\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(prod)\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//add product\r\n\t\t\t\t\tawait this.$store.dispatch('addProduct', prod);\r\n\t\t\t\t\tthis.closeDialog();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tthis.$store.dispatch('setError', error.message)//throw error\r\n\t\t\t\t}\r\n\t\t\t\tthis.closeDialog ();\t\t\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t\tthis.calculating = false\r\n\t\t\t\tthis.message = ''\r\n\t\t\t\tthis.error = ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addModel.vue?vue&type=template&id=2c0b473e&\"\nimport script from \"./addModel.vue?vue&type=script&lang=js&\"\nexport * from \"./addModel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-lead-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"upgrade model\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-spacer'),_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Change parameters of the \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(\" \"+_vm._s(_vm.product.trademark.name)+\" \"+_vm._s(_vm.product.model))])]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"material\",\"name\":\"material\",\"type\":\"text\",\"rules\":[_vm.rules.number, _vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.material),callback:function ($$v) {_vm.material=_vm._n($$v)},expression:\"material\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"manufacturing\",\"name\":\"manufacturing\",\"type\":\"text\",\"rules\":[_vm.rules.number, _vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.manufacturing),callback:function ($$v) {_vm.manufacturing=_vm._n($$v)},expression:\"manufacturing\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"variations\",\"name\":\"variations\",\"type\":\"text\",\"rules\":[_vm.rules.number, _vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.variations),callback:function ($$v) {_vm.variations=_vm._n($$v)},expression:\"variations\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"return-object\":\"\",\"item-text\":\"text\",\"item-value\":\"value\",\"items\":_vm.features,\"clearable\":true,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"advanced feature\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1)],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e(),_c('v-row',{staticClass:\"text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"loading\":_vm.loading,\"disabled\":!_vm.valid || _vm.loading || _vm.calculating || Boolean(_vm.error)},on:{\"click\":_vm.calculate}},[_vm._v(\" Calculate \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.calculating || Boolean(_vm.error)},on:{\"click\":_vm.upgradeModel}},[_vm._v(\" Save \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent max-width=\"600px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t<v-icon small v-on=\"on\">mdi-lead-pencil</v-icon>\r\n\t\t\t\t</template>\r\n\t\t\t\t<span>upgrade model</span>\r\n\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tChange parameters of the <span class=\"secondary--text\"> {{ product.trademark.name }} {{ product.model }}</span>\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"material\"\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"material\"\r\n\t\t\t\t\t\t\t\t\tname=\"material\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.number, rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"manufacturing\"\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"manufacturing\"\r\n\t\t\t\t\t\t\t\t\tname=\"manufacturing\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.number, rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"variations\"\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"variations\"\r\n\t\t\t\t\t\t\t\t\tname=\"variations\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.number, rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\t\treturn-object\r\n\t\t\t\t\t\t\t\t\titem-text=\"text\"\r\n\t\t\t\t\t\t\t\t\titem-value=\"value\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"selected\"\r\n\t\t\t\t\t\t\t\t\t:items=\"features\"\r\n\t\t\t\t\t\t\t\t\t:clearable=true\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"advanced feature\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t\t<v-row justify=\"center\" class=\"text-pre-wrap mx-2\">{{message}}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:loading=\"loading\" \r\n\t\t\t\t\t:disabled=\"!valid || loading || calculating || Boolean(error)\"\r\n\t\t\t\t\t@click=\"calculate\">\r\n\t\t\t\t\tCalculate\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!calculating || Boolean(error)\"\r\n\t\t\t\t\t@click=\"upgradeModel\">\r\n\t\t\t\t\tSave\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" @click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue'\r\nimport { UnitCost, UpgradeInvestments, UpgradeAvailabilityFrom } from '../../../functions/product';\r\nimport { getMonth, localeNumber, PromoCodeGenerator } from '../../../functions/common';\r\n\r\n\texport default {\r\n\t\tprops: ['product'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false,\r\n\t\t\t\tvalid: false,\r\n\t\t\t\tmessage: '',\r\n\t\t\t\terror: '',\r\n\t\t\t\tcalculating: false,\r\n\t\t\t\ttrademark: this.product.trademark,\r\n\t\t\t\tname: this.product.model,\r\n\t\t\t\tid: this.product.id,\r\n\t\t\t\trules: {\r\n\t\t\t\t\trequired: value => !!value || 'required field',\r\n\t\t\t\t\tnumber: v => /^[+]?[1-5]/.test(v) || 'it\\'s expected number from 1 to 5'\r\n\t\t\t\t},\r\n\t\t\t\tfeatures: [\r\n\t\t\t\t\t{ text: 'positioning tracker', value: 1 },\r\n\t\t\t\t\t{ text: 'power bank', value: 2 },\r\n\t\t\t\t\t{ text: 'missed items warning', value: 3 },\r\n\t\t\t\t\t{ text: 'danger alarm', value: 4 },\r\n\t\t\t\t\t{ text: 'fridge camera', value: 5 },\r\n\t\t\t\t\t{ text: 'individual pictures', value: 6 },\r\n\t\t\t\t\t{ text: 'against loss insurance', value: 7 },\r\n\t\t\t\t\t{ text: 'environment friendly utilization', value: 8 },\r\n\t\t\t\t\t{ text: 'charity profit sharing', value: 9 }\r\n\t\t\t\t],\r\n\t\t\t\tmaterial: this.product.material,\r\n\t\t\t\tmanufacturing: this.product.manufacturing,\r\n\t\t\t\tadvanced_feature: {},\r\n\t\t\t\tvariations: this.product.variations,\r\n\t\t\t\r\n\t\t\t\tinvestments: 0,\r\n\t\t\t\tunit_cost: 0,\r\n\t\t\t\tavailable_from: 1,\r\n\t\t\t\tavailable_till: 12,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tproducts() {\r\n\t\t\t\treturn this.$store.getters.products;\r\n\t\t\t},\r\n\t\t\tselected: {\r\n\t\t\t\tget() {\r\n\t\t\t\t\treturn this.advanced_feature\r\n\t\t\t\t},\r\n\t\t\t\tset(val) {\r\n\t\t\t\t\treturn this.advanced_feature = val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcalculate () {\r\n\t\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\t\t/* new model parameters \r\n\t\t\t\t\t\t@unitCost\r\n\t\t\t\t\t\t@r&dInvestments\r\n\t\t\t\t\t\t@r&dTime (completion) \r\n\t\t\t\t\t*/\r\n\t\t\t\t\tif (this.material == this.product.material &&\r\n\t\t\t\t\t\tthis.manufacturing == this.product.manufacturing &&\r\n\t\t\t\t\t\tthis.variations == this.product.variations &&\r\n\t\t\t\t\t\tthis.advanced_feature?.text == this.product.advanced_feature) {\r\n\t\t\t\t\t\t\treturn this.error = 'no parameters have been changed'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (!this.advanced_feature/*  || this.advanced_feature.text == this.product.advanced_feature */) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.unit_cost = UnitCost(this.material, this.manufacturing, this.variations)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.investments = UpgradeInvestments(\r\n\t\t\t\t\t\t\tthis.product.material,\r\n\t\t\t\t\t\t\tthis.product.manufacturing,\r\n\t\t\t\t\t\t\tthis.product.variations,\r\n\t\t\t\t\t\t\tthis.product.design,\r\n\t\t\t\t\t\t\tthis.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.variations)\r\n\t\t\t\t\t\tthis.available_from = UpgradeAvailabilityFrom(\r\n\t\t\t\t\t\t\tthis.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.product.variations,\r\n\t\t\t\t\t\t\tthis.variations) //mat, man, v_prev, v, feature = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\tthis.unit_cost = UnitCost(\r\n\t\t\t\t\t\t\tthis.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.investments = UpgradeInvestments(\r\n\t\t\t\t\t\t\tthis.product.material,\r\n\t\t\t\t\t\t\tthis.product.manufacturing,\r\n\t\t\t\t\t\t\tthis.product.variations,\r\n\t\t\t\t\t\t\tthis.product.design,\r\n\t\t\t\t\t\t\tthis.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.available_from = UpgradeAvailabilityFrom(\r\n\t\t\t\t\t\t\tthis.material,\r\n\t\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\t\tthis.product.variations,\r\n\t\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.message = `Please, mention the figures:\r\n\t\t\t\t\t\t\tupgraded model ${this.name} \r\n\t\t\t\t\t\t\twill be available from ${getMonth(this.available_from)},\r\n\t\t\t\t\t\t\tinvestments = $${localeNumber(this.investments, this.locale)},\r\n\t\t\t\t\t\t\tunit cost = $${this.unit_cost}.\r\n\t\t\t\t\t\tif you agree, press the button Save, else - press Close`\r\n\r\n\t\t\t\t\tthis.calculating = true;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t},\r\n\t\t\tonceMore () {\r\n\t\t\t\tthis.calculating = false\r\n\t\t\t\tthis.message = ''\r\n\t\t\t\tthis.error = ''\r\n\t\t\t},\r\n\t\t\tasync upgradeModel () {\r\n\t\t\t\t\r\n\t\t\t\t//add upgraded model\r\n\t\t\t\tlet af = '';\r\n\t\t\t\tif (this.advanced_feature?.text) {\r\n\t\t\t\t\taf = this.advanced_feature.text;\r\n\t\t\t\t}\r\n\t\t\t\tconst id = '_' + PromoCodeGenerator(9);\r\n\r\n\t\t\t\tconst prod = {\r\n\t\t\t\t\tgameId: this.product.gameId,\r\n\t\t\t\t\tround: this.product.round,\r\n\t\t\t\t\tproductId: id,\r\n\t\t\t\t\ttrademark: this.product.trademark.name,\r\n\t\t\t\t\tmodel: this.name + '_upgraded',\r\n\t\t\t\t\tavailable_from: this.available_from,\r\n\t\t\t\t\tavailable_till: this.available_till,\r\n\t\t\t\t\tmaterial: this.material,\r\n\t\t\t\t\tmanufacturing: this.manufacturing,\r\n\t\t\t\t\tdesign_type: this.product.design_type,\r\n\t\t\t\t\tdesign: this.product.design,\r\n\t\t\t\t\tvariations: this.variations,\r\n\t\t\t\t\tadvanced_feature: af,\r\n\t\t\t\t\tteamId: this.product.team.id,\r\n\t\t\t\t\tinvestments: this.investments,\r\n\t\t\t\t\tunit_cost: this.unit_cost,\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//add product\r\n\t\t\t\t\tawait this.$store.dispatch('addProduct', prod);\r\n\t\t\t\t\tthis.closeDialog();\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tthis.$store.dispatch('setError', error.message)//throw error\r\n\t\t\t\t} \r\n\t\t\t\t\r\n\t\t\t\t// edit old model\r\n\t\t\t\tconst suff = this.product.model.split('_')[0];\r\n\t\t\t\tconst product = this.products?.find((prod) => (prod.model == suff && prod.trademarkId == this.product.trademarkId));\r\n\t\t\t\tif (product) {\r\n\t\t\t\t\t// edit old model\r\n\t\t\t\t\tconst upgraded = {\r\n\t\t\t\t\t\t...product, available_till: this.available_from - 1 }\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.$store.dispatch('editProduct', upgraded);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (error) {\r\n\t\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.closeDialog();\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t\tthis.calculating = false\r\n\t\t\t\tthis.message = ''\r\n\t\t\t\tthis.error = ''\r\n\t\t\t\t//props\r\n\t\t\t\tthis.material = this.product.material\r\n\t\t\t\tthis.manufacturing = this.product.manufacturing\r\n\t\t\t\tthis.variations = this.product.variations\r\n\t\t\t\tif (this.product && this.features) {\r\n\t\t\t\t\tlet val = this.features.find(item => item.text == this.product.advanced_feature)\r\n\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\tval = val.value\r\n\t\t\t\t\t\tthis.advanced_feature = {\r\n\t\t\t\t\t\t\ttext: this.product.advanced_feature,\r\n\t\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader},\r\n\t\tmounted() {\r\n\t\t\tif (this.product && this.features) {\r\n\t\t\t\tlet val = this.features.find(item => item.text == this.product.advanced_feature)\r\n\t\t\t\tif(val) {\r\n\t\t\t\t\tval = val.value\r\n\t\t\t\t\tthis.advanced_feature = {\r\n\t\t\t\t\t\ttext: this.product.advanced_feature,\r\n\t\t\t\t\t\tvalue: val,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upgradeModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upgradeModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upgradeModel.vue?vue&type=template&id=20e28d51&\"\nimport script from \"./upgradeModel.vue?vue&type=script&lang=js&\"\nexport * from \"./upgradeModel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"450px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"delete model\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-spacer'),_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Do you really want to delete the model \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.product.trademark.name)+\" \"+_vm._s(_vm.product.model)+\" \")]),_vm._v(\"? \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"error--text text-justify\"},[_vm._v(\" Warrning: if you have only one model in a trademark, you will delete the model and the trademark \")]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.deleteProduct}},[_vm._v(\" Yes \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" No \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" max-width=\"450px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">mdi-delete</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>delete model</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tDo you really want to delete \r\n\t\t\t\tthe model <span class=\"secondary--text\">{{product.trademark.name}} {{ product.model }} </span>?\t\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-text class=\"error--text text-justify\">\r\n\t\t\t\tWarrning: if you have only one model in a trademark, you will delete the model and the trademark\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"error\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"deleteProduct\">\r\n\t\t\t\t\tYes\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tNo\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader />\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\n\texport default {\r\n\t\tprops: ['product'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tproducts () {\r\n\t\t\t\treturn this.$store.getters.products;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\tasync deleteProduct () {\r\n\t\t\t\tconst suff = this.product.model.split('_')[0];\r\n\t\t\t\tif (suff) {\r\n\t\t\t\t\t//update parent product\r\n\t\t\t\t\tconst product = this.products?.find((prod) => (prod.model == suff && prod.trademarkId == this.product.trademarkId));\r\n\t\t\t\t\tif (product) {\r\n\t\t\t\t\t\t// edit old model\r\n\t\t\t\t\t\tconst upgraded = {\r\n\t\t\t\t\t\t\t...product,\r\n\t\t\t\t\t\t\tavailable_till: 12\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait this.$store.dispatch('editProduct', upgraded);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (error) {\r\n\t\t\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('deleteProduct', this.product.id);\r\n\t\t\t\t}\r\n\t\t\t\tcatch(error) {\r\n\t\t\t\t\tconsole.log(error.message)\r\n\t\t\t\t}\t\r\n\t\t\t\tthis.closeDialog ()\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: { Loader }\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteModel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteModel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deleteModel.vue?vue&type=template&id=1d64b453&\"\nimport script from \"./deleteModel.vue?vue&type=script&lang=js&\"\nexport * from \"./deleteModel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"scrollable\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"dark\":\"\",\"small\":\"\"}},on),[_vm._v(\" add trademark \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-spacer'),_c('v-card-title',{staticClass:\"subtitle-2 pt-6\"},[_vm._v(\" New trademark & model parameters \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"trademark\",\"name\":\"trademark\",\"type\":\"text\",\"rules\":[_vm.rules.required]},model:{value:(_vm.trademark),callback:function ($$v) {_vm.trademark=$$v},expression:\"trademark\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"model name\",\"name\":\"name\",\"type\":\"text\",\"rules\":[_vm.rules.required]},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"material\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.material),callback:function ($$v) {_vm.material=_vm._n($$v)},expression:\"material\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"manufacturing\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.manufacturing),callback:function ($$v) {_vm.manufacturing=_vm._n($$v)},expression:\"manufacturing\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{staticClass:\"text-left\",attrs:{\"dense\":\"\",\"items\":_vm.items,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"design type\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.design_type),callback:function ($$v) {_vm.design_type=$$v},expression:\"design_type\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"design level\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.design),callback:function ($$v) {_vm.design=_vm._n($$v)},expression:\"design\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.levelItems,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"variations\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.variations),callback:function ($$v) {_vm.variations=$$v},expression:\"variations\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"return-object\":\"\",\"item-text\":\"text\",\"item-value\":\"value\",\"items\":_vm.features,\"clearable\":true,\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"advanced feature\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.advanced_feature),callback:function ($$v) {_vm.advanced_feature=$$v},expression:\"advanced_feature\"}})],1)],1)],1)],1),_c('v-row',{staticClass:\"mx-2 error\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.error))]),_c('v-row',{staticClass:\"text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"loading\":_vm.loading,\"disabled\":_vm.calculating || !_vm.valid || _vm.loading || Boolean(_vm.error)},on:{\"click\":_vm.calculate}},[_vm._v(\" Calculate \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.calculating || Boolean(_vm.error)},on:{\"click\":_vm.addBrand}},[_vm._v(\" Save \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent scrollable max-width=\"600px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" dark small v-on=\"on\">\r\n\t\t\t\tadd trademark\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6\">\r\n\t\t\t\tNew trademark & model parameters \t\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"trademark\"\r\n\t\t\t\t\t\t\t\tv-model=\"trademark\"\r\n\t\t\t\t\t\t\t\tname=\"trademark\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"model name\"\r\n\t\t\t\t\t\t\t\tv-model=\"name\"\r\n\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\tv-model.number=\"material\"\r\n\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"material\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\tv-model.number=\"manufacturing\"\r\n\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"manufacturing\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\tclass=\"text-left\"\r\n\t\t\t\t\t\t\t\tv-model=\"design_type\"\r\n\t\t\t\t\t\t\t\t:items=\"items\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"design type\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\tv-model.number=\"design\"\r\n\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"design level\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\tv-model=\"variations\"\r\n\t\t\t\t\t\t\t\t:items=\"levelItems\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"variations\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\treturn-object\r\n\t\t\t\t\t\t\t\titem-text=\"text\"\r\n\t\t\t\t\t\t\t\titem-value=\"value\"\r\n\t\t\t\t\t\t\t\tv-model=\"advanced_feature\"\r\n\t\t\t\t\t\t\t\t:items=\"features\"\r\n\t\t\t\t\t\t\t\t:clearable=true\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"advanced feature\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row justify=\"center\" class=\"mx-2 error\">{{error}}</v-row>\r\n\t\t\t\t<v-row justify=\"center\" class=\"text-pre-wrap mx-2\">{{message}}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:loading=\"loading\"\r\n\t\t\t\t\t:disabled=\"calculating || !valid || loading || Boolean(error)\"\r\n\t\t\t\t\t@click=\"calculate\">\r\n\t\t\t\t\tCalculate\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!calculating || Boolean(error)\"\r\n\t\t\t\t\t@click=\"addBrand\">\r\n\t\t\t\t\tSave\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text \r\n\t\t\t\t\tclass=\"text-capitalize\" \r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport { UnitCost, Investments, AvailabilityFrom } from '../../../functions/product';\r\nimport { PromoCodeGenerator, getMonth, localeNumber } from '../../../functions/common';\r\n\t\r\nexport default {\r\n\tdata () {\r\n\t\treturn\t{\r\n\t\t\tdialog: false,\r\n\t\t\tvalid: false,\r\n\t\t\tmessage: '',\r\n\t\t\terror: '',\r\n\t\t\tcalculating: false,\r\n\t\t\t\t\r\n\t\t\trules: {\r\n\t\t\t\trequired: value => !!value || 'required field',\r\n\t\t\t\tnumber: v => /^[+]?[1-5]/.test(v) || 'it\\'s expected number from 1 to 5'\r\n\t\t\t},\r\n\t\t\t//props\r\n\t\t\ttrademark: '',\r\n\t\t\tname: '',\r\n\t\t\tmaterial: 1,\r\n\t\t\tmanufacturing: 1,\r\n\t\t\tdesign_type: '',\r\n\t\t\tadvanced_feature: {},\r\n\t\t\tdesign: 1,\r\n\t\t\tvariations: 1,\r\n\t\t\tavailable_from: 1,\r\n\t\t\tavailable_till: 12,\r\n\r\n\t\t\tlevelItems: [1, 2, 3, 4, 5],\r\n\t\t\t\t\r\n\t\t\t//calculating props\r\n\t\t\tinvestments: 0,\r\n\t\t\tunit_cost: 0,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tloading () {\r\n\t\t\treturn this.$store.getters.loading\r\n\t\t},\r\n\t\tlocale() {\r\n\t\t\treturn this.$store.getters.locale;\r\n\t\t},\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user;\r\n\t\t},\r\n\t\tgame() {\r\n\t\t\treturn this.$store.getters.game;\r\n\t\t},\r\n\t\tfeatures() {\r\n\t\t\treturn this.$store.getters.FEATURES;\r\n\t\t},\r\n\t\titems() {\r\n\t\t\treturn this.$store.getters.DESIGN_TYPES;\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tcalculate () {\r\n\t\t\tif(this.$refs.form.validate()) {\r\n\t\t\t/* new model parameters \r\n\t\t\t\t@unitCost\r\n\t\t\t\t@r&dInvestments\r\n\t\t\t\t@r&dTime (completion)\r\n\t\t\t*/\r\n\t\t\t\tif (!this.advanced_feature.text) {\r\n\t\t\t\t\tthis.unit_cost = UnitCost(this.material, this.manufacturing, this.variations)\r\n\t\t\t\t\tthis.investments = Investments(this.material, this.manufacturing, this.variations, this.design)\r\n\t\t\t\t\tthis.available_from = AvailabilityFrom(this.material, this.manufacturing, this.variations, this.design)\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.unit_cost = UnitCost(\r\n\t\t\t\t\t\tthis.material,\r\n\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\tthis.investments = Investments(this.material,\r\n\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\tthis.design,\r\n\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t\tthis.available_from = AvailabilityFrom(this.material,\r\n\t\t\t\t\t\tthis.manufacturing,\r\n\t\t\t\t\t\tthis.variations,\r\n\t\t\t\t\t\tthis.design,\r\n\t\t\t\t\t\tthis.advanced_feature.value);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.message = `Please, mention the figures:\r\n\t\t\t\t\tmodel ${this.name} will be available from ${getMonth(this.available_from)},\r\n\t\t\t\t\tinvestments = $${localeNumber(this.investments, this.locale)},\r\n\t\t\t\t\tunit cost = $${this.unit_cost}.\r\n\t\t\t\t\tif you agree, press the button Save, else - press Close`\r\n\r\n\t\t\t\tthis.calculating = true;\t\r\n\t\t\t}\t\t\r\n\t\t},\r\n\t\tonceMore () {\r\n\t\t\tthis.message = ''\r\n\t\t\tthis.error = ''\r\n\t\t\tthis.calculating = false\r\n\t\t},\r\n\t\t\t\r\n\t\tasync addBrand () {\r\n\t\t\t\t\r\n\t\t\tlet af = '';\r\n\t\t\tif (this.advanced_feature?.text) {\r\n\t\t\t\taf = this.advanced_feature.text;\r\n\t\t\t}\r\n\r\n\t\t\tconst id = '_' + PromoCodeGenerator(9);\r\n\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\tconst team = this.game.teams.find(te => te.name == name);\r\n\r\n\t\t\tconst prod = {\r\n\t\t\t\tgameId: this.game.id,\r\n\t\t\t\tround: this.game.round,\r\n\t\t\t\tproductId: id,\r\n\t\t\t\ttrademark: this.trademark,\r\n\t\t\t\tmodel: this.name,\r\n\t\t\t\tavailable_from: this.available_from,\r\n\t\t\t\tavailable_till: this.available_till,\r\n\t\t\t\tmaterial: this.material,\r\n\t\t\t\tmanufacturing: this.manufacturing,\r\n\t\t\t\tdesign_type: this.design_type,\r\n\t\t\t\tdesign: this.design,\r\n\t\t\t\tvariations: this.variations,\r\n\t\t\t\tadvanced_feature: af,\r\n\t\t\t\tteamId: team.id,\r\n\t\t\t\tinvestments: this.investments,\r\n\t\t\t\tunit_cost: this.unit_cost,\r\n\t\t\t\tteam: team,\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('addProduct', prod)\r\n\t\t\t\tthis.closeDialog ()\r\n\t\t\t}\t\t\t\r\n\t\t\tcatch (error) {\r\n\t\t\t\tthis.error = error.message\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseDialog () {\r\n\t\t\t//reset\r\n\t\t\tthis.dialog = false\r\n\t\t\tthis.calculating = false\r\n\t\t\tthis.message = ''\r\n\t\t\tthis.error = ''\r\n\t\t}\r\n\t},\r\n\tcomponents: {Loader}\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addBrand.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addBrand.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addBrand.vue?vue&type=template&id=22cf8a3c&\"\nimport script from \"./addBrand.vue?vue&type=script&lang=js&\"\nexport * from \"./addBrand.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<v-container fluid>\r\n\t\t<div v-if=\"!loading\">\r\n\t\t\t<v-row class=\"my-2 subtitle-2 secondary--text pl-12\">\r\n\t\t\t\tProducts\r\n\t\t\t</v-row>\r\n\t\t\t<!--table head-->\t\t\t\r\n\t\t\t<v-row class=\"subtitle-2 mx-8\" no-gutters>\r\n\t\t\t\t<v-col v-for=\"(item, i) in headers\" :key=\"i\" \r\n\t\t\t\t\tclass=\"tabCell\"\r\n\t\t\t\t\t:class=\"item.style\">\r\n\t\t\t\t\t{{ item.title }}\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<div v-if=\"products?.length > 0\">\r\n\t\t\t\t<!-- products tab -->\r\n\t\t\t\t<v-expansion-panels focusable v-model=\"tab\">\r\n\t\t\t\t\t<v-expansion-panel v-for=\"item in modelsByTrademark\" :key=\"item.trademarkId\">\r\n\t\t\t\t\t\t<v-expansion-panel-header class=\"font-weight-bold secondary--text\">\r\n\t\t\t\t\t\t\t<!-- trademark-->\r\n\t\t\t\t\t\t\t{{ item.trademark }}\r\n\t\t\t\t\t\t</v-expansion-panel-header>\r\n\t\t\t\t\t\t<v-expansion-panel-content class=\"body-2\">\r\n\t\t\t\t\t\t\t<!--- models -->\r\n\t\t\t\t\t\t\t<div v-for=\"product in item.models\" :key=\"product.id\">\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ product.model }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ stringMonth(product.available_from) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ stringMonth(product.available_till) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ status(product) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.material }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.manufacturing }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.design_type }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.design }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.variations }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.advanced_feature }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.unit_cost }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(product.investments) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-if=\"status(product) == 'available'\" class=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<upgrade-model :product=\"product\" />\r\n\t\t\t\t\t\t\t\t\t\t<delete-product :product=\"product\" /> \r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-else class=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<delete-product :product=\"product\" /> \r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!--add model component-->\r\n\t\t\t\t\t\t<v-row class=\"my-4 mx-8\" justify=\"end\">\r\n\t\t\t\t\t\t\t<add-model :brand=\"item\" />\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\r\n\t\t\t\t\t\t</v-expansion-panel-content>\r\n\t\t\t\t\t</v-expansion-panel>\r\n\t\t\t\t</v-expansion-panels>\r\n\t\t\t</div>\r\n\t\t\t<v-row v-else class=\"mt-8 px-4\">\r\n\t\t\t\tYou haven't products yet!\r\n\t\t\t</v-row>\r\n\t\t\t<div class=\"my-4 ml-12 text-start\">\r\n\t\t\t\t<add-brand />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!--!loading-->\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-container>\r\n</template>\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport AddModel from '../../../components/team/products/addModel.vue';\r\nimport UpgradeModel from '../../../components/team/products/upgradeModel.vue';\r\nimport DeleteProduct from '../../../components/team/products/deleteModel.vue';\r\nimport AddBrand from '../../../components/team/products/addBrand.vue';\r\n\r\nimport { getMonth, localeNumber } from '../../../functions/common';\r\n\r\nexport default {\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\theaders: [\r\n\t\t\t\t{ title: 'Product', style: 'text-left' },\r\n\t\t\t\t{ title: 'Available in (month)', style: 'text-center' },\r\n\t\t\t\t{ title: 'Available to (month)', style: 'text-center' },\r\n\t\t\t\t{ title: 'Status', style: 'text-center' },\r\n\t\t\t\t{ title: 'Material', style: 'text-center' },\r\n\t\t\t\t{ title: 'Manufacturing', style: 'text-center' },\r\n\t\t\t\t{ title: 'Type of design', style: 'text-center' },\r\n\t\t\t\t{ title: 'Design level', style: 'text-center' },\r\n\t\t\t\t{ title: 'Model variations', style: 'text-center' },\r\n\t\t\t\t{ title: 'Advanced feature', style: 'text-center' },\r\n\t\t\t\t{ title: 'Unit cost', style: 'text-center' },\r\n\t\t\t\t{ title: 'R&D investments', style: 'text-center' },\r\n\t\t\t\t{ title: 'Action', style: 'text-right' },\r\n\t\t\t],\r\n\t\t\ttab: 0,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tloading() {\r\n\t\t\treturn this.$store.getters.loading\r\n\t\t},\r\n\t\tlocale() {\r\n\t\t\treturn this.$store.getters.locale;\r\n\t\t},\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user;\r\n\t\t},\r\n\t\tgame() {\r\n\t\t\treturn this.$store.getters.game;\r\n\t\t},\r\n\t\tproducts() {\r\n\t\t\treturn this.$store.getters.products;\r\n\t\t},\r\n\t\tmodelsByTrademark() {\r\n\t\t\tconst trademarks = [];\r\n\t\t\tif (this.products?.length > 0) {\r\n\t\t\t\ttrademarks.push(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttrademarkId: this.products[0].trademarkId,\r\n\t\t\t\t\t\ttrademark: this.products[0].trademark.name,\r\n\t\t\t\t\t\tmodels: [this.products[0]]\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\tfor (let i = 1; i < this.products.length; i++) {\r\n\t\t\t\t\tconst inArr = trademarks.find(tr => tr.trademarkId === this.products[i].trademarkId)\r\n\t\t\t\t\tif (inArr) {\r\n\t\t\t\t\t\tinArr.models.push(this.products[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\ttrademarks.push(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttrademarkId: this.products[i].trademarkId,\r\n\t\t\t\t\t\t\t\ttrademark: this.products[i].trademark.name,\r\n\t\t\t\t\t\t\t\tmodels: [this.products[i]]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn trademarks;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tstatus(product) {\r\n\t\t\tif (product.available_till < 12) \r\n\t\t\t\treturn `will be upgraded`\r\n\t\t\telse if (product.available_from > 1) \r\n\t\t\t\treturn `new model`\r\n\t\t\telse return 'available'\r\n\t\t},\r\n\t\tstringMonth(num) {\r\n\t\t\treturn getMonth(num);\r\n\t\t},\r\n\t\tformatNumber(num) {\r\n\t\t\treturn localeNumber(num, this.locale);\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tLoader, AddModel, UpgradeModel, DeleteProduct, AddBrand\r\n\t},//\r\n\tasync mounted() {\r\n\t\t\r\n\t\tif (this.products == null && (this.game && this.user)) {\r\n\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\tconst team = this.game.teams.find(te => te.name == name)\r\n\t\t\t\r\n\t\t\tconst params = {\r\n\t\t\t\tgameId: this.game.id,\r\n\t\t\t\tround: this.game.round,\r\n\t\t\t\tteamId: team.id,\r\n\t\t\t}\r\n\t\t\t//console.log(params)\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTeamProducts', params);\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductManagement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductManagement.vue?vue&type=template&id=1df8e536&\"\nimport script from \"./ProductManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductManagement.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(!_vm.loading)?_c('div',[_c('v-row',{staticClass:\"my-2 subtitle-2 secondary--text pl-12\"},[_vm._v(\" Production sales \")]),_c('v-row',{staticClass:\"subtitle-2 mx-8\",attrs:{\"no-gutters\":\"\"}},_vm._l((_vm.headers),function(item,i){return _c('v-col',{key:i,staticClass:\"tabCell\",class:item.style},[_vm._v(\" \"+_vm._s(item.title)+\" \")])}),1),(_vm.products?.length)?_c('div',[_c('v-expansion-panels',{attrs:{\"focusable\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},_vm._l((_vm.modelsByTrademark),function(item){return _c('v-expansion-panel',{key:item.trademarkId},[_c('v-expansion-panel-header',{staticClass:\"font-weight-bold secondary--text\"},[_vm._v(\" \"+_vm._s(item.trademark)+\" \")]),_c('v-expansion-panel-content',{staticClass:\"body-2\"},[_vm._l((item.models),function(product){return _c('div',{key:product.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(product.model))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.status(product)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.material))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.manufacturing))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.design_type))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.design))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.variations))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.advanced_feature))]),(product.sales_plan == 0)?_c('v-col',{staticClass:\"text-center error--text\"},[_vm._v(\" \"+_vm._s(product.sales_plan)+\" \")]):_c('v-col',{staticClass:\"text-center secondary--text\"},[_vm._v(_vm._s(_vm.localeNumber(product.sales_plan)))]),(product.production_plan == 0)?_c('v-col',{staticClass:\"text-center error--text\"},[_vm._v(_vm._s(product.production_plan)+\" \")]):_c('v-col',{staticClass:\"text-center secondary--text\"},[_vm._v(\" \"+_vm._s(_vm.localeNumber(product.production_plan))+\" \")]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(product.unit_cost))]),(product.retail_price == 0)?_c('v-col',{staticClass:\"text-center error--text\"},[_vm._v(\" \"+_vm._s(product.retail_price)+\" \")]):_c('v-col',{staticClass:\"text-center secondary--text\"},[_vm._v(_vm._s(product.retail_price))]),(product.price == 0)?_c('v-col',{staticClass:\"text-center error--text\"},[_vm._v(\" \"+_vm._s(product.price)+\" \")]):_c('v-col',{staticClass:\"text-center secondary--text\"},[_vm._v(_vm._s(product.price))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.localeNumber(_vm.inventoriesBeginning(product))))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.localeNumber(_vm.inventoriesEnd(product))))]),_c('v-col',{staticClass:\"text-right\"},[_c('edit-product',{attrs:{\"product\":product}})],1)],1),_c('v-divider')],1)}),_c('v-row',{staticClass:\"font-weight-bold text-left mt-4\",attrs:{\"no-gutters\":\"\"}},[_vm._v(\" Total sales (units): \"+_vm._s(_vm.localeNumber(_vm.totalSales(item)))+\" \")]),_c('v-row',{staticClass:\"font-weight-bold text-left\",attrs:{\"no-gutters\":\"\"}},[_vm._v(\" Sales value*, $: \"+_vm._s(_vm.localeNumber(_vm.salesValue(item)))+\" \")]),_c('v-row',{staticClass:\"caption font-weight-bold text-left\"},[_vm._v(\"* estimated\")])],2)],1)}),1)],1):_c('v-row',{staticClass:\"mt-8 px-4\"},[_vm._v(\" You havn't products yet! \")])],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-lead-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"add/edit sales\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-spacer'),_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Add sales of the \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(\" \"+_vm._s(_vm.product.trademark.name)+\" \"+_vm._s(_vm.product.model))])]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"unit cost\",\"prefix\":\"$\",\"name\":\"unit_cost\",\"type\":\"text\",\"readonly\":\"\"},model:{value:(_vm.unit_cost),callback:function ($$v) {_vm.unit_cost=_vm._n($$v)},expression:\"unit_cost\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"sales plan\",\"suffix\":\"units\",\"name\":\"salesPlan\",\"type\":\"text\",\"rules\":[_vm.rules.number]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.sales_plan),callback:function ($$v) {_vm.sales_plan=_vm._n($$v)},expression:\"sales_plan\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"dirty\":\"\",\"color\":\"secondary\",\"label\":\"production plan\",\"suffix\":\"units\",\"hint\":`not more than remaining of capasity: ${_vm.formatNumber(_vm.production_plan_hint)} units`,\"persistent-hint\":\"\",\"name\":\"productionPlan\",\"type\":\"text\",\"rules\":[_vm.rules.number_hint]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.production_plan),callback:function ($$v) {_vm.production_plan=_vm._n($$v)},expression:\"production_plan\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"retail price\",\"prefix\":\"$\",\"name\":\"retailPrice\",\"type\":\"text\",\"rules\":[_vm.rules.number]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.retail_price),callback:function ($$v) {_vm.retail_price=_vm._n($$v)},expression:\"retail_price\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"ex-works price\",\"prefix\":\"$\",\"name\":\"price\",\"type\":\"text\",\"rules\":[_vm.rules.number]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.price),callback:function ($$v) {_vm.price=_vm._n($$v)},expression:\"price\"}})],1)],1)],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e()],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":_vm.loading || !_vm.valid || Boolean(_vm.error)},on:{\"click\":_vm.changeModel}},[_vm._v(\" Save \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent max-width=\"500px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t<v-icon small v-on=\"on\">mdi-lead-pencil</v-icon>\r\n\t\t\t\t</template>\r\n\t\t\t\t<span>add/edit sales</span>\r\n\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-spacer></v-spacer>\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tAdd sales of the <span class=\"secondary--text\"> {{ product.trademark.name }} {{ product.model }}</span>\t\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation>\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"unit cost\"\r\n\t\t\t\t\t\t\t\tv-model.number=\"unit_cost\"\r\n\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\tname=\"unit_cost\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\treadonly>\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"sales plan\"\r\n\t\t\t\t\t\t\t\tv-model.number=\"sales_plan\"\r\n\t\t\t\t\t\t\t\tsuffix=\"units\"\r\n\t\t\t\t\t\t\t\tname=\"salesPlan\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field dense dirty\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"production plan\"\r\n\t\t\t\t\t\t\t\tv-model.number=\"production_plan\"\r\n\t\t\t\t\t\t\t\tsuffix=\"units\"\r\n\t\t\t\t\t\t\t\t:hint=\"`not more than remaining of capasity: ${formatNumber(production_plan_hint)} units`\"\r\n\t\t\t\t\t\t\t\tpersistent-hint\r\n\t\t\t\t\t\t\t\tname=\"productionPlan\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.number_hint]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"retail price\"\r\n\t\t\t\t\t\t\t\tv-model.number=\"retail_price\"\r\n\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\tname=\"retailPrice\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field dense\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"ex-works price\"\r\n\t\t\t\t\t\t\t\tv-model.number=\"price\"\r\n\t\t\t\t\t\t\t\tprefix=\"$\"\r\n\t\t\t\t\t\t\t\tname=\"price\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"loading || !valid || Boolean(error)\"\r\n\t\t\t\t\t@click=\"changeModel\">\r\n\t\t\t\t\tSave\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" @click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Loader from '../../../layouts/Loader.vue'\r\nimport { localeNumber } from '../../../functions/common'\r\n\texport default {\r\n\t\tprops: ['product'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false,\r\n\t\t\t\tvalid: false,\r\n\t\t\t\terror: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\tnumber: v => {\r\n\t\t\t\t\t\tif (!isNaN(parseFloat(v)) && v >= 0) return true;\r\n\t\t\t\t\t\treturn `it's expected number more than 0`;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tnumber_hint: v => {\r\n\t\t\t\t\t\tif (!isNaN(parseFloat(v)) && v >= 1 && v <= this.production_plan_hint) return true;\r\n\t\t\t\t\t\treturn `it's expected number between 1 and ${this.production_plan_hint}`;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\t\t\t\r\n\t\t\t\ttrademark: this.product.trademark.name,\r\n\t\t\t\tname: this.product.model,\r\n\t\t\t\tid: this.product.id,\r\n\t\t\t\tunit_cost: this.product.unit_cost,\r\n\t\t\t\tsales_plan: this.product.sales_plan,\r\n\t\t\t\tproduction_plan: this.product.production_plan,\r\n\t\t\t\tretail_price: this.product.retail_price,\r\n\t\t\t\tprice: this.product.price\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tproducts() {\r\n\t\t\t\treturn this.$store.getters.products;\r\n\t\t\t},\r\n\t\t\tresources() {\r\n\t\t\t\treturn this.$store.getters.resources_team;\r\n\t\t\t},\r\n\t\t\tproduction_plan_hint() {\r\n\t\t\t\tlet all_production  = 0;\r\n\t\t\t\tlet capacities = 0;\r\n\t\t\t\t\r\n\t\t\t\tif (this.products?.length > 0 && this.resources?.length > 0) {\r\n\t\t\t\t\tthis.products.forEach((prod) => {\r\n\t\t\t\t\t\tif (prod.productId == this.product.productId) {\r\n\t\t\t\t\t\t\tall_production += this.production_plan;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tall_production += prod.production_plan;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tcapacities = this.resources[0].capacities\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn (capacities - all_production);\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(number) {\r\n\t\t\t\treturn localeNumber(number, this.locale);\r\n\t\t\t},\r\n\t\t\tonceMore () {\r\n\t\t\t\tthis.error = ''\r\n\t\t\t},\r\n\t\t\tasync changeModel () {\r\n\t\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (this.sales_plan == this.product.sales_plan && \r\n\t\t\t\t\t\tthis.production_plan == this.product.production_plan &&\r\n\t\t\t\t\t\tthis.retailPrice == this.product.retail_price && \r\n\t\t\t\t\t\tthis.price == this.product.price) {\r\n\r\n\t\t\t\t\t\tthis.error = 'No sales\\' parameter has been changed' \r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\r\n\t\t\t\t\t\t// edit old model\r\n\t\t\t\t\t\tconst upgraded = {\r\n\t\t\t\t\t\t\tid: this.product.id,\r\n\t\t\t\t\t\t\tsales_plan: this.sales_plan,\r\n\t\t\t\t\t\t\tproduction_plan: this.production_plan,\r\n\t\t\t\t\t\t\tretail_price: this.retail_price,\r\n\t\t\t\t\t\t\tprice: this.price,\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//console.log(upgraded)\r\n\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tawait this.$store.dispatch('editProduct', upgraded);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (error) {\r\n\t\t\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.closeDialog();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t\tthis.error = ''\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader},\r\n\t\tasync mounted() {\r\n\t\t\tconst params = {\r\n\t\t\t\tgameId: this.product.gameId,\r\n\t\t\t\tround: this.product.round,\r\n\t\t\t\tteamId: this.product.teamId,\r\n\t\t\t}\r\n\t\t\tif (!this.resources?.length) {\r\n\t\t\t\t//console.log(params)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchTeamResources', params);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!this.products?.length) {\r\n\t\t\t\t//console.log(params)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchTeamProducts', params);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upgradeSales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upgradeSales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upgradeSales.vue?vue&type=template&id=4441de50&\"\nimport script from \"./upgradeSales.vue?vue&type=script&lang=js&\"\nexport * from \"./upgradeSales.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<v-container fluid>\r\n\t\t<div v-if=\"!loading\">\r\n\t\t\t<v-row class=\"my-2 subtitle-2 secondary--text pl-12\">\r\n\t\t\t\tProduction sales\r\n\t\t\t</v-row>\r\n\t\t\t<!--table head-->\r\n\t\t\t<v-row class=\"subtitle-2 mx-8\" no-gutters>\r\n\t\t\t\t<v-col v-for=\"(item, i) in headers\" :key=\"i\" \r\n\t\t\t\t\tclass=\"tabCell\"\r\n\t\t\t\t\t:class=\"item.style\">\r\n\t\t\t\t\t{{ item.title }}\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<div v-if=\"products?.length\">\r\n\t\t\t\t<!-- production sales tab -->\r\n\t\t\t\t<v-expansion-panels focusable v-model=\"tab\">\r\n\t\t\t\t\t<v-expansion-panel v-for=\"item in modelsByTrademark\" :key=\"item.trademarkId\">\r\n\t\t\t\t\t\t<v-expansion-panel-header class=\"font-weight-bold secondary--text\">\r\n\t\t\t\t\t\t\t<!-- trademark-->\r\n\t\t\t\t\t\t\t{{ item.trademark }}\r\n\t\t\t\t\t\t</v-expansion-panel-header>\r\n\t\t\t\t\t\t<v-expansion-panel-content class=\"body-2\">\r\n\t\t\t\t\t\t\t<!--- models -->\r\n\t\t\t\t\t\t\t<div v-for=\"product in item.models\" :key=\"product.id\">\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ product.model }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ status(product) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.material }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.manufacturing }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.design_type }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.design }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.variations }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\" text-center\">{{ product.advanced_feature }}</v-col>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<v-col v-if=\"product.sales_plan == 0\" class=\"text-center error--text\">\r\n\t\t\t\t\t\t\t\t\t\t{{ product.sales_plan }}\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-else class=\"text-center secondary--text\">{{ localeNumber(product.sales_plan) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<v-col v-if=\"product.production_plan == 0\"\r\n\t\t\t\t\t\t\t\t\t\tclass=\"text-center error--text\">{{ product.production_plan }}\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-else class=\"text-center secondary--text\">\r\n\t\t\t\t\t\t\t\t\t\t{{ localeNumber(product.production_plan) }}\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ product.unit_cost }}</v-col>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<v-col v-if=\"product.retail_price == 0\" class=\"text-center error--text\">\r\n\t\t\t\t\t\t\t\t\t\t{{ product.retail_price }}\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-else class=\"text-center secondary--text\">{{ product.retail_price }}</v-col>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<v-col v-if=\"product.price == 0\" class=\"text-center error--text\">\r\n\t\t\t\t\t\t\t\t\t\t{{ product.price }}\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-else class=\"text-center secondary--text\">{{ product.price }}</v-col>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ localeNumber(inventoriesBeginning(product)) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ localeNumber(inventoriesEnd(product)) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<edit-product :product=\"product\" /> \r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<v-row class=\"font-weight-bold text-left mt-4\" no-gutters>\r\n\t\t\t\t\t\t\t\tTotal sales (units): {{ localeNumber(totalSales(item)) }}\r\n\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t<v-row class=\"font-weight-bold text-left\" no-gutters>\r\n\t\t\t\t\t\t\t\tSales value*, $: {{ localeNumber(salesValue(item)) }}\r\n\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t<v-row class=\"caption font-weight-bold text-left\">* estimated</v-row>\r\n\t\t\t\t\t\t</v-expansion-panel-content>\r\n\t\t\t\t\t</v-expansion-panel>\r\n\t\t\t\t</v-expansion-panels>\r\n\t\t\t</div>\r\n\t\t\t<v-row v-else class=\"mt-8 px-4\">\r\n\t\t\t\tYou havn't products yet!\r\n\t\t\t</v-row>\r\n\t\t</div>\r\n\t\t<!--!loading-->\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-container>\r\n</template>\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport EditProduct from '../../../components/team/products/upgradeSales.vue';\r\nimport { getMonth } from '../../../functions/common';\r\n\r\n\texport default {\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\ttab: 0,\r\n\t\t\t\theaders: [\r\n\t\t\t\t\t{ title: 'Product', style: 'text-left' },\r\n\t\t\t\t\t{ title: 'Available', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Material', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Manufacturing', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Type of design', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Design level', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Model variations', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Advanced feature', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Sales plan (annual)', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Production plan (annual)', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Unit cost', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Retail price', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Ex-works price', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Inventories (disposal volume beginning)', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Inventories (disposal volume end)', style: 'text-center' },\r\n\t\t\t\t\t{ title: 'Action', style: 'text-right' },\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading() {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tlocale() {\r\n\t\t\t\treturn this.$store.getters.locale;\r\n\t\t\t},\r\n\t\t\tuser() {\r\n\t\t\t\treturn this.$store.getters.user;\r\n\t\t\t},\r\n\t\t\tgame() {\r\n\t\t\t\treturn this.$store.getters.game;\r\n\t\t\t},\r\n\t\t\tproducts() {\r\n\t\t\t\treturn this.$store.getters.products;\r\n\t\t\t},\r\n\t\t\tmodelsByTrademark() {\r\n\t\t\t\tconst trademarks = [];\r\n\t\t\t\tif (this.products.length > 0) {\r\n\t\t\t\t\ttrademarks.push(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttrademarkId: this.products[0].trademarkId,\r\n\t\t\t\t\t\t\ttrademark: this.products[0].trademark.name,\r\n\t\t\t\t\t\t\tmodels: [this.products[0]]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\tfor (let i = 1; i < this.products.length; i++) {\r\n\t\t\t\t\t\tconst inArr = trademarks.find(tr => tr.trademarkId === this.products[i].trademarkId)\r\n\t\t\t\t\t\tif (inArr) {\r\n\t\t\t\t\t\t\tinArr.models.push(this.products[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\ttrademarks.push(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttrademarkId: this.products[i].trademarkId,\r\n\t\t\t\t\t\t\t\t\ttrademark: this.products[i].trademark.name,\r\n\t\t\t\t\t\t\t\t\tmodels: [this.products[i]]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn trademarks;\r\n\t\t\t},\r\n\t\t\tsales() {\r\n\t\t\t\treturn this.$store.getters.sales_team;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlocaleNumber(num) {\r\n\t\t\t\tif (this.locale == 'ro-RO') {\r\n\t\t\t\t\treturn num.toLocaleString('en-US')\r\n\t\t\t\t}\r\n\t\t\t\treturn num.toLocaleString(this.locale)\r\n\t\t\t},\r\n\t\t\tstatus(product) {\r\n\t\t\t\tif (product.available_till < 12)\r\n\t\t\t\t\treturn `available till ${getMonth(product.available_till)}`\r\n\t\t\t\telse if (product.available_from > 1)\r\n\t\t\t\t\treturn `available from ${getMonth(product.available_from)}`\r\n\t\t\t\telse return 'available'\r\n\t\t\t}, \r\n\t\t\ttotalSales(brand) {\r\n\t\t\t\tconst res = brand.models.reduce((summ, model) => {\r\n\t\t\t\t\treturn summ + model.sales_plan;\r\n\t\t\t\t}, 0)\r\n\t\t\t\treturn res\r\n\t\t\t},\r\n\t\t\tsalesValue(brand) {\r\n\t\t\t\tconst res = brand.models.reduce((summ, model) => {\r\n\t\t\t\t\treturn summ + (model.sales_plan * model.retail_price)\r\n\t\t\t\t}, 0)\r\n\r\n\t\t\t\treturn res.toLocaleString('en-US')\r\n\t\t\t},\r\n\t\t\tinventoriesBeginning(product) {\r\n\t\t\t\tlet res = 0;\r\n\t\t\t\tif (this.sales?.length > 0) {\r\n\t\t\t\t\tconst matched = this.sales.find((it) => it.productId == product.productId);\r\n\t\t\t\t\tif (matched) {\r\n\t\t\t\t\t\tres = matched.inventories_beginning;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn res;\r\n\t\t\t},\r\n\t\t\tinventoriesEnd(product) {\r\n\t\t\tlet res = 0;\r\n\t\t\tif (this.sales?.length > 0) {\r\n\t\t\t\tconst matched = this.sales.find((it) => it.productId == product.productId);\r\n\t\t\t\tif (matched) {\r\n\t\t\t\t\tres = matched.inventories_end;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t},\r\n\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tLoader, EditProduct\r\n\t\t},\r\n\t\tasync mounted() {\r\n\t\t\r\n\t\t\tif (this.products == null && (this.game && this.user)) {\r\n\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name)\r\n\t\t\t\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tgameId: this.game.id,\r\n\t\t\t\t\tround: this.game.round,\r\n\t\t\t\t\tteamId: team.id,\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(params)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchTeamProducts', params);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.game && this.game.round > 0) {\r\n\t\t\t\tif (this.sales == null) {\r\n\r\n\t\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\t\tconst team = this.game.teams.find(te => te.name == name)\r\n\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tgameId: this.game.id,\r\n\t\t\t\t\t\tround: this.game.round - 1,\r\n\t\t\t\t\t\tteamId: team.id,\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//console.log(params)\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.$store.dispatch('fetchTeamSales', params);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (error) {\r\n\t\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sales.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sales.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sales.vue?vue&type=template&id=44789cd2&\"\nimport script from \"./Sales.vue?vue&type=script&lang=js&\"\nexport * from \"./Sales.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(!_vm.loading)?_c('div',[_c('v-row',{staticClass:\"my-2 subtitle-2 secondary--text pl-12\"},[_vm._v(\" Resources \")]),_c('v-row',{staticClass:\"subtitle-2\",attrs:{\"no-gutters\":\"\"}},_vm._l((_vm.headers),function(item,i){return _c('v-col',{key:i,staticClass:\"tabCell\",class:item.style},[_vm._v(\" \"+_vm._s(item.title)+\" \")])}),1),(_vm.resources?.length > 0)?_c('div',[_vm._l((_vm.resources),function(resource){return _c('v-row',{key:resource.id,attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(_vm.formatNumber(resource.capacities)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(resource.capacities_increase)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(resource.long_term_debt)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(resource.borrowings)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.selializing(resource.research_segments)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(resource.research_costs)))]),_c('v-col',{staticClass:\"text-center\"},[_c('edit-resources',{attrs:{\"resource\":resource}})],1)],1)}),_c('v-divider')],2):_c('v-row',{staticClass:\"mt-8 px-4\"},[_vm._v(\" You haven't resources yet! \")])],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"scrollable\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-lead-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"add/edit resources\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6\"},[_vm._v(\" Edit resources for the next round \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"capacities current round*\",\"value\":_vm.formatNumber(_vm.capacities),\"suffix\":\"units\",\"name\":\"capacities\",\"type\":\"text\",\"readonly\":\"\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"Capacities increase (to next round)\",\"hint\":`not more than ${_vm.formatNumber(this.capHint)}`,\"suffix\":\"units\",\"name\":\"capacities_increase\",\"type\":\"text\",\"rules\":[_vm.rules.cap_hint]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.capacities_increase),callback:function ($$v) {_vm.capacities_increase=_vm._n($$v)},expression:\"capacities_increase\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"long-term debt*\",\"prefix\":\"$\",\"value\":_vm.formatNumber(_vm.long_term_debt),\"name\":\"debt\",\"type\":\"text\",\"readonly\":\"\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"borrowings\",\"prefix\":\"$\",\"hint\":`not more than $${_vm.formatNumber(this.borrowHint)}`,\"name\":\"borrowings\",\"type\":\"text\",\"rules\":[_vm.rules.borrow_hint]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.borrowings),callback:function ($$v) {_vm.borrowings=_vm._n($$v)},expression:\"borrowings\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"multiple\":\"\",\"return-object\":\"\",\"items\":_vm.market_segments,\"item-text\":\"segment.name\",\"item-value\":\"max_price\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"hint\":\"maximum 2 segments\",\"persistent-hint\":\"\",\"label\":\"segments\",\"rules\":[_vm.rules.max]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.selected_segments),callback:function ($$v) {_vm.selected_segments=$$v},expression:\"selected_segments\"}})],1)],1)],1)],1),_c('v-row',{staticClass:\"ma-4 caption font-weight-bold\"},[_vm._v(\"* you can't update this parameter\")]),_c('v-row',{staticClass:\"error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.error))]),_c('v-row',{staticClass:\"text-pre-wrap subtitle-2\",attrs:{\"justify\":\"center\"}},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid || Boolean(_vm.error)},on:{\"click\":_vm.calculating}},[_vm._v(\" Calculate \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.calculate || Boolean(_vm.error)},on:{\"click\":_vm.editResource}},[_vm._v(\"Save \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { roundNumber } from './common';\r\n\r\nexport function Investments(capacities_increase) {\r\n    if(capacities_increase > 0) {\r\n        return capacities_increase * 10\r\n    }\r\n    return 0\r\n}\r\n\r\nexport function ResearchCosts(segments) {\r\n    \r\n    if (segments.length > 0) {\r\n        const res =  segments.reduce((sum, segment) => {\r\n            return sum+= segment.max_price\r\n        }, 0)\r\n        return roundNumber(res * 17, 2);\r\n    }\r\n    return 0;\r\n}\r\n\r\nexport function Interests(long_term_debt, borrowings) {\r\n    return roundNumber((long_term_debt + borrowings) * 0.07, 2);\r\n}","<template>\r\n    <v-dialog v-model=\"dialog\" persistent scrollable max-width=\"600px\" hide-overlay>\r\n        <template v-slot:activator=\"{ on }\">\r\n            <v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n                <v-tooltip bottom color=\"primary\">\r\n                    <template v-slot:activator=\"{ on }\">\r\n                        <v-icon small v-on=\"on\">mdi-lead-pencil</v-icon>\r\n                    </template>\r\n                    <span>add/edit resources</span>\r\n                </v-tooltip>\r\n            </v-btn>\r\n        </template>\r\n        <v-card v-if=\"!loading\">\r\n            <v-card-title class=\"subtitle-2 pt-6\">\r\n                Edit resources for the next round \r\n            </v-card-title>\r\n            <v-divider></v-divider>\r\n            <v-card-text class=\"black--text\">\r\n                <v-container grid-list-md>\r\n                    <v-form v-model=\"valid\" ref=\"form\" validation>\r\n                        <v-row>\r\n                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                <v-text-field dense color=\"secondary\" \r\n                                    label=\"capacities current round*\"\r\n                                    :value=\"formatNumber(capacities)\"\r\n                                    suffix=\"units\" \r\n                                    name=\"capacities\" type=\"text\"\r\n                                    readonly>\r\n                                </v-text-field>\r\n                            </v-col>\r\n                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                <v-text-field dense color=\"secondary\" \r\n                                    label=\"Capacities increase (to next round)\"\r\n                                    v-model.number=\"capacities_increase\"\r\n                                    :hint=\"`not more than ${formatNumber(this.capHint)}`\"\r\n                                    suffix=\"units\" \r\n                                    name=\"capacities_increase\" type=\"text\"\r\n                                    :rules=\"[rules.cap_hint]\" \r\n                                    @change=\"onceMore()\">\r\n                                </v-text-field>\r\n                            </v-col>\r\n                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                <v-text-field dense color=\"secondary\" \r\n                                    label=\"long-term debt*\"\r\n                                    prefix=\"$\"\r\n                                    :value=\"formatNumber(long_term_debt)\" \r\n                                    name=\"debt\" type=\"text\"\r\n                                    readonly>\r\n                                </v-text-field>\r\n                            </v-col> \r\n                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                <v-text-field dense color=\"secondary\" \r\n                                    label=\"borrowings\"\r\n                                    prefix=\"$\"\r\n                                    :hint=\"`not more than $${formatNumber(this.borrowHint)}`\"\r\n                                    v-model.number=\"borrowings\" \r\n                                    name=\"borrowings\" type=\"text\"\r\n                                    :rules=\"[rules.borrow_hint]\" \r\n                                    @change=\"onceMore()\">\r\n                                </v-text-field>\r\n                            </v-col>\r\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                                <v-select dense multiple\r\n                                    return-object\r\n                                    v-model=\"selected_segments\" \r\n                                    :items=\"market_segments\"\r\n                                    item-text=\"segment.name\" \r\n                                    item-value=\"max_price\" \r\n                                    color=\"secondary\" \r\n                                    item-color=\"secondary\"\r\n                                    hint=\"maximum 2 segments\"\r\n                                    persistent-hint\r\n                                    label=\"segments\" \r\n                                    @change=\"onceMore()\"\r\n                                    :rules=\"[rules.max]\">\r\n                                </v-select>\r\n                            </v-col>\r\n                        </v-row>\r\n                    </v-form>\r\n                </v-container>\r\n                <v-row class=\"ma-4 caption font-weight-bold\">* you can't update this parameter</v-row> \r\n                <v-row justify=\"center\" class=\"error--text\">{{ error }}</v-row>\r\n                <v-row justify=\"center\" class=\"text-pre-wrap subtitle-2\">\r\n                    {{ message }}\r\n                </v-row>    \r\n            </v-card-text>\r\n            <v-divider></v-divider>\r\n            <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"secondary\" text class=\"text-capitalize\" \r\n                    :disabled=\"!valid || Boolean(error)\"\r\n                    @click=\"calculating\">\r\n                    Calculate\r\n                </v-btn>\r\n\r\n                <v-btn color=\"secondary\" text class=\"text-capitalize\"\r\n                    :disabled=\"!calculate || Boolean(error)\"\r\n                    @click=\"editResource\">Save\r\n                </v-btn>\r\n\r\n                <v-btn color=\"secondary\" text class=\"text-capitalize\" @click=\"closeDialog\">\r\n                    Close\r\n                </v-btn>\r\n\r\n            </v-card-actions>\r\n        </v-card>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { localeNumber, roundNumber} from '../../../functions/common.js';\r\nimport { ResearchCosts } from '../../../functions/resources.js';\r\n\r\nexport default {\r\n    name: 'EditResource',\r\n    props: ['resource'],\r\n    data() {\r\n        return {\r\n            dialog: false,\r\n            valid: false,\r\n            error: '',\r\n            message: '',\r\n            calculate: false,\r\n            rules: {\r\n                required: v => !!v || 'this field is required',\r\n                number: v => /^[+-]?[0-9]/.test(v) || 'it\\'s expected number',\r\n                max: v => v.length <= 2 || 'max 2 expected',\r\n                cap_hint: v => {\r\n                    if (!isNaN(parseFloat(v)) && v <= this.capHint) return true;\r\n                    return `it's expected number not more than ${this.capHint}`;\r\n                },\r\n                borrow_hint: v => {\r\n                    if (!isNaN(parseFloat(v)) && v <= this.borrowHint) return true;\r\n                    return `it's expected number not more than ${this.borrowHint}`;\r\n                }\r\n            },\r\n            //props\r\n            selected_segments: [],\r\n            capacities: this.resource.capacities,\r\n            long_term_debt: this.resource.long_term_debt,\r\n            capacities_increase: this.resource.capacities_increase,\r\n            borrowings: this.resource.borrowings,\r\n            /*  calculating params */\r\n            //market_research: 0, \r\n            research_costs: this.resource.research_costs,\r\n        }\r\n    },\r\n    computed: {\r\n        loading() {\r\n            return this.$store.getters.loading\r\n        },\r\n        locale() {\r\n            return this.$store.getters.locale;\r\n        },\r\n        market_segments() {\r\n            return this.$store.getters.market_segments;\r\n        },\r\n        finances() {\r\n            return this.$store.getters.finances;\r\n        },\r\n        borrowHint() {\r\n            let hint = 0;\r\n            if (this.finances?.length > 0) {\r\n                const borr = (this.finances[0].fixed_assets - this.finances[0].long_term_debt);\r\n                hint = roundNumber(borr * 0.7);\r\n            }\r\n            return hint;\r\n        },\r\n        capHint() {\r\n            let hint = 0;\r\n            if (this.finances?.length > 0) {\r\n                const growth_finances = this.finances[0].growth_finances + this.borrowings;\r\n                hint = roundNumber(growth_finances / 10);\r\n            }\r\n            return hint;\r\n        },\r\n    },\r\n    methods: {\r\n        formatNumber(num) {\r\n            return localeNumber(num, this.locale);\r\n        },\r\n        onceMore() {\r\n            this.error = ''\r\n            this.calculate = false;\r\n            this.message = '';\r\n        },\r\n        calculating() {\r\n            if (this.$refs.form.validate()) {\r\n                \r\n                this.research_costs = ResearchCosts(this.selected_segments);\r\n                \r\n                if (this.capacities_increase == this.resource.capacities_increase &&\r\n                    this.borrowings == this.resource.borrowings &&\r\n                    this.research_costs == this.resource.research_costs\r\n                ) {\r\n                    return this.error = 'No parameters of the resources have been changed'\r\n                }\r\n                this.message = `Please, mention the figures:\r\n\t\t\t\t\t\tresearch cost = $${this.formatNumber(this.research_costs)}.\r\n\t\t\t\t\tif you agree, press the button Save, else - press Close`\r\n                 \r\n                this.calculate = true;\r\n            }\r\n        },\r\n        async editResource() {\r\n\r\n            if (this.$refs.form.validate()) {                \r\n                const resource = {\r\n                    id: this.resource.id\r\n                }\r\n\r\n                if (this.capacities_increase !== this.resource.capacities_increase) {\r\n                    resource.capacities_increase = this.capacities_increase;\r\n                }\r\n                if (this.borrowings !== this.resource.borrowings) {\r\n                    resource.borrowings = this.borrowings;\r\n                }\r\n\r\n                const segments = this.selected_segments.map(seg => seg.segment.name);\r\n\r\n                if (this.resource.research_costs !== this.research_costs) {\r\n                    resource.research_segments = segments;\r\n                    resource.research_costs = this.research_costs;\r\n                } \r\n                /*console.log(resource);*/\r\n                try {\r\n                    //update resource\r\n                    await this.$store.dispatch('updateTeamResource', resource)\r\n                    this.closeDialog()\r\n                }\r\n                catch (error) {\r\n                    this.error = error.message;\r\n                    this.message = '';\r\n                    this.$store.dispatch('setError', error.message)//throw error\r\n                }\r\n            } \r\n        },\r\n        closeDialog() {\r\n            //reset\r\n            this.dialog = false;\r\n            this.error = '';\r\n            this.message = '';\r\n            this.calculate = false;\r\n\r\n            this.capacities = this.resource.capacities;\r\n            this.capacities_increase = 0;\r\n            this.borrowings = 0;\r\n            this.invest_assets = 0;\r\n            this.interests = this.resource.interests;\r\n            this.production_depreciation = this.resource.production_depreciation;\r\n            this.long_term_debt = this.resource.long_term_debt;\r\n            this.production_assets = this.resource.production_assets;\r\n            this.research_costs = 0;\r\n\r\n            this.selected_segments = () => {\r\n                const res_arr = this.resource.research_segments?.map(seg => {\r\n                    const market_segment = this.market_segments?.find(item => item.segment.name == seg)\r\n                    let max_price = 0\r\n                    if (market_segment) {\r\n                        max_price = market_segment.max_price\r\n                    }\r\n                    return { name: seg, max_price: max_price };\r\n                })\r\n                return res_arr\r\n            }\r\n        }\r\n    },\r\n    async mounted() {\r\n        \r\n        if (this.market_segments.length < 1 && this.resource.round > 0) {\r\n            const obj = {\r\n                gameId: this.resource.gameId,\r\n                round: this.resource.round - 1,\r\n            }\r\n            try {\r\n                await this.$store.dispatch('fetchMarketSegments', obj)\r\n            }\r\n            catch (error) {\r\n                await this.$store.dispatch('setError', error.message)\r\n            }\r\n        }\r\n\r\n        if (this.finances.length < 1 && this.resource.round > 0) {\r\n            const params = { \r\n                gameId: this.resource.gameId,\r\n                round: this.resource.round - 1,\r\n                teamId: this.resource.teamId \r\n            }\r\n            try {\r\n                await this.$store.dispatch('fetchTeamFinances', params)\r\n            }\r\n            catch (error) {\r\n                await this.$store.dispatch('setError', error.message)\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editResource.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editResource.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editResource.vue?vue&type=template&id=440a8081&\"\nimport script from \"./editResource.vue?vue&type=script&lang=js&\"\nexport * from \"./editResource.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<v-container fluid>\r\n\t\t<div v-if=\"!loading\">\r\n\t\t\t<v-row class=\"my-2 subtitle-2 secondary--text pl-12\">\r\n\t\t\t\tResources\r\n\t\t\t</v-row>\r\n\t\t\t<!--resources table head-->\r\n\t\t\t<v-row class=\"subtitle-2\" no-gutters>\r\n\t\t\t\t<v-col v-for=\"(item, i) in headers\" :key=\"i\" \r\n\t\t\t\t\tclass=\"tabCell\" :class=\"item.style\">\r\n\t\t\t\t\t{{ item.title }}\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t\r\n\t\t\t<div v-if=\"resources?.length > 0\">\r\n\t\t\t\t<!-- resources tab -->\r\n\t\t\t\t<v-row v-for=\"resource in resources\" :key=\"resource.id\" no-gutters>\r\n\t\t\t\t\t<v-col class=\"text-left\">{{ formatNumber(resource.capacities) }}</v-col>\r\n\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(resource.capacities_increase) }}</v-col>\r\n\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(resource.long_term_debt) }}</v-col>\r\n\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(resource.borrowings) }}</v-col>    \r\n\t\t\t\t\t<v-col class=\"text-center\">{{ selializing(resource.research_segments) }}</v-col>\r\n\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(resource.research_costs) }}</v-col>\r\n\t\t\t\t\t<v-col class=\"text-center\">\r\n\t\t\t\t\t\t<edit-resources :resource=\"resource\" />\r\n\t\t\t\t\t</v-col>\r\n\t\t\t\t</v-row>\r\n\t\t\t\t<v-divider />\r\n\t\t\t</div>\r\n\t\t\t<v-row v-else class=\"mt-8 px-4\">\r\n\t\t\t\tYou haven't resources yet!\r\n\t\t\t</v-row>\r\n\t\t</div>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader />\r\n\t\t</div> \r\n\t</v-container>\r\n</template>\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport EditResources from '../../../components/team/resources/editResource.vue';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\theaders: [\r\n\t\t\t\t{ title: 'Capacities current round', style: 'text-left' },\r\n\t\t\t\t{ title: 'Capacities increase for next round', style: 'text-center' },\r\n\t\t\t\t{ title: 'Current long-term debt', style: 'text-center' },\r\n\t\t\t\t{ title: 'Borrowings current round', style: 'text-center' },\r\n\t\t\t\t{ title: 'Segments for research', style: 'text-center' },\r\n\t\t\t\t{ title: 'Research costs', style: 'text-center' },\r\n\t\t\t\t{ title: 'Action', style: 'text-center' },\r\n\t\t\t],\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tloading() {\r\n\t\t\treturn this.$store.getters.loading\r\n\t\t},\r\n\t\tlocale() {\r\n\t\t\treturn this.$store.getters.locale;\r\n\t\t},\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user;\r\n\t\t},\r\n\t\tgame() {\r\n\t\t\treturn this.$store.getters.game;\r\n\t\t},\r\n\t\tresources() {\r\n\t\t\treturn this.$store.getters.resources_team;\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tformatNumber(num) {\r\n\t\t\tif (this.locale == 'ro-RO') {\r\n\t\t\t\treturn num.toLocaleString('en-US')\r\n\t\t\t}\r\n\t\t\treturn num.toLocaleString(this.locale)\r\n\t\t},\r\n\t\tgetValue(val) {\r\n\t\t\treturn this.values.find(v => v.value === val).text;\r\n\t\t},\r\n\t\tselializing(arr) {\r\n\t\t\tif (arr && arr.length) {\r\n\t\t\t\treturn arr.join(', ');\r\n\t\t\t}\r\n\t\t\treturn ''\r\n\t\t}\r\n\t},\r\n\tcomponents: { Loader, EditResources },\r\n\tasync mounted() {\r\n\r\n\t\tif (this.resources == null && (this.game && this.user)) { \r\n\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\tconst team = this.game.teams?.find(te => te.name == name)\r\n\t\t\t\r\n\t\t\tconst params = {\r\n\t\t\t\tgameId: this.game.id,\r\n\t\t\t\tround: this.game.round,\r\n\t\t\t\tteamId: team.id,\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTeamResources', params);\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Resources.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Resources.vue?vue&type=template&id=752810e0&\"\nimport script from \"./Resources.vue?vue&type=script&lang=js&\"\nexport * from \"./Resources.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(!_vm.loading )?_c('div',[_c('v-row',{staticClass:\"my-2 subtitle-2 secondary--text pl-12\"},[_vm._v(\" Retail \")]),_c('v-row',{staticClass:\"subtitle-2 mx-8\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"tabCell text-left\"},[_vm._v(\"Available channels\")]),_vm._l((_vm.headers),function(item){return _c('v-col',{key:item,staticClass:\"tabCell\"},[_vm._v(_vm._s(item)+\" \")])})],2),_c('v-expansion-panels',{attrs:{\"focusable\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',{staticClass:\"subtitle-2 secondary--text\"},[_vm._v(\" Self-operated & franchise retail channels \")]),_c('v-expansion-panel-content',{staticClass:\"body-2\"},[(_vm.onlineStores?.length > 0)?_c('div',[_c('div',{staticClass:\"secondary--text my-4 text-left\"},[_vm._v(\"Online self-operated stores\")]),_vm._l((_vm.onlineStores),function(channel){return _c('div',{key:channel.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(channel.name))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.channelTrademarks(channel)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(channel.stores))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.peak_market_coverage)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.investment_costs)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.sales_last)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.operational_costs)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.franchise_cost)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.franchise_fee)))]),_c('v-col',[_c('change-channel',{attrs:{\"channel\":channel}}),_c('delete-channel',{attrs:{\"channel\":channel}})],1)],1),_c('v-divider')],1)})],2):_vm._e(),(_vm.outlets?.length)?_c('div',[_c('div',{staticClass:\"secondary--text my-4 text-left\"},[_vm._v(\" Brick&mortar self-operated stores \")]),_vm._l((_vm.outlets),function(channel){return _c('div',{key:channel.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(channel.name))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.channelTrademarks(channel)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(channel.stores))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.peak_market_coverage)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.investment_costs)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.sales_last)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.operational_costs)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.franchise_cost)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(channel.franchise_fee)))]),_c('v-col',[_c('change-channel',{attrs:{\"channel\":channel}}),_c('delete-channel',{attrs:{\"channel\":channel}})],1)],1),_c('v-divider')],1)})],2):_vm._e(),(_vm.franchises?.length)?_c('div',[_c('div',{staticClass:\"secondary--text my-4 text-left\"},[_vm._v(\" Franchise stores \")]),_vm._l((_vm.franchises),function(franchise){return _c('div',{key:franchise.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(franchise.name))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.channelTrademarks(franchise)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(franchise.stores))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(franchise.peak_market_coverage)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(franchise.investment_costs)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(franchise.sales_last)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(franchise.operational_costs)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(franchise.franchise_cost)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(franchise.franchise_fee)))]),_c('v-col',[_c('change-franchise',{attrs:{\"channel\":franchise}}),_c('delete-channel',{attrs:{\"channel\":franchise}})],1)],1),_c('v-divider')],1)})],2):_vm._e()])],1)],1),_c('div',{staticClass:\"caption font-weight-bold text-left\"},[_vm._v(\"* for franchises only\")]),_c('v-row',{staticClass:\"my-4 mx-8\",attrs:{\"justify\":\"start\"}},[_c('add-channel'),_c('sell-franchise',{attrs:{\"outlets\":_vm.outlets}})],1),_c('v-divider'),_c('v-row',{staticClass:\"subtitle-2 mx-6\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"tabCell text-left\"},[_vm._v(\"Chain name\")]),_vm._l((_vm.headers2),function(item){return _c('v-col',{key:item,staticClass:\"tabCell text-center\"},[_vm._v(\" \"+_vm._s(item)+\" \")])}),_c('v-col',{staticClass:\"tabCell text-right\"},[_vm._v(\"actions\")])],2),_c('v-divider'),_c('v-expansion-panels',{staticClass:\"mb-12\",attrs:{\"focusable\":\"\"},model:{value:(_vm.panel2),callback:function ($$v) {_vm.panel2=$$v},expression:\"panel2\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',{staticClass:\"subtitle-2 secondary--text\"},[_vm._v(\" Independent retail chains \")]),_c('v-expansion-panel-content',{staticClass:\"body-2\"},[(_vm.marketplaces?.length)?_c('div',[_c('div',{staticClass:\"secondary--text my-4 text-left\"},[_vm._v(\" Marketplaces \")]),_vm._l((_vm.marketplaces),function(chan){return _c('div',{key:chan.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(chan.name))]),_c('v-col',{staticClass:\"text-center primary--text font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.status(chan))+\" \")]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.stores))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(chan.peak_market_coverage)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.lastSales(chan)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(chan.entry_fee)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(chan.annual_fee)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.retail_margin * 100)+\"%\")]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.min_price))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.max_price))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.num_trademarks))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.design_main)+\" / \"+_vm._s(chan.design_second))]),(_vm.status(chan) == 'registered')?_c('v-col',[_c('change',{attrs:{\"chain\":chan,\"channel\":_vm.getChannel(chan)}}),_c('suspend',{attrs:{\"channel\":_vm.getChannel(chan)}})],1):_c('v-col',[_c('register',{attrs:{\"channel\":chan}})],1)],1),_c('v-divider')],1)})],2):_vm._e(),(_vm.bm_chains.length)?_c('div',[_c('div',{staticClass:\"secondary--text my-4 text-left\"},[_vm._v(\" Brick&mortar multibrands chains \")]),_vm._l((_vm.bm_chains),function(chan){return _c('div',{key:chan.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(chan.name))]),_c('v-col',{staticClass:\"text-center primary--text font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.status(chan))+\" \")]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.stores))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(chan.peak_market_coverage)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.lastSales(chan)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(chan.entry_fee)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(chan.annual_fee)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.retail_margin * 100)+\"%\")]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.min_price))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.max_price))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.num_trademarks))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(chan.design_main)+\" / \"+_vm._s(chan.design_second))]),(_vm.status(chan) == 'registered')?_c('v-col',[_c('change',{attrs:{\"chain\":chan,\"channel\":_vm.getChannel(chan)}}),_c('suspend',{attrs:{\"channel\":_vm.getChannel(chan)}})],1):_c('v-col',[_c('register',{attrs:{\"channel\":chan}})],1)],1),_c('v-divider')],1)})],2):_vm._e()])],1)],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase mr-8\",attrs:{\"color\":\"secondary\",\"dark\":\"\",\"small\":\"\"}},on),[_vm._v(\" add channel \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6\"},[_vm._v(\" New chanel parameters \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},on:{\"submit\":function($event){$event.preventDefault();}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"items\":_vm.types,\"tem-text\":\"text\",\"item-value\":\"value\",\"item-color\":\"secondary\",\"label\":\"channel type\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.type),callback:function ($$v) {_vm.type=$$v},expression:\"type\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"multiple\":_vm.multiple,\"items\":_vm.teamTrademarks,\"item-text\":\"name\",\"item-value\":\"name\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"trademarks\",\"rules\":[_vm.rules.not_empty]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.trademark),callback:function ($$v) {_vm.trademark=$$v},expression:\"trademark\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\",\"sm\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"stores\",\"name\":\"stores\",\"type\":\"text\",\"readonly\":_vm.readonly,\"rules\":[_vm.rules.number]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.stores),callback:function ($$v) {_vm.stores=_vm._n($$v)},expression:\"stores\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"8\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"channel name\",\"name\":\"name\",\"readonly\":\"\",\"type\":\"text\",\"rules\":[_vm.rules.required]},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)],1)],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e(),_c('v-row',{staticClass:\"text-center text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid || Boolean(_vm.error)},on:{\"click\":_vm.calculate}},[_vm._v(\" Calculate \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.calculating || Boolean(_vm.error)},on:{\"click\":_vm.addChannel}},[_vm._v(\" Save \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent max-width=\"600px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase mr-8\" dark small v-on=\"on\">\r\n\t\t\t\tadd channel\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6\">\r\n\t\t\t\tNew chanel parameters\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t\t<v-form ref=\"form\" v-model=\"valid\" lazy-validation @submit.prevent>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" md=\"8\" sm=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense v-model=\"type\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t:items=\"types\" \r\n\t\t\t\t\t\t\t\t\ttem-text=\"text\" \r\n\t\t\t\t\t\t\t\t\titem-value=\"value\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"channel type\" @change=\"onceMore()\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" md=\"8\" sm=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense v-model=\"trademark\" \r\n\t\t\t\t\t\t\t\t\t:multiple=\"multiple\"\r\n\t\t\t\t\t\t\t\t\t:items=\"teamTrademarks\" \r\n\t\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\t\titem-value=\"name\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\" \r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"trademarks\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.not_empty]\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" md=\"4\" sm=\"6\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense \r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\" label=\"stores\" v-model.number=\"stores\" name=\"stores\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\" :readonly=\"readonly\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"8\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense \r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\" label=\"channel name\" \r\n\t\t\t\t\t\t\t\t\tv-model=\"name\" name=\"name\" readonly\r\n\t\t\t\t\t\t\t\t\ttype=\"text\" :rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t\t<v-row justify=\"center\" class=\"text-center text-pre-wrap mx-2\">{{ message }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!valid || Boolean(error)\"\r\n\t\t\t\t\t@click=\"calculate\">\r\n\t\t\t\t\tCalculate\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" \r\n\t\t\t\t\t:disabled=\"!calculating || Boolean(error)\"\r\n\t\t\t\t\t@click=\"addChannel\">\r\n\t\t\t\t\tSave\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" \r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport { retailInvestments, operationalCosts } from '../../../functions/retail';\r\nimport { localeNumber } from '../../../functions/common.js';\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdialog: false,\r\n\t\t\tvalid: false,\r\n\t\t\tmessage: '',\r\n\t\t\terror: '',\r\n\t\t\tcalculating: false,\r\n\t\t\trules: {\r\n\t\t\t\trequired: v => !!v || 'this field is required',\r\n\t\t\t\tnumber: v => /^[+]?[0-9]/.test(v) || 'it\\'s expected number',\r\n\t\t\t\tnot_empty: v => v.length > 0 || 'select min 1 item',\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tstores: 1,\r\n\t\t\ttype: null,\r\n\t\t\ttrademark: [],\r\n\t\t\tinvestments: null,\r\n\t\t\toperational: null,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tloading() {\r\n\t\t\treturn this.$store.getters.loading;\r\n\t\t},\r\n\t\tlocale() {\r\n\t\t\treturn this.$store.getters.locale;\r\n\t\t},\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user;\r\n\t\t},\r\n\t\tgame() {\r\n\t\t\treturn this.$store.getters.game;\r\n\t\t},\r\n\t\tteam() {\r\n\t\t\treturn this.$store.getters.team;\r\n\t\t},\r\n\t\ttrademarks() {\r\n\t\t\treturn this.$store.getters.trademarks;\r\n\t\t},\r\n\t\tchannels() {\r\n\t\t\treturn this.$store.getters.channels;\r\n\t\t},\r\n\t\treadonly() {\r\n\t\t\tif (parseInt(this.type) < 3) return true\r\n\t\t\treturn false\r\n\t\t},\r\n\t\tteamTrademarks() {\r\n\t\t\tlet res = [];\r\n\r\n\t\t\tif (this.team) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tthis.team?.products.map(prod => {\r\n\t\t\t\t\tconst inArr = arr.find(it => it === prod.trademarkId)\r\n\t\t\t\t\tif (!inArr) {\r\n\t\t\t\t\t\tarr.push(prod.trademarkId)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tres = this.trademarks.filter(it => arr.indexOf(it.id) !== -1)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn res\r\n\t\t},\r\n\t\tname() {\r\n\t\t\tlet name = ''\r\n\t\t\tif (this.team && this.type && this.trademark?.length) {\r\n\t\t\t\tswitch (this.type) {\r\n\t\t\t\t\tcase 1: name = this.team.name.split('_')[0] + ' online store';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2: name = this.team.name.split('_')[0] + ' brick&mortar store';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3: name = this.trademark + ' brick&mortar store';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn name;\r\n\t\t},\r\n\t\tmultiple() {\r\n\t\t\tif (this.type == 3) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t\treturn true\r\n\t\t},\r\n\t\ttypes() {\r\n\t\t\tconst types = [];\r\n\t\t\t\r\n\t\t\tif (!this.channels?.find(chan => chan.type == 1)) {\r\n\t\t\t\ttypes.push({ text: 'team self operates online store', value: 1 });\r\n\t\t\t}\r\n\t\t\tif (!this.channels?.find(chan => chan.type == 2)) {\r\n\t\t\t\ttypes.push({ text: 'team self operates brick&mortar channel', value: 2 });\r\n\t\t\t}\r\n\t\t\tif (!this.channels?.find(chan => chan.type == 3)) {\r\n\t\t\t\ttypes.push({ text: 'trademark operates brick&mortar channel', value: 3 });\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn types;\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\ttype() {\r\n\t\t\tthis.trademark = [];\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tonceMore() {\r\n\t\t\tthis.calculating = false\r\n\t\t\tthis.message = ''\r\n\t\t\tthis.error = ''\r\n\t\t},\r\n\t\tcalculate() {\r\n\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\tthis.investments = retailInvestments(this.type, this.stores);\r\n\t\t\t\tthis.operational = operationalCosts(this.type, this.stores);\r\n\r\n\t\t\t\tthis.message = `\r\n\t\t\t\tPlease, mention the figures:\r\n            \t\tinvestment costs = ${localeNumber(this.investments, this.locale)}\r\n\t\t\t\t\toperational cost = ${localeNumber(this.operational, this.locale)}\r\n                    if you agree, press the button Save`;\r\n\t\t\t\t\r\n\t\t\t\tthis.calculating = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync addChannel() {\r\n\t\t\t\r\n\t\t\tlet trademarks = [];\r\n\t\t\t\r\n\t\t\ttypeof this.trademark == 'string' ?\r\n\t\t\t\ttrademarks.push(this.trademark) :\r\n\t\t\t\ttrademarks = this.trademark;\r\n\r\n\t\t\tconst chan = {\r\n\t\t\t\tgameId: this.game.id,\r\n\t\t\t\tround: this.game.round,\r\n\t\t\t\tregister_round: this.game.round,\r\n\t\t\t\tteamId: this.team.id,\r\n\t\t\t\tname: this.name,\r\n\t\t\t\tstores: this.stores,\r\n\t\t\t\ttype: this.type,\r\n\t\t\t\tinvestment_costs: this.investments,\r\n\t\t\t\toperational_costs: this.operational,\r\n\t\t\t\ttrademarks: trademarks,\r\n\t\t\t\tteam: this.team\r\n\t\t\t}\r\n\t\t\t//console.log(chan)\r\n\t\t\tawait this.$store.dispatch('addChannel', chan)\r\n\t\t\tthis.closeDialog();\r\n\t\t},\r\n\t\tcloseDialog() {\r\n\t\t\t//reset\r\n\t\t\tthis.dialog = false\r\n\t\t\tthis.calculating = false\r\n\t\t\tthis.message = ''\r\n\t\t\tthis.error = ''\r\n\t\t}\r\n\t},\r\n\tcomponents: { Loader },\r\n\tasync mounted() {\r\n\r\n\t\tif (!this.team && (this.game && this.user)) {\r\n\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\tconst team = this.game.teams.find(te => te.name == name);\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTeam', team.id);\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.trademarks.length < 1) {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTrademarks');\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addChannel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addChannel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addChannel.vue?vue&type=template&id=0d6b2fac&\"\nimport script from \"./addChannel.vue?vue&type=script&lang=js&\"\nexport * from \"./addChannel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"450px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"delete channel\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-divider'),_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Do you really want to delete the channel \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(this.channel.name))]),_vm._v(\" ? \")]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.deleteChannel}},[_vm._v(\" Yes \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" No \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" max-width=\"450px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">mdi-delete</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>delete channel</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\" >\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tDo you really want to delete the channel <span class=\"secondary--text\">{{ this.channel.name }}</span> ?\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"error\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"deleteChannel\">\r\n\t\t\t\t\tYes\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tNo\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { retailInvestments } from '../../../functions/retail';\r\n\timport Loader from '../../../layouts/Loader.vue';\r\n\texport default {\r\n\t\tprops: ['channel'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading;\r\n\t\t\t},\r\n\t\t\tintermediary() {\r\n\t\t\t\treturn this.$store.getters.intermediary;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync deleteChannel () {\r\n\t\t\t\t\r\n\t\t\t\tif (this.channel.round !== this.channel.register_round) {\r\n\t\t\t\t\t//calculate - investments\r\n\t\t\t\t\tconst retail_writte_off = retailInvestments(this.channel.type, this.channel.stores);\r\n\t\t\t\t\t//update intermediary\r\n\t\t\t\t\tconst interdto = { id: this.intermediary.id, retail_writte_off: this.intermediary.retail_writte_off + retail_writte_off }\r\n\t\t\t\t\tawait this.$store.dispatch('updateIntermediary', interdto);\t\r\n\t\t\t\t}\r\n\t\t\t\t//dalete channel\r\n\t\t\t\tawait this.$store.dispatch('deleteChannel', this.channel.id);\r\n\t\t\t\tthis.closeDialog ()\t\t\t\t\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync mounted() {\r\n\t\t\tif (this.channel.round !== this.channel.register_round) {\r\n\t\t\t\tif (!this.intermediary && this.channel) {\r\n\t\t\t\t\tconst obj = {\r\n\t\t\t\t\t\tgameId: this.channel.gameId,\r\n\t\t\t\t\t\tround: this.channel.round,\r\n\t\t\t\t\t\tteamId: this.channel.teamId\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.$store.dispatch('fetchTeamIntermediary', obj)\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tthrow new Error(error.message);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, \r\n\t\tcomponents: {Loader}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteChannel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteChannel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deleteChannel.vue?vue&type=template&id=3b29b3d9&\"\nimport script from \"./deleteChannel.vue?vue&type=script&lang=js&\"\nexport * from \"./deleteChannel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-lead-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"edit channel\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Change parameters of the \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" channel \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.teamTrademarks,\"item-text\":\"name\",\"item-value\":\"name\",\"multiple\":\"\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"trademarks\",\"rules\":[_vm.rules.required]},on:{\"change\":_vm.onceMore},model:{value:(_vm.trademark),callback:function ($$v) {_vm.trademark=$$v},expression:\"trademark\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\",\"md\":\"3\"}},[_c('v-text-field',{attrs:{\"color\":\"secondary\",\"label\":\"stores\",\"name\":\"stores\",\"type\":\"text\",\"rules\":[_vm.rules.number],\"readonly\":_vm.readonly},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.stores),callback:function ($$v) {_vm.stores=_vm._n($$v)},expression:\"stores\"}})],1)],1)],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e(),_c('v-row',{staticClass:\"text-center text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid},on:{\"click\":_vm.calculate}},[_vm._v(\"Calculate\")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.calculating || Boolean(_vm.error)},on:{\"click\":_vm.changeChannel}},[_vm._v(\" Upgrade \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent max-width=\"600px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">mdi-lead-pencil</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>edit channel</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tChange parameters of the <span class=\"secondary--text\">{{ name }}</span> channel\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\t\tv-model=\"trademark\"\r\n\t\t\t\t\t\t\t\t\t:items=\"teamTrademarks\"\r\n\t\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\t\titem-value=\"name\"\r\n\t\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"trademarks\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"3\" md=\"3\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"stores\"\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"stores\"\r\n\t\t\t\t\t\t\t\t\tname=\"stores\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t\t:readonly=\"readonly\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t\t<v-row justify=\"center\" class=\"text-center text-pre-wrap mx-2\">{{ message }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!valid\"\r\n\t\t\t\t\t@click=\"calculate\"\r\n\t\t\t\t>Calculate</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!calculating || Boolean(error)\"\r\n\t\t\t\t\t@click=\"changeChannel\">\r\n\t\t\t\t\tUpgrade\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" \r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport { retailInvestments, operationalCosts } from '../../../functions/retail';\r\nimport { localeNumber } from '../../../functions/common.js';\r\n\r\nexport default {\r\n\tprops: ['channel'],\r\n\tdata () {\r\n\t\treturn\t{\r\n\t\t\tdialog: false,\r\n\t\t\tvalid: false,\r\n\t\t\tmessage: '',\r\n\t\t\terror: '',\r\n\t\t\tcalculating: false,\r\n\t\t\trules: {\r\n\t\t\t\trequired: v => (v && v.length > 0) || 'required field',\r\n\t\t\t\tnumber: v => {\r\n\t\t\t\t\tif (!isNaN(parseFloat(v)) && v >= 1 && v <= 999) return true;\r\n\t\t\t\t\treturn 'it\\'s expected number between 1 and 999';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstores: this.channel.stores,\r\n\t\t\ttrademark: this.channel.trademarks,\r\n\t\t\tname: this.channel.name,\r\n\r\n\t\t\toperational: 0,\r\n\t\t\tinvestments: 0,\r\n\t\t\ttoAdd: [], //trademarks of channel\r\n\t\t\ttoRemove: [], //trademarks from the channel\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tloading () {\r\n\t\t\treturn this.$store.getters.loading;\r\n\t\t},\r\n\t\tlocale() {\r\n\t\t\treturn this.$store.getters.locale;\r\n\t\t},\r\n\t\treadonly () {\r\n\t\t\tif (this.channel.type == 1) return true\r\n\t\t\treturn false\r\n\t\t},\r\n\t\ttrademarks() {\r\n\t\t\treturn this.$store.getters.trademarks;\r\n\t\t},\r\n\t\tteam() {\r\n\t\t\treturn this.$store.getters.team;\r\n\t\t},\r\n\t\tteamTrademarks() {\r\n\t\t\tlet res = [];\r\n\t\t\tif (this.team) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tthis.team?.products.map(prod => {\r\n\t\t\t\t\tconst inArr = arr.find(it => it === prod.trademarkId)\r\n\t\t\t\t\tif (!inArr) {\r\n\t\t\t\t\t\tarr.push(prod.trademarkId)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tres = this.trademarks?.filter(it => arr.indexOf(it.id) !== -1)\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tcalculate () {\r\n\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\t\t\r\n\t\t\t\tif (this.stores === this.channel.stores && this.trademark.length == this.channel.trademarks.length) {\r\n\t\t\t\t\treturn this.error = 'No parameters of the channel have been changed'\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//aditional stores\r\n\t\t\t\tconst delta = this.stores - this.channel.stores;\r\n\t\t\t\t\t\r\n\t\t\t\tif (delta !== 0) {\r\n\t\t\t\t\t//added investments & calculate the operational cost\r\n\t\t\t\t\tthis.investments = retailInvestments(this.channel.type, delta);\r\n\t\t\t\t\tthis.operational = operationalCosts(this.channel.type, this.stores);\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.message = this.message = `\r\n\t\t\t\t\t\tPlease, mention the figures:\r\n\t\t\t\t\t\tadditional investment costs = ${localeNumber(this.investments, this.locale)}\r\n\t\t\t\t\t\toperational cost = ${localeNumber(this.operational, this.locale)}\r\n\t\t\t\t\t\tif you agree, press the button Upgrade`;\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tif (!this.error && delta == 0) {\r\n\t\t\t\t\tconst trademarksList = this.trademark;\r\n\t\t\t\t\tconst trademarksChan = this.channel.trademarks;\r\n\r\n\t\t\t\t\tif (trademarksList?.length > trademarksChan?.length) {\r\n\t\t\t\t\t\t//add trademark(s) to channel\r\n\t\t\t\t\t\ttrademarksList.forEach(item => {\r\n\t\t\t\t\t\t\tconst inChannel = trademarksChan?.find(tr => tr.name == item)\r\n\t\t\t\t\t\t\tif (!inChannel) {\r\n\t\t\t\t\t\t\t\tthis.toAdd.push(item)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t//console.log(this.toAdd)\r\n\t\t\t\t\t\tconst trs = this.toAdd.join(' ');\r\n\t\t\t\t\t\tthis.message = `In these circumstances you have not an additional investment\r\n\t\t\t\t\t\t\tif you want to add to the channel trademark(s): ${trs},\r\n\t\t\t\t\t\t\tpress button Upgrade`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t//remove trademark(s) from the channel\r\n\t\t\t\t\t\ttrademarksChan?.forEach(item => {\r\n\t\t\t\t\t\t\tconst inChannel = trademarksList?.find(tr => tr == item.name)\r\n\t\t\t\t\t\t\tif (!inChannel) {\r\n\t\t\t\t\t\t\t\tthis.toRemove.push(item.name)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconst trs = this.toRemove.join(', ');\r\n\t\t\t\t\t\tthis.message = `In these circumstances you have not an additional investment\r\n\t\t\t\t\t\t\tif you want to remove from the channel trademark(s): ${trs},\r\n\t\t\t\t\t\t\tpress button Upgrade`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tthis.calculating = true;\t\t\t\t\r\n\t\t\t}\t\r\n\t\t},\r\n\t\tonceMore () {\r\n\t\t\tthis.error = ''\r\n\t\t\tthis.message = ''\t\t\t\r\n\t\t\tthis.calculating = false;\r\n\t\t},\r\n\t\tasync changeChannel () {\r\n\r\n\t\t\tif (this.stores !== this.channel.stores) {\r\n\t\t\t\t\r\n\t\t\t\tconst channel = {\r\n\t\t\t\t\tid: this.channel.id,\r\n\t\t\t\t\tstores: this.stores,\r\n\t\t\t\t\tinvestment_costs: this.channel.investment_costs + this.investments,\r\n\t\t\t\t\toperational_costs: this.operational,\r\n\t\t\t\t}\r\n\t\t\t\t/*console.log(`channel investments: ${this.channel.investment_costs}`)\r\n\t\t\t\tconsole.log(`added investments: ${this.investments}`)\r\n\t\t\t\tconsole.log(`new investments: ${channel.investment_costs}`)*/\r\n\t\t\t\tawait this.$store.dispatch('editChannel', channel);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif (this.toRemove.length > 0) {\r\n\t\t\t\t//if trademark include special signs like as $, %, + ...  => encodeURIComponent()\r\n\t\t\t\tthis.toRemove?.forEach(async(trademark) => {\r\n\t\t\t\t\t//console.log(encodeURIComponent(trademark))\r\n\t\t\t\t\tthis.removeTrademark(encodeURIComponent(trademark))\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse if (this.toAdd?.length > 0) {\r\n\t\t\t\tthis.toAdd?.forEach(trademark => {\r\n\t\t\t\t\tthis.addTrademarktoChannel(trademark)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tthis.closeDialog ()\t\t\t\t\r\n\t\t\t\t\r\n\t\t},\r\n\t\tasync addTrademarktoChannel(trademark) {\r\n\t\t\tconst obj = {\r\n\t\t\t\tchannelId: this.channel.id,\r\n\t\t\t\ttrademark: trademark\r\n\t\t\t}\r\n\t\t\tawait this.$store.dispatch('addTrademarkToChannel', obj);\r\n\t\t},\r\n\t\tasync removeTrademark(trademark) {\r\n\t\t\tconst obj = {\r\n\t\t\t\tchannelId: this.channel.id,\r\n\t\t\t\ttrademark: trademark\r\n\t\t\t}\r\n\t\t\tawait this.$store.dispatch('removeTrademarkFromChannel', obj);\r\n\t\t},\r\n\t\tcloseDialog () {\r\n\t\t\t//reset\r\n\t\t\tthis.dialog = false\r\n\t\t\tthis.error = ''\r\n\t\t\tthis.message = ''\r\n\t\t\tthis.calculating = false\r\n\t\t\tthis.stores = this.channel.stores;\r\n\t\t\tthis.trademark = this.channel.trademarks;\r\n\t\t\tthis.valid = false;\r\n\t\t}\r\n\t},\r\n\tcomponents: {Loader},\r\n\tasync mounted() {\r\n\t\t\t\r\n\t\tif (this.trademarks?.length < 1) {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTrademarks');\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!this.team && this.channel?.teamId) {\r\n\t\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTeam', this.channel.teamId);\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeChannel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeChannel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changeChannel.vue?vue&type=template&id=975d20b6&\"\nimport script from \"./changeChannel.vue?vue&type=script&lang=js&\"\nexport * from \"./changeChannel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"450px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"dark\":\"\",\"small\":\"\"}},on),[_vm._v(\" sell franchise \")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Set the parameters for selling the franchise \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list\":\"\"}},[(_vm.canSelling)?_c('div',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.items,\"item-text\":\"name\",\"attach\":\"\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"select franchise\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"secondary\",\"label\":\"franchise cost\",\"name\":\"franchiseCost\",\"type\":\"text\",\"rules\":[_vm.rules.number]},on:{\"change\":_vm.onceMore},model:{value:(_vm.franchise_cost),callback:function ($$v) {_vm.franchise_cost=_vm._n($$v)},expression:\"franchise_cost\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"secondary\",\"label\":\"franchise fee\",\"name\":\"franchiseFee\",\"type\":\"text\",\"rules\":[_vm.rules.number]},on:{\"change\":_vm.onceMore},model:{value:(_vm.franchise_fee),callback:function ($$v) {_vm.franchise_fee=_vm._n($$v)},expression:\"franchise_fee\"}})],1)],1)],1)],1):_c('v-row',{staticClass:\"text-center mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(\" You can't sell the franchise this year \")])],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e()],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid || !_vm.canSelling || Boolean(_vm.error)},on:{\"click\":_vm.addChannel}},[_vm._v(\" Confirm \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Decline \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent max-width=\"450px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" \r\n\t\t\t\tdark small v-on=\"on\">\r\n\t\t\t\tsell franchise\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tSet the parameters for selling the franchise\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list>\r\n\t\t\t\t\t<div v-if=\"canSelling\">\r\n\t\t\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t:items=\"items\"\r\n\t\t\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\t\t\tattach\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"select franchise\"\r\n\t\t\t\t\t\t\t\t\t\t@change=\"onceMore()\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"franchise cost\"\r\n\t\t\t\t\t\t\t\t\t\tv-model.number=\"franchise_cost\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"franchiseCost\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t\t\t@change=\"onceMore\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"franchise fee\"\r\n\t\t\t\t\t\t\t\t\t\tv-model.number=\"franchise_fee\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"franchiseFee\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t\t\t@change=\"onceMore\">\r\n\t\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t</v-form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<v-row v-else justify=\"center\" class=\"text-center mx-2\">\r\n\t\t\t\t\t\tYou can't sell the franchise this year\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!valid || !canSelling || Boolean(error)\"\r\n\t\t\t\t\t@click=\"addChannel\">\r\n\t\t\t\t\tConfirm\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" \r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tDecline\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\t\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\n\timport Loader from '../../../layouts/Loader.vue';\r\n\r\n\texport default {\r\n\t\tprops: ['outlets'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false,\r\n\t\t\t\tvalid: false,\r\n\t\t\t\terror: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\trequired: v => (v && v.length > 0) || 'required field',\r\n\t\t\t\t\tnumber: v => {\r\n\t\t\t\t\t\tif (!isNaN(parseFloat(v)) && v >= 0) return true;\r\n\t\t\t\t\t\treturn 'it\\'s expected number more than 0';\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t//props\r\n\t\t\t\tname: '',\r\n\t\t\t\tfranchise_cost: 0,\r\n\t\t\t\tfranchise_fee: 0,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tcanSelling () {\r\n\t\t\t\tconst sales = this.outlets.filter(outlet => outlet.sales_last > 0)\r\n\t\t\t\treturn Boolean(this.outlets.length > 0 && sales.length > 0)\r\n\t\t\t},\r\n\t\t\tchannels() {\r\n\t\t\t\treturn this.$store.getters.channels;\r\n\t\t\t},\r\n\t\t\titems () {\r\n\t\t\t\tconst frs = []\r\n\t\t\t\tthis.outlets.forEach(outlet => {\r\n\t\t\t\t\toutlet.trademarks.map((trademark) => {\r\n\t\t\t\t\t\tconst inChan = this.channels.find((item) => (item.type == 4 && item.name.split(' ')[0] == trademark.name));\r\n\t\t\t\t\t\tif (!inChan) {\r\n\t\t\t\t\t\t\tfrs.push({name: (trademark.name + ' franchise'), trademark: [trademark.name]})\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\treturn frs;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonceMore () {\r\n\t\t\t\tthis.error = ''\r\n\t\t\t},\r\n\t\t\tasync addChannel () {\r\n\t\t\t\t\r\n\t\t\t\tif (this.$refs.form.validate()) {\r\n\r\n\t\t\t\t\tconst item = this.items.find(it => it.name === this.name)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst chan = {\r\n\t\t\t\t\t\tgameId: this.outlets[0].gameId,\r\n\t\t\t\t\t\tround: this.outlets[0].round,\r\n\t\t\t\t\t\tregister_round: this.outlets[0].round,\r\n\t\t\t\t\t\tteamId: this.outlets[0].teamId,\r\n\t\t\t\t\t\tname: this.name,\r\n\t\t\t\t\t\ttype: 4, //franchise\r\n\t\t\t\t\t\tstores: 0,\r\n\t\t\t\t\t\tfranchise_cost: this.franchise_cost,\r\n\t\t\t\t\t\tfranchise_fee: this.franchise_fee,\r\n\t\t\t\t\t\ttrademarks: item.trademark,\r\n\t\t\t\t\t\tinvestment_costs: 0,\r\n\t\t\t\t\t\toperational_costs: 0,\r\n\t\t\t\t\t\tteam: this.outlets[0].team,\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//console.log(chan)\r\n\t\t\t\t\tawait this.$store.dispatch('addChannel', chan)\r\n\t\t\t\t\tthis.closeDialog ()\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.error = 'Enter all params correctly, please'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t\tthis.error = ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sellFranchise.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./sellFranchise.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./sellFranchise.vue?vue&type=template&id=2a6c9b5e&\"\nimport script from \"./sellFranchise.vue?vue&type=script&lang=js&\"\nexport * from \"./sellFranchise.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"500px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-lead-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"edit franchise\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Change parameters of the \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.channel.name))])]),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"secondary\",\"label\":\"franchise cost\",\"name\":\"franchiseCost\",\"type\":\"text\",\"rules\":[_vm.rules.number]},on:{\"change\":_vm.onceMore},model:{value:(_vm.franchise_cost),callback:function ($$v) {_vm.franchise_cost=_vm._n($$v)},expression:\"franchise_cost\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"color\":\"secondary\",\"label\":\"franchise fee\",\"name\":\"franchiseFee\",\"type\":\"text\",\"rules\":[_vm.rules.number]},on:{\"change\":_vm.onceMore},model:{value:(_vm.franchise_fee),callback:function ($$v) {_vm.franchise_fee=_vm._n($$v)},expression:\"franchise_fee\"}})],1)],1)],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e()],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":_vm.loading || Boolean(_vm.error) || !_vm.change},on:{\"click\":_vm.changeChannel}},[_vm._v(\" Confirm \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Decline \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" max-width=\"500px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">mdi-lead-pencil</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>edit franchise</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tChange parameters of the <span class=\"secondary--text\">{{ channel.name }}</span>\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list>\r\n\t\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"franchise cost\"\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"franchise_cost\"\r\n\t\t\t\t\t\t\t\t\tname=\"franchiseCost\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"franchise fee\"\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"franchise_fee\"\r\n\t\t\t\t\t\t\t\t\tname=\"franchiseFee\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.number]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"loading || Boolean(error) || !change\"\r\n\t\t\t\t\t@click=\"changeChannel\">\r\n\t\t\t\t\tConfirm\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tDecline\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\t\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\n\r\n\texport default {\r\n\t\tprops: ['channel'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false,\r\n\t\t\t\tvalid: false,\r\n\t\t\t\terror: '',\r\n\t\t\t\tchange: false,\r\n\t\t\t\trules: {\r\n\t\t\t\t\tnumber: v => {\r\n\t\t\t\t\t\tif (!isNaN(parseFloat(v)) && v >= 0) return true;\r\n\t\t\t\t\t\treturn 'it\\'s expected number more than 0';\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t//props\r\n\t\t\t\tfranchise_cost: this.channel.franchise_cost,\r\n\t\t\t\tfranchise_fee: this.channel.franchise_fee,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonceMore () {\r\n\t\t\t\tthis.error = '';\r\n\t\t\t\tthis.change = true;\r\n\t\t\t},\r\n\t\t\tasync changeChannel () {\r\n\r\n\t\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (this.channel.franchise_cost === this.franchise_cost &&\r\n\t\t\t\t\t\tthis.channel.franchise_fee === this.franchise_fee) {\r\n\t\t\t\t\t\treturn this.error = 'No parameters of the franchise have been changed'\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst channel = {\r\n\t\t\t\t\t\tid:  this.channel.id, \r\n\t\t\t\t\t\tfranchise_cost: this.franchise_cost,\r\n\t\t\t\t\t\tfranchise_fee: this.franchise_fee,\r\n\t\t\t\t\t\tinvestment_costs: 0,\r\n\t\t\t\t\t\toperational_costs: 0,\r\n\t\t\t\t\t\tstores: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t//changeChannel \r\n\t\t\t\t\t\tawait this.$store.dispatch('editChannel', channel)\r\n\t\t\t\t\t\tthis.closeDialog ()\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (error) {\r\n\t\t\t\t\t\tthis.error = error.message\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false;\r\n\t\t\t\tthis.error = '';\r\n\t\t\t\tthis.change = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeFranchise.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeFranchise.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changeFranchise.vue?vue&type=template&id=2b9fdc92&\"\nimport script from \"./changeFranchise.vue?vue&type=script&lang=js&\"\nexport * from \"./changeFranchise.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\" mdi-cart-plus \")])]}}],null,true)},[_c('span',[_vm._v(\"register in chain\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-spacer'),_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Registration in the \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.channel.name))])]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.teamTrademarks,\"item-text\":\"name\",\"multiple\":\"\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"trademarks\",\"rules\":[_vm.rules.not_empty]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.trademark),callback:function ($$v) {_vm.trademark=$$v},expression:\"trademark\"}})],1)],1)],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e(),_c('v-row',{staticClass:\"text-center text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid || Boolean(_vm.error)},on:{\"click\":_vm.calculate}},[_vm._v(\" Calculate \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.changed || Boolean(_vm.error)},on:{\"click\":_vm.addChannel}},[_vm._v(\" Confirm \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Decline \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent max-width=\"500px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">\r\n\t\t\t\t\t\t\tmdi-cart-plus\r\n\t\t\t\t\t\t</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>register in chain</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-spacer></v-spacer>\t\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tRegistration in the <span class=\"secondary--text\">{{ channel.name }}</span> \r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\r\n\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\tv-model=\"trademark\"\r\n\t\t\t\t\t\t\t\t:items=\"teamTrademarks\"\r\n\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"trademarks\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.not_empty]\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t\t<v-row justify=\"center\" class=\"text-center text-pre-wrap mx-2\">{{ message }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!valid || Boolean(error)\"\r\n\t\t\t\t\t@click=\"calculate\">\r\n\t\t\t\t\tCalculate\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!changed || Boolean(error)\"\r\n\t\t\t\t\t@click=\"addChannel\">\r\n\t\t\t\t\tConfirm\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tDecline\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue'\r\nimport { localeNumber } from '../../../functions/common.js';\r\n\texport default {\r\n\t\tprops: ['channel'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false,\r\n\t\t\t\tvalid: false,\r\n\t\t\t\tchanged: false,\r\n\t\t\t\terror: '',\r\n\t\t\t\tmessage: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\tnot_empty: v => v.length > 0 || 'select min 1 item'\r\n\t\t\t\t},\r\n\t\t\t\t//props\r\n\t\t\t\ttrademark: [],\r\n\t\t\t\tinvestments: null,\r\n\t\t\t\toperational: null,\r\n\t\t\t\tstores: this.channel.stores,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tlocale() {\r\n\t\t\t\treturn this.$store.getters.locale;\r\n\t\t\t},\r\n\t\t\tuser() {\r\n\t\t\t\treturn this.$store.getters.user;\r\n\t\t\t},\r\n\t\t\tgame() {\r\n\t\t\t\treturn this.$store.getters.game;\r\n\t\t\t},\r\n\t\t\tteam() {\r\n\t\t\t\treturn this.$store.getters.team;\r\n\t\t\t},\r\n\t\t\ttrademarks () {\r\n\t\t\t\treturn this.$store.getters.trademarks;\r\n\t\t\t},\r\n\t\t\tteamTrademarks() {\r\n\t\t\t\tlet res = [];\r\n\t\t\t\tif (this.team) {\r\n\t\t\t\t\tconst arr = [];\r\n\t\t\t\t\tthis.team?.products.map(prod => {\r\n\t\t\t\t\t\tconst inArr = arr.find(it => it === prod.trademarkId)\r\n\t\t\t\t\t\tif (!inArr) {\r\n\t\t\t\t\t\t\tarr.push(prod.trademarkId)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tres = this.trademarks.filter(it => arr.indexOf(it.id) !== -1)\r\n\t\t\t\t}\r\n\t\t\t\treturn res\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonceMore() {\r\n\t\t\t\tthis.error =''\r\n\t\t\t\tthis.changed = false;\r\n\t\t\t\tthis.message = '';\r\n\t\t\t},\r\n\t\t\tcalculate() {\r\n\t\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst num = this.trademark.length;\r\n\t\t\t\t\tthis.investments = this.channel.entry_fee * num;\r\n\t\t\t\t\tthis.operational  = this.channel.annual_fee * num;\r\n\r\n\t\t\t\t\tthis.message = `Please, mention the figures:\r\n            \t\tinvestment costs = ${localeNumber(this.investments, this.locale)}\r\n\t\t\t\t\toperational cost = ${localeNumber(this.operational, this.locale)}\r\n                    if you agree, press the button Confirm`; \r\n\r\n\t\t\t\t\tthis.changed = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync addChannel () {\r\n\t\t\t\tif (this.trademark.length > 0) {\r\n\t\t\t\t\tlet type = this.channel.type === 'brick&mortar' ? 8 : 7;\r\n\t\t\t\t\tconsole.log(this.trademark)\r\n\t\t\t\t\tconst chan = {\r\n\t\t\t\t\t\tgameId: this.game.id,\r\n\t\t\t\t\t\tround: this.game.round,\r\n\t\t\t\t\t\tregister_round: this.game.round,\r\n\t\t\t\t\t\tteamId: this.team.id,\r\n\t\t\t\t\t\tname: this.channel.name,\r\n\t\t\t\t\t\tstores: this.stores,\r\n\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\tinvestment_costs: this.investments,\r\n\t\t\t\t\t\toperational_costs: this.operational,\r\n\t\t\t\t\t\ttrademarks: this.trademark,\r\n\t\t\t\t\t\tnum_trademarks: this.channel.num_trademarks,\r\n\t\t\t\t\t\tteam: this.team\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(chan)/**/\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t//addChannel \r\n\t\t\t\t\t\tawait this.$store.dispatch('addChannel', chan)\r\n\t\t\t\t\t\tthis.closeDialog ()\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (error) {\r\n\t\t\t\t\t\tthis.error = error.message\r\n\t\t\t\t\t} \r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.error = 'Define trademarks you want to register in the chain'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t\tthis.error = ''\r\n\t\t\t\tthis.changed = false\r\n\t\t\t\tthis.message = '';\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader},\r\n\t\tasync mounted() {\r\n\t\t\tif (!this.team && (this.game && this.user)) {\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchTeam', team.id);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.trademarks.length < 1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchTrademarks');\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerInChain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./registerInChain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./registerInChain.vue?vue&type=template&id=4c4ff9dc&\"\nimport script from \"./registerInChain.vue?vue&type=script&lang=js&\"\nexport * from \"./registerInChain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"450px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-cart-off\")])]}}],null,true)},[_c('span',[_vm._v(\"suspend from chain\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Do you want to suspend all trademarks from the \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(this.channel.name))]),_vm._v(\"? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.deleteChannel}},[_vm._v(\" Yes \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" No \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" max-width=\"450px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">mdi-cart-off</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>suspend from chain</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tDo you want to suspend all trademarks from the <span class=\"secondary--text\">{{ this.channel.name }}</span>?\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"error\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"deleteChannel\">\r\n\t\t\t\t\tYes\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tNo\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\n\timport Loader from '../../../layouts/Loader.vue';\r\n\r\n\texport default {\r\n\t\tprops: ['channel'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync deleteChannel () {\r\n\t\t\t\tawait this.$store.dispatch('deleteChannel', this.channel.id);\r\n\t\t\t\tthis.closeDialog()\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t\tthis.error = ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./suspendFromChain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./suspendFromChain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./suspendFromChain.vue?vue&type=template&id=47aad7e4&\"\nimport script from \"./suspendFromChain.vue?vue&type=script&lang=js&\"\nexport * from \"./suspendFromChain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-lead-pencil\")])]}}],null,true)},[_c('span',[_vm._v(\"edit\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Editing the trademarks, registered in the chain \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.name))])]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"items\":_vm.teamTrademarks,\"item-text\":\"name\",\"multiple\":\"\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"trademarks\",\"rules\":[_vm.rules.not_empty]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.trademark),callback:function ($$v) {_vm.trademark=$$v},expression:\"trademark\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"color\":\"secondary\",\"label\":\"entry fee*\",\"name\":\"investments\",\"type\":\"text\",\"readonly\":\"\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.investments),callback:function ($$v) {_vm.investments=_vm._n($$v)},expression:\"investments\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"4\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"color\":\"secondary\",\"label\":\"annual flat fee*\",\"name\":\"operationals cost\",\"type\":\"text\",\"readonly\":\"\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.operational),callback:function ($$v) {_vm.operational=_vm._n($$v)},expression:\"operational\"}})],1)],1),_c('div',{staticClass:\"caption font-weight-bold text-left\"},[_vm._v(\"*for all trademarks\")])],1)],1),(_vm.error)?_c('v-row',{staticClass:\"mx-2 error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(\"! \"+_vm._s(_vm.error))]):_vm._e(),_c('v-row',{staticClass:\"text-center text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid || _vm.loading},on:{\"click\":_vm.calculate}},[_vm._v(\" Calculate \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.changed || Boolean(_vm.error)},on:{\"click\":_vm.changeChannel}},[_vm._v(\" Upgrade \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent max-width=\"500px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">mdi-lead-pencil</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>edit</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\tEditing the trademarks, registered in the chain <span class=\"secondary--text\">{{ name }}</span>\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" lazy-validation>\r\n\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\tv-model=\"trademark\"\r\n\t\t\t\t\t\t\t\t:items=\"teamTrademarks\"\r\n\t\t\t\t\t\t\t\titem-text=\"name\"\r\n\t\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"trademarks\"\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\"\r\n\t\t\t\t\t\t\t\t:rules=\"[rules.not_empty]\">\r\n\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"4\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"entry fee*\"\r\n\t\t\t\t\t\t\t\tv-model.number=\"investments\"\r\n\t\t\t\t\t\t\t\tname=\"investments\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t<v-col cols=\"12\" sm=\"4\" md=\"4\">\r\n\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tlabel=\"annual flat fee*\"\r\n\t\t\t\t\t\t\t\tv-model.number=\"operational\"\r\n\t\t\t\t\t\t\t\tname=\"operationals cost\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\treadonly\r\n\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t</v-row>\r\n\t\t\t\t\t<div class=\"caption font-weight-bold text-left\">*for all trademarks</div>\t\r\n\t\t\t\t</v-form>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row v-if=\"error\" justify=\"center\" class=\"mx-2 error--text\">! {{ error }}</v-row>\r\n\t\t\t\t<v-row justify=\"center\" class=\"text-center text-pre-wrap mx-2\">{{ message }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\" \r\n\t\t\t\t\t:disabled=\"!valid || loading\"\r\n\t\t\t\t\t@click=\"calculate\">\r\n\t\t\t\t\tCalculate\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t:disabled=\"!changed || Boolean(error)\"\r\n\t\t\t\t\t@click=\"changeChannel\">\r\n\t\t\t\t\tUpgrade\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" \r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue'\r\nimport { localeNumber } from '../../../functions/common.js';\r\n\r\n\texport default {\r\n\t\tprops: ['chain', 'channel'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false,\r\n\t\t\t\tvalid: false,\r\n\t\t\t\tchanged: false,\r\n\t\t\t\tmessage: '',\r\n\t\t\t\terror: '',\r\n\t\t\t\trules: {\r\n\t\t\t\t\tnumber: v => /^[+]?[0-9]/.test(v) || 'it\\'s expected number',\r\n\t\t\t\t\tnot_empty: v => v.length > 0 || 'select min 1 item',\r\n\t\t\t\t},\r\n\t\t\t\t//props\r\n\t\t\t\ttrademark: this.channel.trademarks,\r\n\t\t\t\tname: this.chain.name,\r\n\t\t\t\toperational: localeNumber(this.channel.operational_costs),\r\n\t\t\t\tinvestments: localeNumber(this.channel.investment_costs),\r\n\r\n\t\t\t\ttoAdd: [], //trademarks of channel\r\n\t\t\t\ttoRemove: [], //trademarks from the channel\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading() {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tlocale() {\r\n\t\t\t\treturn this.$store.getters.locale;\r\n\t\t\t},\r\n\t\t\tuser() {\r\n\t\t\t\treturn this.$store.getters.user;\r\n\t\t\t},\r\n\t\t\tgame() {\r\n\t\t\t\treturn this.$store.getters.game;\r\n\t\t\t},\r\n\t\t\tteam() {\r\n\t\t\t\treturn this.$store.getters.team;\r\n\t\t\t}, \r\n\t\t\ttrademarks () {\r\n\t\t\t\treturn this.$store.getters.trademarks\r\n\t\t\t},\r\n\t\t\tteamTrademarks() {\r\n\t\t\t\tlet res = [];\r\n\t\t\t\tif (this.team) {\r\n\t\t\t\t\tconst arr = [];\r\n\t\t\t\t\tthis.team?.products.map(prod => {\r\n\t\t\t\t\t\tconst inArr = arr.find(it => it === prod.trademarkId)\r\n\t\t\t\t\t\tif (!inArr) {\r\n\t\t\t\t\t\t\tarr.push(prod.trademarkId)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tres = this.trademarks.filter(it => arr.indexOf(it.id) !== -1)\r\n\t\t\t\t}\r\n\t\t\t\treturn res\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonceMore() {\r\n\t\t\t\tthis.error ='';\r\n\t\t\t\tthis.changed = true;\r\n\t\t\t\tthis.message = '';\t\r\n\t\t\t},\r\n\t\t\tcalculate() {\r\n\t\t\t\tif (this.$refs.form.validate()) {\r\n\r\n\t\t\t\t\tif (this.trademark.length == this.channel.trademarks.length) {\r\n\t\t\t\t\t\treturn this.error = `no trademark registered in ${this.chain.name} have been changed`\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst trademarksList = this.trademark;\r\n\t\t\t\t\tconst trademarksChan = this.channel.trademarks;\r\n \r\n\t\t\t\t\tif (trademarksList?.length > trademarksChan?.length) {\r\n\t\t\t\t\t\t//add trademark(s) to channel\r\n\t\t\t\t\t\ttrademarksList.forEach(item => {\r\n\t\t\t\t\t\t\tconst inChannel = trademarksChan.find(tr => tr.name == item)\r\n\t\t\t\t\t\t\tif (!inChannel) {\r\n\t\t\t\t\t\t\t\tthis.toAdd.push(item)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconst num = this.trademark.length;\r\n\t\t\t\t\t\tthis.investments = this.chain.entry_fee * num;\r\n\t\t\t\t\t\tthis.operational = this.chain.annual_fee * num;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(this.toAdd)\r\n\t\t\t\t\t\tconst trs = this.toAdd.join(' ');\r\n\t\t\t\t\t\tthis.message = `if you want to add to the chain trademark(s): ${trs},\r\n\t\t\t\t\t\t\tplease, mention new figures of the entry and annual flat fee,\r\n\t\t\t\t\t\t\tand press the button Upgrade`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t//remove trademark(s) from the channel\r\n\t\t\t\t\t\ttrademarksChan.forEach(item => {\r\n\t\t\t\t\t\t\tconst inChannel = trademarksList.find(tr => tr == item.name)\r\n\t\t\t\t\t\t\tif (!inChannel) {\r\n\t\t\t\t\t\t\t\tthis.toRemove.push(item.name)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tconst trs = this.toRemove.join(', ');\r\n\t\t\t\t\t\tconst num = this.trademark.length;\r\n\t\t\t\t\t\tthis.investments = this.chain.entry_fee * num;\r\n\t\t\t\t\t\tthis.operational = this.chain.annual_fee * num;\r\n\r\n\t\t\t\t\t\tthis.message = `if you want to remove from the chain trademark(s): ${trs},\r\n\t\t\t\t\t\t\tplease, mention new figures of the entry and annual flat fee,\r\n\t\t\t\t\t\t\tand press the button Upgrade`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\t\r\n\t\t\tasync changeChannel () {\r\n\t\t\t\tif (this.trademark !== this.channel.trademarks) {\r\n\r\n\t\t\t\t\tconst channel = {\r\n\t\t\t\t\t\tid: this.channel.id,\r\n\t\t\t\t\t\tstores: this.channel.stores,\r\n\t\t\t\t\t\tinvestment_costs: this.investments,\r\n\t\t\t\t\t\toperational_costs: this.operational,\r\n\t\t\t\t\t}\r\n\t\t\t\t\tawait this.$store.dispatch('editChannel', channel);\r\n\t\t\t\t\r\n\t\t\t\t\tif (this.toRemove.length > 0) {\r\n\t\t\t\t\t\t//if trademark include spesial signs like as $, %, + ...  => encodeURIComponent()\r\n\t\t\t\t\t\tthis.toRemove.forEach(async (trademark) => {\r\n\t\t\t\t\t\t\t//console.log(encodeURIComponent(trademark))\r\n\t\t\t\t\t\t\tthis.removeTrademark(encodeURIComponent(trademark))\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this.toAdd.length > 0) {\r\n\t\t\t\t\t\tthis.toAdd.forEach(trademark => {\r\n\t\t\t\t\t\t\tthis.addTrademarktoChannel(trademark)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.closeDialog()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t\tthis.error = ''\r\n\t\t\t\tthis.message = ''\r\n\t\t\t\tthis.selected = this.channel.trademarks;\r\n\t\t\t\tthis.changed = false;\r\n\t\t\t},\r\n\t\t\tasync addTrademarktoChannel(trademark) {\r\n\t\t\t\tconst obj = {\r\n\t\t\t\t\tchannelId: this.channel.id,\r\n\t\t\t\t\ttrademark: trademark\r\n\t\t\t\t}\r\n\t\t\t\tawait this.$store.dispatch('addTrademarkToChannel', obj);\r\n\t\t\t},\r\n\t\t\tasync removeTrademark(trademark) {\r\n\t\t\t\tconst obj = {\r\n\t\t\t\t\tchannelId: this.channel.id,\r\n\t\t\t\t\ttrademark: trademark\r\n\t\t\t\t}\r\n\t\t\t\tawait this.$store.dispatch('removeTrademarkFromChannel', obj);\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {Loader},\r\n\t\tasync mounted() {\r\n\t\t\tif (!this.team && (this.game && this.user)) {\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchTeam', team.id);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (this.trademarks?.length < 1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchProducts');\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeInChain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeInChain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changeInChain.vue?vue&type=template&id=1fcf39cf&\"\nimport script from \"./changeInChain.vue?vue&type=script&lang=js&\"\nexport * from \"./changeInChain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<v-container fluid>\r\n\t\t<div v-if=\"!loading \">\r\n\t\t\t<v-row class=\"my-2 subtitle-2 secondary--text pl-12\">\r\n\t\t\t\tRetail \r\n\t\t\t</v-row>\r\n\t\t\t<!--table head-->\r\n\r\n\t\t\t<v-row class=\"subtitle-2 mx-8\" no-gutters>\r\n\t\t\t\t<v-col class=\"tabCell text-left\">Available channels</v-col>\r\n\t\t\t\t<v-col v-for=\"item in headers\"\r\n\t\t\t\t\tclass=\"tabCell\"\r\n\t\t\t\t\t:key=\"item\">{{item}}\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<!--to do if-->\r\n\t\t\t<!--self channels list-->\r\n\t\t\t<v-expansion-panels focusable v-model=\"panel\">\r\n\t\t\t\t<v-expansion-panel>\r\n\t\t\t\t\t<v-expansion-panel-header class=\"subtitle-2 secondary--text\">\r\n\t\t\t\t\t\tSelf-operated & franchise retail channels\r\n\t\t\t\t\t</v-expansion-panel-header>\r\n\t\t\t\t\t<v-expansion-panel-content class=\"body-2\">\r\n\t\t\t\t\t\t<!--on-line stores-->\r\n\t\t\t\t\t\t<div v-if=\"onlineStores?.length > 0\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div class=\"secondary--text my-4 text-left\">Online self-operated stores</div>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div v-for=\"channel in onlineStores\"\r\n\t\t\t\t\t\t\t\t:key=\"channel.id\">\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ channel.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ channelTrademarks(channel) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ channel.stores }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.peak_market_coverage)}}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.investment_costs) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.sales_last) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.operational_costs) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.franchise_cost) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.franchise_fee) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t\t\t<change-channel :channel=\"channel\" />\r\n\t\t\t\t\t\t\t\t\t\t<delete-channel :channel=\"channel\" />\t\r\n\t\t\t\t\t\t\t\t\t</v-col>\t\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!--self - brick&mortar store-->\r\n\t\t\t\t\t\t<div v-if=\"outlets?.length\">\r\n\t\t\t\t\t\t\t<div class=\"secondary--text my-4 text-left\">\r\n\t\t\t\t\t\t\t\tBrick&mortar self-operated stores\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div v-for=\"channel in outlets\" :key=\"channel.id\" >\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ channel.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ channelTrademarks(channel) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ channel.stores }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.peak_market_coverage) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.investment_costs) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.sales_last) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.operational_costs) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.franchise_cost) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(channel.franchise_fee) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t\t\t<change-channel :channel=\"channel\" />\t\r\n\t\t\t\t\t\t\t\t\t\t<delete-channel :channel=\"channel\" />\r\n\t\t\t\t\t\t\t\t\t</v-col>\t\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!--franchise stores-->\r\n\t\t\t\t\t\t<div v-if=\"franchises?.length\">\r\n\t\t\t\t\t\t\t<div class=\"secondary--text my-4 text-left\">\r\n\t\t\t\t\t\t\t\tFranchise stores\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div v-for=\"franchise in franchises\" :key=\"franchise.id\">\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ franchise.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ channelTrademarks(franchise) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ franchise.stores }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(franchise.peak_market_coverage) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(franchise.investment_costs) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(franchise.sales_last) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(franchise.operational_costs) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(franchise.franchise_cost) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(franchise.franchise_fee) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col>\r\n\t\t\t\t\t\t\t\t\t\t<change-franchise :channel=\"franchise\" />\r\n\t\t\t\t\t\t\t\t\t\t<delete-channel :channel=\"franchise\" />\r\n\t\t\t\t\t\t\t\t\t</v-col>\t\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</v-expansion-panel-content>\r\n\t\t\t\t</v-expansion-panel>\r\n\t\t\t</v-expansion-panels>\r\n\t\t\t<div class=\"caption font-weight-bold text-left\">* for franchises only</div>\r\n\t\t\t<v-row class=\"my-4 mx-8\" justify=\"start\">\r\n\t\t\t\t<add-channel />\r\n\t\t\t\t<sell-franchise :outlets=\"outlets\" />\r\n\t\t\t</v-row>\r\n\t\t\t\r\n\t\t\t<!--independent retail-->\r\n\t\t\t\r\n\t\t\t<!--table head-->\r\n\t\t\t<v-divider />\r\n\t\t\t<v-row class=\"subtitle-2 mx-6\" no-gutters>\r\n\t\t\t\t<v-col class=\"tabCell text-left\">Chain name</v-col>\r\n\t\t\t\t<v-col v-for=\"item in headers2\"\r\n\t\t\t\t\tclass=\"tabCell text-center\"\r\n\t\t\t\t\t:key=\"item\">\r\n\t\t\t\t\t{{item}}\r\n\t\t\t\t</v-col>\r\n\t\t\t\t<v-col class=\"tabCell text-right\">actions</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<v-divider />\r\n\t\t\t<!-- independent chains list -->\r\n\t\t\t<v-expansion-panels class=\"mb-12\"\r\n\t\t\t\tv-model=\"panel2\" focusable>\r\n\t\t\t\t<v-expansion-panel>\r\n\t\t\t\t\t<v-expansion-panel-header class=\"subtitle-2 secondary--text\">\r\n\t\t\t\t\t\tIndependent retail chains \r\n\t\t\t\t\t</v-expansion-panel-header>\r\n\t\t\t\t\t<v-expansion-panel-content class=\"body-2\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!--Marketplaces-->\r\n\t\t\t\t\t\t<div v-if=\"marketplaces?.length\">\r\n\t\t\t\t\t\t\t<div class=\"secondary--text my-4 text-left\">\r\n\t\t\t\t\t\t\t\tMarketplaces\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div v-for=\"chan in marketplaces\" :key=\"chan.id\">\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ chan.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center primary--text font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\t\t{{ status(chan) }}\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.stores }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(chan.peak_market_coverage) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ lastSales(chan) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(chan.entry_fee) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(chan.annual_fee) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.retail_margin * 100}}%</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.min_price}}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.max_price }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.num_trademarks }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.design_main}} / {{ chan.design_second }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-if=\"status(chan) == 'registered'\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- suspend from the chain (delete)--> \r\n\t\t\t\t\t\t\t\t\t\t<change :chain=\"chan\" :channel=\"getChannel(chan)\" />\r\n\t\t\t\t\t\t\t\t\t\t<suspend :channel=\"getChannel(chan)\" />\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-else>\r\n\t\t\t\t\t\t\t\t\t\t<register :channel=\"chan\" />\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<!--Brick&mortar multibrands chains-->\r\n\t\t\t\t\t\t<div v-if=\"bm_chains.length\">\r\n\t\t\t\t\t\t\t<div class=\"secondary--text my-4 text-left\">\r\n\t\t\t\t\t\t\t\tBrick&mortar multibrands chains\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div v-for=\"chan in bm_chains\" :key=\"chan.id\">\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ chan.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center primary--text font-weight-bold\">\r\n\t\t\t\t\t\t\t\t\t\t{{ status(chan) }}\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.stores }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(chan.peak_market_coverage) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ lastSales(chan) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(chan.entry_fee) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(chan.annual_fee) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.retail_margin * 100 }}%</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.min_price }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.max_price }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.num_trademarks }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ chan.design_main }} / {{ chan.design_second }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-if=\"status(chan) == 'registered'\">\r\n\t\t\t\t\t\t\t\t\t\t<change :chain=\"chan\" :channel=\"getChannel(chan)\" />\r\n\t\t\t\t\t\t\t\t\t\t<suspend :channel=\"getChannel(chan)\"></suspend>\t \r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col v-else>\r\n\t\t\t\t\t\t\t\t\t\t<register :channel=\"chan\" />\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</v-expansion-panel-content>\r\n\t\t\t\t</v-expansion-panel>\r\n\t\t\t</v-expansion-panels>\r\n\t\t</div>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div> \r\n\t</v-container>\r\n</template>\r\n<script>\r\n\timport addChannel from '../../../components/team/channels/addChannel.vue'\r\n\timport deleteChannel from '../../../components/team/channels/deleteChannel.vue'\r\n\timport changeChannel from '../../../components/team/channels/changeChannel.vue'\r\n\timport sellFranchise from '../../../components/team/channels/sellFranchise.vue'\r\n\timport changeFranchise from '../../../components/team/channels/changeFranchise.vue'\r\n\r\n\timport register from '../../../components/team/channels/registerInChain.vue';\r\n\timport suspend from '../../../components/team/channels/suspendFromChain.vue';\r\n\timport change from '../../../components/team/channels/changeInChain.vue';\r\n\r\n\timport Loader from '../../../layouts/Loader.vue'\r\n\timport { localeNumber } from '../../../functions/common';\r\n\r\n\texport default {\r\n\r\n\t\tdata (){\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'arrow_right',\r\n\t\t\t\theaders: [\r\n\t\t\t\t\t'Trademarks',\r\n\t\t\t\t\t'Stores',\r\n\t\t\t\t\t'Peak market coverage',\r\n\t\t\t\t\t'Investment costs',\r\n\t\t\t\t\t'Sales in units (last year)',\r\n\t\t\t\t\t'Operational cost',\r\n\t\t\t\t\t'Franchise cost*',\r\n\t\t\t\t\t'Franchise fee *',\r\n\t\t\t\t\t'Action'],\r\n\t\t\t\theaders2: [\r\n\t\t\t\t\t'Status',\r\n\t\t\t\t\t'Stores',\r\n\t\t\t\t\t'Peak market coverage',\r\n\t\t\t\t\t'Last year sales (units)',\r\n\t\t\t\t\t'Entry fee',\r\n\t\t\t\t\t'Annual flat fee',\r\n\t\t\t\t\t'Target retail margin',\r\n\t\t\t\t\t'Min preferable price',\r\n\t\t\t\t\t'Max preferable price',\r\n\t\t\t\t\t'Number of trademarks',\r\n\t\t\t\t\t'Main / second design'],\r\n\t\t\t\tpanel: 0,\r\n\t\t\t\tpanel2: 0,\r\n\t\t\t}\r\n\t\t},\t\t\r\n\t\tcomputed: {\r\n\t\t\tloading() {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t},\r\n\t\t\tlocale() {\r\n\t\t\t\treturn this.$store.getters.locale;\r\n\t\t\t},\r\n\t\t\tuser() {\r\n\t\t\t\treturn this.$store.getters.user;\r\n\t\t\t},\r\n\t\t\tgame() {\r\n\t\t\t\treturn this.$store.getters.game;\r\n\t\t\t},\r\n\t\t\tchains () {\r\n\t\t\t\treturn this.$store.getters.chains;\r\n\t\t\t}, \r\n\t\t\tchannels () {\r\n\t\t\t\treturn this.$store.getters.channels;\r\n\t\t\t},\r\n\t\t\t// team channels\r\n\t\t\tonlineStores() {\r\n\t\t\t\tlet stores = []\r\n\t\t\t\tif (this.channels?.length > 0) {\r\n\t\t\t\t\tstores = this.channels.filter(channel => channel.type === 1)\r\n\t\t\t\t}\r\n\t\t\t\treturn stores\r\n\t\t\t},\r\n\t\t\toutlets() {\r\n\t\t\t\tlet stores = []\r\n\t\t\t\tif (this.channels?.length > 0) {\r\n\t\t\t\t\tstores = this.channels.filter(channel => (channel.type === 3 || channel.type === 2))\r\n\t\t\t\t}\r\n\t\t\t\treturn stores\r\n\t\t\t},\r\n\t\t\tfranchises() {\r\n\t\t\t\tlet stores = []\r\n\t\t\t\tif (this.channels?.length > 0) {\r\n\t\t\t\t\tstores = this.channels.filter(channel => channel.type === 4)\r\n\t\t\t\t}\r\n\t\t\t\treturn stores\r\n\t\t\t},\r\n\t\t\tmarketplaces() {\r\n\t\t\t\tlet stores = []\r\n\t\t\t\tif (this.chains?.length > 0) {\r\n\t\t\t\t\tstores = this.chains.filter(channel => channel.type == 'online')  \r\n\t\t\t\t}\r\n\t\t\t\treturn stores\r\n\t\t\t},\r\n\t\t\tbm_chains() {\r\n\t\t\t\tlet stores = []\r\n\t\t\t\tif (this.chains?.length > 0) {\r\n\t\t\t\t\tstores = this.chains.filter(channel => channel.type == 'brick&mortar')\r\n\t\t\t\t}\r\n\t\t\t\treturn stores\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tformatNumber(number) {\r\n\t\t\t\tif (number) {\r\n\t\t\t\t\treturn localeNumber(number, this.locale);\r\n\t\t\t\t}\r\n\t\t\t\treturn 0\r\n\t\t\t},\r\n\t\t\tchannelTrademarks(channel) {\r\n\t\t\t\tconst res = channel.trademarks.map(tr => tr.name)\r\n\t\t\t\treturn res.join(', ');\r\n\t\t\t},\r\n\t\t\tstatus (chain) {\r\n\t\t\t\tconst inChain = this.channels?.find(ch => (ch.name == chain.name && ch.stores > 0));\r\n\t\t\t\tif (inChain) {\r\n\t\t\t\t\treturn 'registered';\r\n\t\t\t\t}\r\n\t\t\t\treturn ' - '\r\n\t\t\t},\r\n\t\t\tgetChannel(chan) {\r\n\t\t\t\tconst inChain = this.channels?.find(ch => ch.name == chan.name);\r\n\t\t\t\tif (inChain) {\r\n\t\t\t\t\treturn inChain\r\n\t\t\t\t}\r\n\t\t\t\treturn this.error = 'channel not found!!!!'\t\t\t\t\r\n\t\t\t},\r\n\t\t\tlastSales(chan)\t{\r\n\t\t\t\tconst inChain = this.channels?.find(ch => ch.name == chan.name);\r\n\t\t\t\tif (inChain) {\r\n\t\t\t\t\treturn inChain.sales_last;\r\n\t\t\t\t}\r\n\t\t\t\treturn 0;\r\n\t\t\t}\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\taddChannel,\r\n\t\t\tdeleteChannel,\r\n\t\t\tchangeChannel,\r\n\t\t\tsellFranchise,\r\n\t\t\tchangeFranchise,\r\n\t\t\tregister,\r\n\t\t\tsuspend,\r\n\t\t\tchange,\r\n\t\t\tLoader\r\n\t\t},\r\n\t\tasync mounted() {\r\n\t\t\t\r\n\t\t\tif (this.channels == null  && (this.game && this.user)) {\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name)\r\n\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tgameId: this.game.id,\r\n\t\t\t\t\tround: this.game.round,\r\n\t\t\t\t\tteamId: team.id,\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchTeamChannels', params);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.chains == null && this.game) {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tawait this.$store.dispatch('fetchChains', this.game.id);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Retail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Retail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Retail.vue?vue&type=template&id=7dd20835&\"\nimport script from \"./Retail.vue?vue&type=script&lang=js&\"\nexport * from \"./Retail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(!_vm.loading)?_c('div',[_c('v-row',{staticClass:\"my-2 subtitle-2 secondary--text pl-12\"},[_vm._v(\" Promotion \")]),_c('v-row',{staticClass:\"subtitle-2 mx-8\",attrs:{\"no-gutters\":\"\"}},_vm._l((_vm.headers),function(item,i){return _c('v-col',{key:i,staticClass:\"tabCell\",class:item.style},[_vm._v(\" \"+_vm._s(item.text)+\" \")])}),1),(_vm.spots?.length > 0)?_c('div',[_c('v-expansion-panels',{attrs:{\"focusable\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',{staticClass:\"font-weight-bold secondary--text\"},[_vm._v(\" Advertising (spots) \")]),_c('v-expansion-panel-content',{staticClass:\"body-2\"},_vm._l((_vm.spots),function(spot){return _c('div',{key:spot.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(spot.name))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(spot.trademark.name))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(spot.core_message))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(spot.advanced_feature))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(spot.price))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.values(spot.value)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.fromArr(spot.channels)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.fromArr(spot.segments)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(spot.quality))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(spot.investments)))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(_vm.formatNumber(spot.operations)))]),_c('v-col',{staticClass:\"text-right\"},[_c('delete-spot',{attrs:{\"spot\":spot}})],1)],1),_c('v-divider')],1)}),0)],1)],1)],1):_c('v-row',{staticClass:\"mt-8 px-4\",attrs:{\"justify\":\"center\"}},[_vm._v(\" You haven't advertising spots yet! \")]),_c('v-row',{staticClass:\"my-4 mx-8\",attrs:{\"justify\":\"start\"}},[_c('add-spot')],1),_c('v-row',{staticClass:\"subtitle-2 mx-8\",attrs:{\"no-gutters\":\"\"}},_vm._l((_vm.headers2),function(item,i){return _c('v-col',{key:i,staticClass:\"tabCell\",class:item.style},[_vm._v(\" \"+_vm._s(item.text)+\" \")])}),1),(_vm.promotions?.length > 0)?_c('div',[_c('v-expansion-panels',{attrs:{\"focusable\":\"\"},model:{value:(_vm.panel),callback:function ($$v) {_vm.panel=$$v},expression:\"panel\"}},[_c('v-expansion-panel',[_c('v-expansion-panel-header',{staticClass:\"font-weight-bold secondary--text\"},[_vm._v(\" Promotion (actions) \")]),_c('v-expansion-panel-content',{staticClass:\"body-2\"},_vm._l((_vm.promotions),function(prom){return _c('div',{key:prom.id},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"text-left\"},[_vm._v(_vm._s(prom.name))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(prom.trademark.name))]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(prom.cashback * 100)+\" %\")]),_c('v-col',{staticClass:\"text-center\"},[_vm._v(_vm._s(prom.gift_cost))]),_c('v-col',{staticClass:\"text-right\"},[_c('delete-action',{attrs:{\"action\":prom}})],1)],1),_c('v-divider')],1)}),0)],1)],1)],1):_c('v-row',{staticClass:\"mt-8 px-4\",attrs:{\"justify\":\"center\"}},[_vm._v(\" You haven't promotion actions yet! \")]),_c('v-row',{staticClass:\"my-4 mx-8\",attrs:{\"justify\":\"start\"}},[_c('add-action')],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"scrollable\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase mr-4\",attrs:{\"color\":\"secondary\",\"dark\":\"\",\"small\":\"\"}},on),[_vm._v(\"add spot\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6\"},[_vm._v(\" New spot parameters \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"primary\",\"label\":\"spot's quality*\",\"name\":\"quality\",\"type\":\"text\",\"hint\":\"it's expected number between 1 and 5\",\"persistent-hint\":\"\",\"rules\":[_vm.rules.required, _vm.rules.number, _vm.rules.max]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.quality),callback:function ($$v) {_vm.quality=_vm._n($$v)},expression:\"quality\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"core message*\",\"items\":_vm.core_messages,\"item-color\":\"secondary\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.core_message),callback:function ($$v) {_vm.core_message=$$v},expression:\"core_message\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"multiple\":\"\",\"color\":\"secondary\",\"label\":\"channels*\",\"items\":_vm.all_channels,\"item-color\":\"secondary\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.channels),callback:function ($$v) {_vm.channels=$$v},expression:\"channels\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"return-object\":\"\",\"items\":_vm.teamTrademarks,\"item-text\":\"name\",\"item-value\":\"id\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"trademark*\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.trademark),callback:function ($$v) {_vm.trademark=$$v},expression:\"trademark\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"return-object\":\"\",\"label\":\"advanced feature\",\"items\":_vm.features,\"item-text\":\"text\",\"item-value\":\"value\",\"item-color\":\"secondary\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.af),callback:function ($$v) {_vm.af=$$v},expression:\"af\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"price\",\"items\":_vm.prices,\"item-color\":\"secondary\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.price),callback:function ($$v) {_vm.price=$$v},expression:\"price\"}})],1),_c('v-col',{staticClass:\"text-left\",attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"objective*\",\"items\":_vm.objectives,\"item-color\":\"secondary\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.objective),callback:function ($$v) {_vm.objective=$$v},expression:\"objective\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"spot name\",\"type\":\"text\",\"readonly\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"value*\",\"items\":_vm.values,\"item-text\":\"text\",\"item-value\":\"value\",\"item-color\":\"secondary\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"multiple\":\"\",\"return-object\":\"\",\"items\":_vm.segments,\"item-text\":\"segment.name\",\"item-value\":\"segment.pick_size\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"segments* (multiple)\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.pick_segments),callback:function ($$v) {_vm.pick_segments=$$v},expression:\"pick_segments\"}})],1)],1)],1),_c('div',{staticClass:\"caption font-weight-bold text-left\"},[_vm._v(\"* required field\")])],1),_c('v-row',{staticClass:\"error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.error))]),_c('v-row',{staticClass:\"text-center text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid || Boolean(_vm.error)},on:{\"click\":_vm.calculating}},[_vm._v(\" Calculate \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.calculate || Boolean(_vm.error)},on:{\"click\":_vm.addSpot}},[_vm._v(\"Save \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" persistent scrollable max-width=\"600px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase mr-4\" dark small v-on=\"on\">add spot</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6\">\r\n\t\t\t\tNew spot parameters\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-text class=\"black--text\">\r\n\t\t\t\t<v-container grid-list-md>\r\n\t\t\t\t\t<v-form v-model=\"valid\" ref=\"form\" validation>\r\n\t\t\t\t\t\t<v-row>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense color=\"primary\" label=\"spot's quality*\"\r\n\t\t\t\t\t\t\t\t\tv-model.number=\"quality\" name=\"quality\" \r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\thint=\"it's expected number between 1 and 5\"\r\n\t\t\t\t\t\t\t\t\tpersistent-hint\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required, rules.number, rules.max]\" @change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"core message*\" \r\n\t\t\t\t\t\t\t\t\tv-model=\"core_message\"\r\n\t\t\t\t\t\t\t\t\t:items=\"core_messages\" item-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n\t\t\t\t\t\t\t\t<v-select dense \r\n\t\t\t\t\t\t\t\t\tmultiple color=\"secondary\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"channels*\" \r\n\t\t\t\t\t\t\t\t\tv-model=\"channels\"\r\n\t\t\t\t\t\t\t\t\t:items=\"all_channels\" \r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\" \r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense return-object v-model=\"trademark\" \r\n\t\t\t\t\t\t\t\t\t:items=\"teamTrademarks\"\r\n\t\t\t\t\t\t\t\t\titem-text=\"name\" \r\n\t\t\t\t\t\t\t\t\titem-value=\"id\" \r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\" \r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"trademark*\" \r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\" \r\n\t\t\t\t\t\t\t\t\t:rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\treturn-object \r\n\t\t\t\t\t\t\t\t\tlabel=\"advanced feature\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"af\"\r\n\t\t\t\t\t\t\t\t\t:items=\"features\" \r\n\t\t\t\t\t\t\t\t\titem-text=\"text\" \r\n\t\t\t\t\t\t\t\t\titem-value=\"value\" \r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-select dense\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\" \r\n\t\t\t\t\t\t\t\t\tlabel=\"price\" v-model=\"price\" \r\n\t\t\t\t\t\t\t\t\t:items=\"prices\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\" \r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\" class=\"text-left\">\r\n\t\t\t\t\t\t\t\t<v-select dense color=\"secondary\" label=\"objective*\" v-model=\"objective\" :items=\"objectives\"\r\n\t\t\t\t\t\t\t\t\titem-color=\"secondary\" :rules=\"[rules.required]\" @change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n\t\t\t\t\t\t\t\t<v-text-field dense color=\"secondary\" label=\"spot name\" v-model=\"name\" type=\"text\" readonly>\r\n\t\t\t\t\t\t\t\t</v-text-field>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense color=\"secondary\" label=\"value*\" v-model=\"value\" :items=\"values\"\r\n\t\t\t\t\t\t\t\t\titem-text=\"text\" item-value=\"value\" item-color=\"secondary\" :rules=\"[rules.required]\"\r\n\t\t\t\t\t\t\t\t\t@change=\"onceMore()\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t<v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n\t\t\t\t\t\t\t\t<v-select dense multiple return-object v-model=\"pick_segments\" :items=\"segments\"\r\n\t\t\t\t\t\t\t\t\titem-text=\"segment.name\" item-value=\"segment.pick_size\" color=\"secondary\" item-color=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"segments* (multiple)\" @change=\"onceMore()\" :rules=\"[rules.required]\">\r\n\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t</v-form>\r\n\t\t\t\t\t<div class=\"caption font-weight-bold text-left\">* required field</div>\r\n\t\t\t\t</v-container>\r\n\t\t\t\t<v-row justify=\"center\" class=\"error--text\">{{ error }}</v-row>\r\n\t\t\t\t<v-row justify=\"center\" class=\"text-center text-pre-wrap mx-2\">{{ message }}</v-row>\r\n\t\t\t</v-card-text>\r\n\t\t\t<v-divider></v-divider>\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" :disabled=\"!valid || Boolean(error)\"\r\n\t\t\t\t\t@click=\"calculating\">\r\n\t\t\t\t\tCalculate\r\n\t\t\t\t</v-btn>\r\n\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" :disabled=\"!calculate || Boolean(error)\"\r\n\t\t\t\t\t@click=\"addSpot\">Save\r\n\t\t\t\t</v-btn>\r\n\r\n\t\t\t\t<v-btn color=\"secondary\" text class=\"text-capitalize\" @click=\"closeDialog\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</v-btn>\r\n\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nimport { SpotInvestments, SpotOperationsCosts } from '../../../functions/promotion.js'\r\nexport default {\r\n\tname: 'AddTeamSpot',\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdialog: false,\r\n\t\t\tvalid: false,\r\n\t\t\terror: '',\r\n\t\t\tmessage: '',\r\n\t\t\tcalculate: false,\r\n\t\t\trules: {\r\n\t\t\t\trequired: v => !!v || 'this field is required',\r\n\t\t\t\tnumber: v => /^[+]?[0-9]/.test(v) || 'it\\'s expected number',\r\n\t\t\t\tmax: v => v <= 5 || 'max 5 expected',\r\n\t\t\t},\r\n\r\n\t\t\t//props\r\n\t\t\ttrademark: null,\r\n\t\t\tcore_message: '',\r\n\t\t\taf: { text: '', value: 0 },\r\n\t\t\tvalue: '',\r\n\t\t\tpick_segments: [],\r\n\t\t\tchannels: [],\r\n\t\t\tprice: '',\r\n\t\t\tobjective: '',\r\n\t\t\tquality: 1,\r\n\t\t\tinvestments: 0,\r\n\t\t\toperations: 0,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tloading() {\r\n\t\t\treturn this.$store.getters.loading\r\n\t\t},\r\n\t\tlocale() {\r\n\t\t\treturn this.$store.getters.locale;\r\n\t\t},\r\n\t\tgame() {\r\n\t\t\treturn this.$store.getters.game;\r\n\t\t},\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user;\r\n\t\t},\r\n\t\tteam() {\r\n\t\t\treturn this.$store.getters.team;\r\n\t\t},\r\n\t\tspots() {\r\n\t\t\treturn this.$store.getters.spots;\r\n\t\t},\r\n\t\tsegments() {\r\n\t\t\treturn this.$store.getters.market_segments;\r\n\t\t},\r\n\t\ttrademarks() {\r\n\t\t\treturn this.$store.getters.trademarks;\r\n\t\t},\r\n\t\tall_channels() {\r\n\t\t\treturn this.$store.getters.CHANNELS;\r\n\t\t},\r\n\t\tcore_messages() {\r\n\t\t\treturn this.$store.getters.CORE_MESSAGES;\r\n\t\t},\r\n\t\tfeatures() {\r\n\t\t\treturn this.$store.getters.FEATURES;\r\n\t\t},\r\n\t\tprices() {\r\n\t\t\treturn this.$store.getters.PRICES;\r\n\t\t},\r\n\t\tobjectives() {\r\n\t\t\treturn this.$store.getters.OBJECTIVES;\r\n\t\t},\r\n\t\tvalues() {\r\n\t\t\treturn this.$store.getters.VALUES;\r\n\t\t},\r\n\t\tteamTrademarks() {\r\n\t\t\tlet res = [];\r\n\t\t\tif (this.team) {\r\n\t\t\t\tconst arr = [];\r\n\t\t\t\tthis.team?.products.map(prod => {\r\n\t\t\t\t\tconst inArr = arr.find(it => it === prod.trademarkId)\r\n\t\t\t\t\tif (!inArr) {\r\n\t\t\t\t\t\tarr.push(prod.trademarkId)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tres = this.trademarks.filter(it => arr.indexOf(it.id) !== -1)\r\n\t\t\t}\r\n\t\t\treturn res\r\n\t\t},\r\n\t\tmarketSize() {\r\n\t\t\tlet res = 0;\r\n\t\t\tif (this.segments.length > 0) {\r\n\t\t\t\tres = this.segments.reduce((sum, seg) => {\r\n\t\t\t\t\treturn sum += seg.segment.peak_size;\r\n\t\t\t\t}, 0)\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t},\r\n\t\tname: {\r\n\t\t\tget() {\r\n\t\t\t\tif (this.trademark) {\r\n\t\t\t\t\treturn `${this.trademark.name} Ad`\r\n\t\t\t\t}\r\n\t\t\t\treturn ''\r\n\t\t\t},\r\n\t\t\tset(val) {\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tlocaleNumber(num) {\r\n\t\t\tif (this.locale == 'ro-RO') {\r\n\t\t\t\treturn num.toLocaleString('en-US')\r\n\t\t\t}\r\n\t\t\treturn num.toLocaleString(this.locale)\r\n\t\t},\r\n\t\tonceMore() {\r\n\t\t\tthis.error = ''\r\n\t\t\tthis.calculate = false;\r\n\t\t\tthis.message = '';\r\n\t\t},\r\n\t\tcalculating() {\r\n\t\t\tif (this.$refs.form.validate()) {\r\n\t\t\t\tconst exist = this.spots?.find(spot => spot.name == this.name)\r\n\t\t\t\tif (exist) {\r\n\t\t\t\t\treturn this.error = `Promotion spot the trademark ${exist.name.split(' ')[0]} already exists`\r\n\t\t\t\t}\r\n\t\t\t\tthis.investments = SpotInvestments(this.quality, this.channels);\r\n\t\t\t\tthis.operations = SpotOperationsCosts(this.channels, this.pick_segments, this.marketSize)\r\n\r\n\t\t\t\tthis.message = `Please, mention the figures:\r\n\t\t\t\t\tspot investments = ${this.localeNumber(this.investments)}\r\n                    operational costs = ${this.localeNumber(this.operations)}\r\n\t\t\t\t\tif you agree, press the button Save`;\r\n\t\t\t\tthis.calculate = true;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\tasync addSpot() {\r\n\r\n\t\t\tif (this.$refs.form.validate()) {\r\n\r\n\t\t\t\tconst segments = this.pick_segments.map(seg => seg.segment.name);\r\n\t\t\t\tconst advanced_feature = this.af.text ? this.af.text : '';\r\n\t\t\r\n\t\t\t\tconst spot = {\r\n\t\t\t\t\tgameId: Number(this.game.id),\r\n\t\t\t\t\tround: Number(this.game.round),\r\n\t\t\t\t\tregister_round: Number(this.game.round),\r\n\t\t\t\t\tteam: this.team,\r\n\t\t\t\t\tname: this.name,\r\n\t\t\t\t\tcore_message: this.core_message,\r\n\t\t\t\t\tadvanced_feature,\r\n\t\t\t\t\tprice: this.price,\r\n\t\t\t\t\tvalue: this.value,\r\n\t\t\t\t\tobjective: this.objective,\r\n\t\t\t\t\tquality: this.quality,\r\n\t\t\t\t\ttrademark: this.trademark,\r\n\t\t\t\t\tsegments: segments,\r\n\t\t\t\t\tchannels: this.channels,\r\n\t\t\t\t\tinvestments: this.investments,\r\n\t\t\t\t\toperations: this.operations,\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(spot); \r\n\t\t\t\ttry {\r\n\t\t\t\t\t//add spot \r\n\t\t\t\t\tawait this.$store.dispatch('addTeamSpot', spot)/**/\r\n\t\t\t\t\tthis.closeDialog()\r\n\t\t\t\t}\r\n\t\t\t\tcatch (error) {\r\n\t\t\t\t\tthis.error = `Error: ${error.message}`;\r\n\t\t\t\t\tthis.message = '';\r\n\t\t\t\t\tthis.$store.dispatch('setError', error.message)//throw error\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseDialog() {\r\n\t\t\t//reset\r\n\t\t\tthis.dialog = false;\r\n\t\t\tthis.error = '';\r\n\t\t\tthis.message = '';\r\n\t\t\tthis.calculate = false;\r\n\r\n\t\t\tthis.name = '';\r\n\t\t\tthis.$refs.form.reset();\r\n\t\t\tthis.trademark = [];\r\n\t\t\tthis.core_message = ''\r\n\t\t\tthis.af = { text: '', value: 0 }\r\n\t\t\tthis.value = ''\r\n\t\t\tthis.pick_segments = []\r\n\t\t\tthis.channels = []\r\n\t\t\tthis.price = ''\r\n\t\t\tthis.objective = ''\r\n\t\t\tthis.quality = 1\r\n\t\t}\r\n\t},\r\n\tasync mounted() {\r\n\t\tif (this.segments?.length < 1 && this.game) {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchMarketSegments', { gameId: this.game.id, round: this.game.round })\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.trademarks?.length < 1) {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTrademarks');\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!this.team && (this.game && this.user)) {\r\n\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\tconst team = this.game.teams.find(te => te.name == name);\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchTeam', team.id);\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tawait this.$store.dispatch('setError', error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: { Loader }\r\n}\r\n\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addSpot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addSpot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addSpot.vue?vue&type=template&id=50a2a847&\"\nimport script from \"./addSpot.vue?vue&type=script&lang=js&\"\nexport * from \"./addSpot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"400px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"delete spot\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',{staticClass:\"text-md-center\"},[_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Do you really want to delete the spot \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.spot.name)+\" \")]),_vm._v(\"? \")]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" No \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.deleteSpot}},[_vm._v(\" Yes \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-dialog v-model=\"dialog\" max-width=\"400px\" hide-overlay>\r\n\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t<v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n\t\t\t\t<v-tooltip bottom color=\"primary\">\r\n\t\t\t\t\t<template v-slot:activator=\"{ on }\">\r\n\t\t\t\t\t\t<v-icon small v-on=\"on\">mdi-delete</v-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<span>delete spot</span>\r\n\t\t\t\t</v-tooltip>\r\n\t\t\t</v-btn>\r\n\t\t</template>\r\n\t\t<v-card v-if=\"!loading\" class=\"text-md-center\">\r\n\t\t\t<v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n\t\t\t\t\tDo you really want to delete \r\n\t\t\t\t\tthe spot <span class=\"secondary--text\">{{ spot.name }} </span>?\t\r\n\t\t\t</v-card-title>\r\n\t\t\t<v-divider />\r\n\t\t\t<v-card-actions>\r\n\t\t\t\t<v-spacer></v-spacer>\r\n\t\t\t\t<v-btn color=\"secondary\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"closeDialog\">\r\n\t\t\t\t\tNo\r\n\t\t\t\t</v-btn>\r\n\t\t\t\t<v-btn color=\"error\" text\r\n\t\t\t\t\tclass=\"text-capitalize\"\r\n\t\t\t\t\t@click=\"deleteSpot\">\r\n\t\t\t\t\tYes\r\n\t\t\t\t</v-btn>\r\n\t\t\t</v-card-actions>\r\n\t\t</v-card>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader></loader>\r\n\t\t</div>\r\n\t</v-dialog>\r\n</template>\r\n\r\n<script>\r\n\timport Loader from '../../../layouts/Loader.vue';\r\n\r\n\texport default {\r\n\t\tprops: ['spot'],\r\n\t\tdata () {\r\n\t\t\treturn\t{\r\n\t\t\t\tdialog: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync deleteSpot () {\r\n\t\t\t\tif (this.spot && this.spot.id) {\r\n\t\t\t\t\tconst id = this.spot.id\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tawait this.$store.dispatch('deleteSpot', id);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (error) {\r\n\t\t\t\t\t\tconsole.log(error.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.closeDialog ()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcloseDialog () {\r\n\t\t\t\t//reset\r\n\t\t\t\tthis.dialog = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {Loader}\r\n\t}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteSpot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteSpot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deleteSpot.vue?vue&type=template&id=040d9ae3&\"\nimport script from \"./deleteSpot.vue?vue&type=script&lang=js&\"\nexport * from \"./deleteSpot.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"scrollable\":\"\",\"max-width\":\"600px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase mr-4\",attrs:{\"color\":\"secondary\",\"dark\":\"\",\"small\":\"\"}},on),[_vm._v(\"add promotion\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-2 pt-6\"},[_vm._v(\" New promotion action parameters \")]),_c('v-divider'),_c('v-card-text',{staticClass:\"black--text\"},[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-form',{ref:\"form\",attrs:{\"validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"6\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"secondary\",\"label\":\"action name\",\"type\":\"text\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"primary\",\"label\":\"cashback\",\"name\":\"cashback\",\"hint\":\"either cashback or gift cost must be more 0\",\"persistent-hint\":\"\",\"suffix\":\"%\",\"type\":\"text\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.cashback),callback:function ($$v) {_vm.cashback=_vm._n($$v)},expression:\"cashback\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"6\",\"md\":\"4\"}},[_c('v-text-field',{attrs:{\"dense\":\"\",\"color\":\"primary\",\"label\":\"gift cost\",\"name\":\"gift_cost\",\"hint\":\"either cashback or gift cost must be more 0\",\"persistent-hint\":\"\",\"prefix\":\"$\",\"type\":\"text\"},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.gift_cost),callback:function ($$v) {_vm.gift_cost=_vm._n($$v)},expression:\"gift_cost\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\",\"sm\":\"6\"}},[_c('v-select',{attrs:{\"dense\":\"\",\"return-object\":\"\",\"items\":_vm.teamTrademarks,\"item-text\":\"name\",\"item-value\":\"id\",\"color\":\"secondary\",\"item-color\":\"secondary\",\"label\":\"trademark\",\"rules\":[_vm.rules.required]},on:{\"change\":function($event){return _vm.onceMore()}},model:{value:(_vm.trademark),callback:function ($$v) {_vm.trademark=$$v},expression:\"trademark\"}})],1)],1)],1)],1),_c('v-row',{staticClass:\"error--text\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.error))]),_c('v-row',{staticClass:\"text-center text-pre-wrap mx-2\",attrs:{\"justify\":\"center\"}},[_vm._v(_vm._s(_vm.message))])],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\",\"disabled\":!_vm.valid || Boolean(_vm.error)},on:{\"click\":_vm.addAction}},[_vm._v(\"Save \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" Close \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"dialog\" persistent scrollable max-width=\"600px\" hide-overlay>\r\n        <template v-slot:activator=\"{ on }\">\r\n            <v-btn color=\"secondary\" class=\"text-lowercase mr-4\" dark small v-on=\"on\">add promotion</v-btn>\r\n        </template>\r\n        <v-card v-if=\"!loading\">\r\n            <v-card-title class=\"subtitle-2 pt-6\">\r\n                New promotion action parameters\r\n            </v-card-title>\r\n            <v-divider></v-divider>\r\n            <v-card-text class=\"black--text\">\r\n                <v-container grid-list-md>\r\n                    <v-form v-model=\"valid\" ref=\"form\" validation>\r\n                        <v-row justify=\"center\">\r\n                            <v-col cols=\"12\" sm=\"6\" md=\"6\">\r\n                                <v-text-field dense color=\"secondary\" \r\n                                    label=\"action name\" \r\n                                    v-model=\"name\" \r\n                                    type=\"text\"\r\n                                    :rules=\"[rules.required]\"\r\n                                    @change=\"onceMore()\">\r\n                                </v-text-field>\r\n                            </v-col>\r\n                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                <v-text-field dense color=\"primary\" label=\"cashback\"\r\n                                    v-model.number=\"cashback\" name=\"cashback\"\r\n                                    hint=\"either cashback or gift cost must be more 0\"\r\n                                    persistent-hint\r\n                                    suffix=\"%\"\r\n                                    type=\"text\"\r\n                                    @change=\"onceMore()\">\r\n                                </v-text-field>\r\n                            </v-col>\r\n                            <v-col cols=\"12\" sm=\"6\" md=\"4\">\r\n                                <v-text-field dense color=\"primary\" label=\"gift cost\"\r\n                                    v-model.number=\"gift_cost\" name=\"gift_cost\"\r\n                                    hint=\"either cashback or gift cost must be more 0\"\r\n                                    persistent-hint\r\n                                    prefix=\"$\"\r\n                                    type=\"text\"\r\n                                    @change=\"onceMore()\">\r\n                                </v-text-field>\r\n                            </v-col>\r\n                            <v-col cols=\"12\" md=\"6\" sm=\"6\">\r\n                                <v-select dense return-object \r\n                                    v-model=\"trademark\" \r\n                                    :items=\"teamTrademarks\" \r\n                                    item-text=\"name\"\r\n                                    item-value=\"id\" \r\n                                    color=\"secondary\" \r\n                                    item-color=\"secondary\" \r\n                                    label=\"trademark\"\r\n                                    @change=\"onceMore()\" \r\n                                    :rules=\"[rules.required]\">\r\n                                </v-select>\r\n                            </v-col>\r\n                        </v-row>\r\n                    </v-form>\r\n                </v-container>\r\n                <v-row justify=\"center\" class=\"error--text\">{{ error }}</v-row>\r\n                <v-row justify=\"center\" class=\"text-center text-pre-wrap mx-2\">{{ message }}</v-row>\r\n            </v-card-text>\r\n            <v-divider></v-divider>\r\n            <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                \r\n                <v-btn color=\"secondary\" text class=\"text-capitalize\" :disabled=\"!valid || Boolean(error)\"\r\n                    @click=\"addAction\">Save\r\n                </v-btn>\r\n\r\n                <v-btn color=\"secondary\" text class=\"text-capitalize\" @click=\"closeDialog\">\r\n                    Close\r\n                </v-btn>\r\n\r\n            </v-card-actions>\r\n        </v-card>\r\n        <div v-else class=\"text-center\">\r\n            <loader></loader>\r\n        </div>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\nexport default {\r\n    name: 'AddTeamAction',\r\n    data() {\r\n        return {\r\n            dialog: false,\r\n            valid: false,\r\n            error: '',\r\n            message: '',\r\n            rules: {\r\n                required: v => !!v || 'this field is required',\r\n            },\r\n\r\n            //props\r\n            name: '',\r\n            trademark: null,\r\n            cashback: 0,\r\n            gift_cost: 0,\r\n        }\r\n    },\r\n    computed: {\r\n        loading() {\r\n            return this.$store.getters.loading\r\n        },\r\n        locale() {\r\n            return this.$store.getters.locale;\r\n        },\r\n        game() {\r\n            return this.$store.getters.game;\r\n        },\r\n        user() {\r\n            return this.$store.getters.user;\r\n        },\r\n        team() {\r\n            return this.$store.getters.team;\r\n        },\r\n        promotions() {\r\n            return this.$store.getters.promotions;\r\n        },\r\n        trademarks() {\r\n            return this.$store.getters.trademarks;\r\n        },\r\n        teamTrademarks() {\r\n            let res = [];\r\n            if (this.team) {\r\n                const arr = [];\r\n                this.team?.products.map(prod => {\r\n                    const inArr = arr.find(it => it === prod.trademarkId)\r\n                    if (!inArr) {\r\n                        arr.push(prod.trademarkId)\r\n                    }\r\n                })\r\n                res = this.trademarks.filter(it => arr.indexOf(it.id) !== -1)\r\n            }\r\n            return res\r\n        },\r\n    },\r\n    methods: {\r\n        onceMore() {\r\n            this.error = ''\r\n            this.calculate = false;\r\n            this.message = '';\r\n        },\r\n        async addAction() {\r\n\r\n            if (this.$refs.form.validate()) {\r\n\r\n                if (this.cashback == 0 && this.gift_cost == 0) {\r\n                    return this.error = `you need to specify either cashback or gift cost`\r\n                }\r\n\r\n                const exist = this.promotions?.find(promotion => promotion.trademarkId == this.trademark.id)\r\n                \r\n                if (exist) {\r\n                    return this.error = `Promotion of the trademark ${this.trademark.name} already exists`\r\n                }\r\n                const action = {\r\n                    gameId: this.game.id,\r\n                    round: this.game.round,\r\n                    team: this.team,\r\n                    name: this.name,\r\n                    cashback: this.cashback / 100,\r\n                    trademark: this.trademark,\r\n                    gift_cost: this.gift_cost,\r\n                }\r\n                //console.log(action);\r\n                try {\r\n                    //add action\r\n                    await this.$store.dispatch('addTeamPromotion', action)\r\n                    this.closeDialog()\r\n                }\r\n                catch (error) {\r\n                    this.error = `Error: ${error.message}`;\r\n                    this.message = '';\r\n                    this.$store.dispatch('setError', error.message)//throw error\r\n                }\r\n            }\r\n        },\r\n        closeDialog() {\r\n            //reset\r\n            this.dialog = false;\r\n            this.error = '';\r\n            this.message = '';\r\n\r\n            this.name = '';\r\n            this.$refs.form.reset();\r\n            this.trademark = [];\r\n        }\r\n    },\r\n    components: { Loader },\r\n    async mounted() {\r\n        \r\n        if (this.trademarks?.length < 1) {\r\n            try {\r\n                await this.$store.dispatch('fetchTrademarks');\r\n            }\r\n            catch (error) {\r\n                await this.$store.dispatch('setError', error.message)\r\n            }\r\n        }\r\n        if (!this.team && (this.game && this.user)) {\r\n            const name = `${this.user.name}_${this.game.id}`;\r\n            const team = this.game.teams?.find(te => te.name == name);\r\n            try {\r\n                await this.$store.dispatch('fetchTeam', team.id);\r\n            }\r\n            catch (error) {\r\n                await this.$store.dispatch('setError', error.message)\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n/* for error-message, hint in v-text-field */\r\n.v-messages__message {\r\n\tfont-size: 1.15em;\r\n\tline-height: 1.19em;\r\n}\r\n/* only for hint in v-text-field */\r\n.theme--light.v-messages {\r\n\tcolor: #1A237E;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addAction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addAction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addAction.vue?vue&type=template&id=c87afaa0&\"\nimport script from \"./addAction.vue?vue&type=script&lang=js&\"\nexport * from \"./addAction.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addAction.vue?vue&type=style&index=0&id=c87afaa0&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-dialog',{attrs:{\"max-width\":\"400px\",\"hide-overlay\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"text-lowercase\",attrs:{\"color\":\"secondary\",\"icon\":\"\"}},on),[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"color\":\"primary\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({attrs:{\"small\":\"\"}},on),[_vm._v(\"mdi-delete\")])]}}],null,true)},[_c('span',[_vm._v(\"delete promotion\")])])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[(!_vm.loading)?_c('v-card',{staticClass:\"text-md-center\"},[_c('v-card-title',{staticClass:\"subtitle-2 pt-6 text-pre-wrap\"},[_vm._v(\" Do you want to delete \"),_c('span',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.action.name)+\" \")]),_vm._v(\"? \")]),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"secondary\",\"text\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\" No \")]),_c('v-btn',{staticClass:\"text-capitalize\",attrs:{\"color\":\"error\",\"text\":\"\"},on:{\"click\":_vm.deleteAction}},[_vm._v(\" Yes \")])],1)],1):_c('div',{staticClass:\"text-center\"},[_c('loader')],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <v-dialog v-model=\"dialog\" max-width=\"400px\" hide-overlay>\r\n        <template v-slot:activator=\"{ on }\">\r\n            <v-btn color=\"secondary\" class=\"text-lowercase\" icon v-on=\"on\">\r\n                <v-tooltip bottom color=\"primary\">\r\n                    <template v-slot:activator=\"{ on }\">\r\n                        <v-icon small v-on=\"on\">mdi-delete</v-icon>\r\n                    </template>\r\n                    <span>delete promotion</span>\r\n                </v-tooltip>\r\n            </v-btn>\r\n        </template>\r\n        <v-card v-if=\"!loading\" class=\"text-md-center\">\r\n            <v-card-title class=\"subtitle-2 pt-6 text-pre-wrap\">\r\n                Do you want to delete <span class=\"secondary--text\">{{ action.name }} </span>?\r\n            </v-card-title>\r\n            <v-divider />\r\n            <v-card-actions>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"secondary\" text class=\"text-capitalize\" @click=\"closeDialog\">\r\n                    No\r\n                </v-btn>\r\n                <v-btn color=\"error\" text class=\"text-capitalize\" @click=\"deleteAction\">\r\n                    Yes\r\n                </v-btn>\r\n            </v-card-actions>\r\n        </v-card>\r\n        <div v-else class=\"text-center\">\r\n            <loader></loader>\r\n        </div>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Loader from '../../../layouts/Loader.vue';\r\n\r\nexport default {\r\n    props: ['action'],\r\n    data() {\r\n        return {\r\n            dialog: false\r\n        }\r\n    },\r\n    computed: {\r\n        loading() {\r\n            return this.$store.getters.loading\r\n        }\r\n    },\r\n    methods: {\r\n        async deleteAction() {\r\n            if (this.action && this.action.id) {\r\n                const id = this.action.id\r\n                try {\r\n                    await this.$store.dispatch('deleteAction', id);\r\n                }\r\n                catch (error) {\r\n                    console.log(error.message)\r\n                }\r\n                this.closeDialog()\r\n            }\r\n        },\r\n        closeDialog() {\r\n            //reset\r\n            this.dialog = false\r\n        }\r\n    },\r\n    components: { Loader }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteAction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deleteAction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deleteAction.vue?vue&type=template&id=4ddf77cc&\"\nimport script from \"./deleteAction.vue?vue&type=script&lang=js&\"\nexport * from \"./deleteAction.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<v-container fluid>\r\n\t\t<div v-if=\"!loading\">\r\n\t\t\t<v-row class=\"my-2 subtitle-2 secondary--text pl-12\">\r\n\t\t\t\tPromotion\r\n\t\t\t</v-row>\r\n\t\t\t<!--table head-->\t\t\t\r\n\t\t\t<v-row class=\"subtitle-2 mx-8\" no-gutters>\r\n\t\t\t\t<v-col v-for=\"(item, i) in headers\" :key=\"i\" \r\n\t\t\t\t\tclass=\"tabCell\"\r\n\t\t\t\t\t:class=\"item.style\">\r\n\t\t\t\t\t{{ item.text }}\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<!--table content-->\r\n\t\t\t<div v-if=\"spots?.length > 0\">\r\n\t\t\t\t<!--tab content-->\r\n\t\t\t\t<v-expansion-panels focusable v-model=\"panel\">\r\n\t\t\t\t\t<v-expansion-panel>\r\n\t\t\t\t\t\t<v-expansion-panel-header class=\"font-weight-bold secondary--text\">\r\n\t\t\t\t\t\t\tAdvertising (spots) \r\n\t\t\t\t\t\t</v-expansion-panel-header>\r\n\t\t\t\t\t\t<v-expansion-panel-content class=\"body-2\">\r\n\t\t\t\t\t\t\t<div v-for=\"spot in spots\" :key=\"spot.id\" >\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ spot.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ spot.trademark.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ spot.core_message }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ spot.advanced_feature }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ spot.price }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ values(spot.value) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ fromArr(spot.channels) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ fromArr(spot.segments) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ spot.quality }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(spot.investments) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ formatNumber(spot.operations) }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<delete-spot :spot=\"spot\">\r\n\t\t\t\t\t\t\t\t\t\t</delete-spot>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\r\n\t\t\t\t\t\t</v-expansion-panel-content>\r\n\t\t\t\t\t</v-expansion-panel>\r\n\t\t\t\t</v-expansion-panels>\r\n\t\t\t</div>\r\n\t\t\t<v-row v-else class=\"mt-8 px-4\" justify=\"center\">\r\n\t\t\t\tYou haven't advertising spots yet!\r\n\t\t\t</v-row>\r\n\t\t\t<v-row class=\"my-4 mx-8\" justify=\"start\">\r\n\t\t\t\t<add-spot />\t\t\r\n\t\t\t</v-row>\r\n\t\t\t<!--promotion actions-->\r\n\t\t\t<!--table head-->\t\t\t\r\n\t\t\t<v-row class=\"subtitle-2 mx-8\" no-gutters>\r\n\t\t\t\t<v-col v-for=\"(item, i) in headers2\" :key=\"i\" \r\n\t\t\t\t\tclass=\"tabCell\"\r\n\t\t\t\t\t:class=\"item.style\">\r\n\t\t\t\t\t{{ item.text }}\r\n\t\t\t\t</v-col>\r\n\t\t\t</v-row>\r\n\t\t\t<!--table content-->\r\n\t\t\t<div v-if=\"promotions?.length > 0\">\r\n\t\t\t\t<!--tab content-->\r\n\t\t\t\t<v-expansion-panels focusable v-model=\"panel\">\r\n\t\t\t\t\t<v-expansion-panel>\r\n\t\t\t\t\t\t<v-expansion-panel-header class=\"font-weight-bold secondary--text\">\r\n\t\t\t\t\t\t\tPromotion (actions) \r\n\t\t\t\t\t\t</v-expansion-panel-header>\r\n\t\t\t\t\t\t<v-expansion-panel-content class=\"body-2\">\r\n\t\t\t\t\t\t\t<div v-for=\"prom in promotions\" :key=\"prom.id\" >\r\n\t\t\t\t\t\t\t\t<v-row no-gutters>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-left\">{{ prom.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ prom.trademark.name }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ prom.cashback * 100 }} %</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-center\">{{ prom.gift_cost }}</v-col>\r\n\t\t\t\t\t\t\t\t\t<v-col class=\"text-right\">\r\n\t\t\t\t\t\t\t\t\t\t<delete-action :action=\"prom\">\r\n\t\t\t\t\t\t\t\t\t\t</delete-action>\r\n\t\t\t\t\t\t\t\t\t</v-col>\r\n\t\t\t\t\t\t\t\t</v-row>\r\n\t\t\t\t\t\t\t\t<v-divider />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</v-expansion-panel-content>\r\n\t\t\t\t\t</v-expansion-panel>\r\n\t\t\t\t</v-expansion-panels>\r\n\t\t\t</div>\r\n\t\t\t<v-row v-else class=\"mt-8 px-4\" justify=\"center\">\r\n\t\t\t\tYou haven't promotion actions yet!\r\n\t\t\t</v-row>\r\n\t\t\t<v-row class=\"my-4 mx-8\" justify=\"start\">\r\n\t\t\t\t<add-action /> \t\r\n\t\t\t</v-row>\r\n\t\t</div>\r\n\t\t<div v-else class=\"text-center\">\r\n\t\t\t<loader />\r\n\t\t</div> \r\n\t</v-container>\r\n</template>\r\n<script>\r\n\r\n\timport addSpot from '../../../components/team/promotion/addSpot.vue'\r\n\timport deleteSpot from '../../../components/team/promotion/deleteSpot.vue'\r\n\timport addAction from '../../../components/team/promotion/addAction.vue';\r\n\timport deleteAction from '../../../components/team/promotion/deleteAction.vue';\r\n\timport Loader from '../../../layouts/Loader.vue';\r\n\r\n\timport { selializing, localeNumber } from '../../../functions/common';\r\n\r\n\texport default {\r\n\t\tdata (){\r\n\t\t\treturn {\r\n\t\t\t\ticon: 'arrow_right',\r\n\t\t\t\theaders: [\r\n\t\t\t\t\t{ text: 'Spot name', style: 'text-left'},\r\n\t\t\t\t\t{ text: 'Trademark', style: 'text-center'},\r\n\t\t\t\t\t{ text: 'Core message', style: 'text-center'},\r\n\t\t\t\t\t{ text: 'Advanced feature', style: 'text-center'},\r\n\t\t\t\t\t{ text: 'Price', style: 'text-center'},\r\n\t\t\t\t\t{ text: 'Values', style: 'text-center' },\r\n\t\t\t\t\t{ text: 'Channels', style: 'text-center' },\r\n\t\t\t\t\t{ text: 'Segments', style: 'text-center' },\r\n\t\t\t\t\t{ text: 'Quality level', style: 'text-center'},\r\n\t\t\t\t\t{ text: 'Investments', style: 'text-center'},\r\n\t\t\t\t\t{ text: 'Operations', style: 'text-center' },\r\n\t\t\t\t\t{ text: 'Action', style: 'text-right'},\r\n\t\t\t\t],\r\n\t\t\t\theaders2: [\r\n\t\t\t\t\t{ text: 'Promotion action name', style: 'text-left' },\r\n\t\t\t\t\t{ text: 'Trademark', style: 'text-center' },\r\n\t\t\t\t\t{ text: 'Cashback', style: 'text-center' },\r\n\t\t\t\t\t{ text: 'Gift cost', style: 'text-center' },\r\n\t\t\t\t\t{ text: 'Action', style: 'text-right' },\r\n\t\t\t\t],\r\n\t\t\t\tpanel: 0,\r\n\t\t\t\tfirst_mount: true,\r\n\t\t\t}\r\n\t\t},\t\t\r\n\t\tcomputed: {\r\n\t\t\tloading () {\r\n\t\t\t\treturn this.$store.getters.loading;\r\n\t\t\t},\r\n\t\t\tlocale() {\r\n\t\t\t\treturn this.$store.getters.locale;\r\n\t\t\t},\r\n\t\t\tuser() {\r\n\t\t\t\treturn this.$store.getters.user;\r\n\t\t\t},\r\n\t\t\tgame() {\r\n\t\t\t\treturn this.$store.getters.game;\r\n\t\t\t},\r\n\t\t\tspots() {\r\n\t\t\t\treturn this.$store.getters.spots;\r\n\t\t\t},\r\n\t\t\tpromotions() {\r\n\t\t\t\treturn this.$store.getters.promotions;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tfromArr (arr) {\r\n\t\t\t\treturn selializing(arr)\r\n\t\t\t},\r\n\t\t\tformatNumber(num) {\r\n\t\t\t\treturn localeNumber(num, this.locale);\r\n\t\t\t},\r\n\t\t\tvalues (value) {\r\n\t\t\t\tlet val = value\r\n\t\t\t\tswitch (value) {\r\n\t\t\t\t\tcase 'family': val+= ' / kids'\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'attractiveness': val = 'personal attractiveness';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'personality': val = 'strong personality';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'social_status': val = 'social status';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'independent' : val += ' lifestyle';\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn val\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\taddSpot,\r\n\t\t\taddAction,\r\n\t\t\tdeleteSpot,\r\n\t\t\tdeleteAction,\r\n\t\t\tLoader,\r\n\t\t},\r\n\t\tasync mounted() {\r\n\t\t\tif (this.spots == null && (this.game && this.user)) {\t\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name)\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tgameId: this.game.id,\r\n\t\t\t\t\tround: this.game.round,\r\n\t\t\t\t\tteamId: team.id,\r\n\t\t\t\t}\r\n\t\t\t\tawait this.$store.dispatch('fetchTeamSpots', params);\t\r\n\t\t\t}\r\n\t\t\tif (this.promotions == null && (this.game && this.user)) {\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name)\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tgameId: this.game.id,\r\n\t\t\t\t\tround: this.game.round,\r\n\t\t\t\t\tteamId: team.id,\r\n\t\t\t\t}\r\n\t\t\t\tawait this.$store.dispatch('fetchTeamPromotions', params);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Promotion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Promotion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Promotion.vue?vue&type=template&id=64640e28&\"\nimport script from \"./Promotion.vue?vue&type=script&lang=js&\"\nexport * from \"./Promotion.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n\t<v-container fluid class=\"pa-0\">\r\n\t\t<div v-if=\"!loading\">\r\n\t\t\t<v-row class=\"body-2 font-weight-bold ml-12 my-4\">\r\n\t\t\t\t<span class=\"ml-4\">team: {{ user.name }}</span>\r\n\t\t\t\t<span class=\"ml-4\">current round: {{ game?.round }}</span>\r\n\t\t\t</v-row>\r\n\r\n\t\t\t<v-divider></v-divider>\r\n\r\n\t\t\t<v-tabs v-model=\"tab\" height=\"35\"\r\n\t\t\t\tbackground-color=\"primary\"\r\n\t\t\t\tfixed-tabs\r\n\t\t\t\tslider-color=\"accent\"\r\n\t\t\t\tdark>\r\n\t\t\t\t<v-tab to=\"/team/decisions/pm\" \r\n\t\t\t\t\tclass=\"text-capitalize font-weight-bold white--text\">\r\n\t\t\t\t\tProduct management\r\n\t\t\t\t</v-tab>\r\n\t\t\t\t<v-tab :to=\"link(item)\" \r\n\t\t\t\t\tclass=\"text-capitalize font-weight-bold white--text\"\r\n\t\t\t\t\tv-for=\"item in items\"\r\n\t\t\t\t\t:key=\"item\">\r\n\t\t\t\t\t{{ item }}\r\n\t\t\t\t</v-tab>\r\n\t\t\t</v-tabs>\r\n\r\n\t\t\t<v-tabs-items v-model=\"tab\" continuous>\r\n\t\t\t\t<v-tab-item value=\"/team/decisions/pm\">\r\n\t\t\t\t\t<product-management />\r\n\t\t\t\t</v-tab-item>\r\n\t\t\t\t<v-tab-item value=\"/team/decisions/sales\">\r\n\t\t\t\t\t<sales></sales>\r\n\t\t\t\t</v-tab-item>\r\n\t\t\t\t<v-tab-item value=\"/team/decisions/retail\">\r\n\t\t\t\t\t<retail>\r\n\t\t\t\t\t</retail>\r\n\t\t\t\t</v-tab-item>\r\n\t\t\t\t<v-tab-item value=\"/team/decisions/promotion\">\r\n\t\t\t\t\t<promotion>\r\n\t\t\t\t\t</promotion>\r\n\t\t\t\t</v-tab-item>\r\n\t\t\t\t<v-tab-item value=\"/team/decisions/resources\">\r\n\t\t\t\t\t<resources />\r\n\t\t\t\t</v-tab-item>\r\n\t\t\t\t<!-- <v-tab-item value=\"/decisions/finance\">\r\n\t\t\t\t\t<finance></finance>\r\n\t\t\t\t</v-tab-item> -->\r\n\t\t\t</v-tabs-items>\r\n\t\t</div>\r\n\t\t<v-row v-else justify=\"center\">\r\n\t\t\t<loader />\r\n\t\t</v-row>\r\n\t</v-container>\r\n</template>\r\n<script>\r\nimport ProductManagement from './decisions/ProductManagement.vue'\r\nimport Sales from './decisions/Sales.vue'\r\nimport Resources from './decisions/Resources.vue'\r\nimport Retail from './decisions/Retail.vue'\r\nimport Promotion from './decisions/Promotion.vue'\r\n//import Finance from '../components/decisions/Finance.vue'\r\n\r\nimport Loader from '../../layouts/Loader.vue'\r\n\r\nexport default {\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\ttab: 0,\r\n\t\t\titems: ['Sales','Retail','Promotion','Resources']\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tloading() {\r\n\t\t\treturn this.$store.getters.loading;\r\n\t\t},\r\n\t\tuser() {\r\n\t\t\treturn this.$store.getters.user;\r\n\t\t},\r\n\t\tgame () {\r\n\t\t\treturn this.$store.getters.game;\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tlink (item) {\r\n\t\t\treturn `/team/decisions/${item.toLowerCase()}`\r\n\t\t},\r\n\t\tteamId() {\r\n\t\t\tif (this.game && this.user) {\r\n\t\t\t\tconst name = `${this.user.name}_${this.game.id}`;\r\n\t\t\t\tconst team = this.game.teams.find(te => te.name == name)\r\n\t\t\t\t//console.log(team.id)\r\n\t\t\t\treturn team?.id;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\t\tLoader,\r\n\t\t\tProductManagement,\r\n\t\t\tSales,\r\n\t\t\tRetail,\r\n\t\t\tPromotion,\r\n\t\t\tResources, \r\n\t\t\t//Finance\r\n\t},\r\n\tasync mounted() {\r\n\t\tif (!this.game && this.user) {\r\n\t\t\tconst game_id = this.user.email.match(/\\d/g); //get gameId from the user email\r\n\t\t\ttry {\r\n\t\t\t\tawait this.$store.dispatch('fetchGame', game_id);\r\n\t\t\t}\r\n\t\t\tcatch (error) {\r\n\t\t\t\tconsole.log(error.message)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Decisions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Decisions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Decisions.vue?vue&type=template&id=a2fe8f24&\"\nimport script from \"./Decisions.vue?vue&type=script&lang=js&\"\nexport * from \"./Decisions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Components\nimport VOverlay from '../../components/VOverlay'\n\n// Utilities\nimport {\n  keyCodes,\n  addOnceEventListener,\n  addPassiveEventListener,\n  getZIndex,\n  composedPath,\n} from '../../util/helpers'\n\n// Types\nimport Vue from 'vue'\n\ninterface Toggleable extends Vue {\n  isActive?: boolean\n}\n\ninterface Stackable extends Vue {\n  activeZIndex: number\n}\n\ninterface options {\n  absolute?: boolean\n  $refs: {\n    dialog?: HTMLElement\n    content?: HTMLElement\n  }\n}\n\n/* @vue/component */\nexport default Vue.extend<Vue & Toggleable & Stackable & options>().extend({\n  name: 'overlayable',\n\n  props: {\n    hideOverlay: Boolean,\n    overlayColor: String,\n    overlayOpacity: [Number, String],\n  },\n\n  data () {\n    return {\n      animationFrame: 0,\n      overlay: null as InstanceType<typeof VOverlay> | null,\n    }\n  },\n\n  watch: {\n    hideOverlay (value) {\n      if (!this.isActive) return\n\n      if (value) this.removeOverlay()\n      else this.genOverlay()\n    },\n  },\n\n  beforeDestroy () {\n    this.removeOverlay()\n  },\n\n  methods: {\n    createOverlay () {\n      const overlay = new VOverlay({\n        propsData: {\n          absolute: this.absolute,\n          value: false,\n          color: this.overlayColor,\n          opacity: this.overlayOpacity,\n        },\n      })\n\n      overlay.$mount()\n\n      const parent = this.absolute\n        ? this.$el.parentNode\n        : document.querySelector('[data-app]')\n\n      parent && parent.insertBefore(overlay.$el, parent.firstChild)\n\n      this.overlay = overlay\n    },\n    genOverlay () {\n      this.hideScroll()\n\n      if (this.hideOverlay) return\n\n      if (!this.overlay) this.createOverlay()\n\n      this.animationFrame = requestAnimationFrame(() => {\n        if (!this.overlay) return\n\n        if (this.activeZIndex !== undefined) {\n          this.overlay.zIndex = String(this.activeZIndex - 1)\n        } else if (this.$el) {\n          this.overlay.zIndex = getZIndex(this.$el)\n        }\n\n        this.overlay.value = true\n      })\n\n      return true\n    },\n    /** removeOverlay(false) will not restore the scollbar afterwards */\n    removeOverlay (showScroll = true) {\n      if (this.overlay) {\n        addOnceEventListener(this.overlay.$el, 'transitionend', () => {\n          if (\n            !this.overlay ||\n            !this.overlay.$el ||\n            !this.overlay.$el.parentNode ||\n            this.overlay.value ||\n            this.isActive\n          ) return\n\n          this.overlay.$el.parentNode.removeChild(this.overlay.$el)\n          this.overlay.$destroy()\n          this.overlay = null\n        })\n\n        // Cancel animation frame in case\n        // overlay is removed before it\n        // has finished its animation\n        cancelAnimationFrame(this.animationFrame)\n\n        this.overlay.value = false\n      }\n\n      showScroll && this.showScroll()\n    },\n    scrollListener (e: WheelEvent & KeyboardEvent) {\n      if (e.type === 'keydown') {\n        if (\n          ['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as Element).tagName) ||\n          // https://github.com/vuetifyjs/vuetify/issues/4715\n          (e.target as HTMLElement).isContentEditable\n        ) return\n\n        const up = [keyCodes.up, keyCodes.pageup]\n        const down = [keyCodes.down, keyCodes.pagedown]\n\n        if (up.includes(e.keyCode)) {\n          (e as any).deltaY = -1\n        } else if (down.includes(e.keyCode)) {\n          (e as any).deltaY = 1\n        } else {\n          return\n        }\n      }\n\n      if (e.target === this.overlay ||\n        (e.type !== 'keydown' && e.target === document.body) ||\n        this.checkPath(e)) e.preventDefault()\n    },\n    hasScrollbar (el?: Element) {\n      if (!el || el.nodeType !== Node.ELEMENT_NODE) return false\n\n      const style = window.getComputedStyle(el)\n      return ((['auto', 'scroll'].includes(style.overflowY!) || el.tagName === 'SELECT') && el.scrollHeight > el.clientHeight) ||\n      ((['auto', 'scroll'].includes(style.overflowX!)) && el.scrollWidth > el.clientWidth)\n    },\n    shouldScroll (el: Element, e: WheelEvent): boolean {\n      if (el.hasAttribute('data-app')) return false\n\n      const dir = e.shiftKey || e.deltaX ? 'x' : 'y'\n      const delta = dir === 'y' ? e.deltaY : e.deltaX || e.deltaY\n\n      let alreadyAtStart: boolean\n      let alreadyAtEnd: boolean\n      if (dir === 'y') {\n        alreadyAtStart = el.scrollTop === 0\n        alreadyAtEnd = el.scrollTop + el.clientHeight === el.scrollHeight\n      } else {\n        alreadyAtStart = el.scrollLeft === 0\n        alreadyAtEnd = el.scrollLeft + el.clientWidth === el.scrollWidth\n      }\n\n      const scrollingUp = delta < 0\n      const scrollingDown = delta > 0\n\n      if (!alreadyAtStart && scrollingUp) return true\n      if (!alreadyAtEnd && scrollingDown) return true\n      if ((alreadyAtStart || alreadyAtEnd)) {\n        return this.shouldScroll(el.parentNode as Element, e)\n      }\n\n      return false\n    },\n    isInside (el: Element, parent: Element): boolean {\n      if (el === parent) {\n        return true\n      } else if (el === null || el === document.body) {\n        return false\n      } else {\n        return this.isInside(el.parentNode as Element, parent)\n      }\n    },\n    checkPath (e: WheelEvent) {\n      const path = composedPath(e)\n\n      if (e.type === 'keydown' && path[0] === document.body) {\n        const dialog = this.$refs.dialog\n        // getSelection returns null in firefox in some edge cases, can be ignored\n        const selected = window.getSelection()!.anchorNode as Element\n        if (dialog && this.hasScrollbar(dialog) && this.isInside(selected, dialog)) {\n          return !this.shouldScroll(dialog, e)\n        }\n        return true\n      }\n\n      for (let index = 0; index < path.length; index++) {\n        const el = path[index]\n\n        if (el === document) return true\n        if (el === document.documentElement) return true\n        if (el === this.$refs.content) return true\n\n        if (this.hasScrollbar(el as Element)) return !this.shouldScroll(el as Element, e)\n      }\n\n      return true\n    },\n    hideScroll () {\n      if (this.$vuetify.breakpoint.smAndDown) {\n        document.documentElement!.classList.add('overflow-y-hidden')\n      } else {\n        addPassiveEventListener(window, 'wheel', this.scrollListener as EventHandlerNonNull, { passive: false })\n        window.addEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n      }\n    },\n    showScroll () {\n      document.documentElement!.classList.remove('overflow-y-hidden')\n      window.removeEventListener('wheel', this.scrollListener as EventHandlerNonNull)\n      window.removeEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n    },\n  },\n})\n","// Styles\nimport './VDialog.sass'\n\n// Components\nimport { VThemeProvider } from '../VThemeProvider'\n\n// Mixins\nimport Activatable from '../../mixins/activatable'\nimport Dependent from '../../mixins/dependent'\nimport Detachable from '../../mixins/detachable'\nimport Overlayable from '../../mixins/overlayable'\nimport Returnable from '../../mixins/returnable'\nimport Stackable from '../../mixins/stackable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\n\n// Helpers\nimport mixins from '../../util/mixins'\nimport { removed } from '../../util/console'\nimport {\n  convertToUnit,\n  keyCodes,\n} from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeData } from 'vue'\n\nconst baseMixins = mixins(\n  Dependent,\n  Detachable,\n  Overlayable,\n  Returnable,\n  Stackable,\n  Activatable,\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-dialog',\n\n  directives: { ClickOutside },\n\n  props: {\n    dark: Boolean,\n    disabled: Boolean,\n    fullscreen: Boolean,\n    light: Boolean,\n    maxWidth: [String, Number],\n    noClickAnimation: Boolean,\n    origin: {\n      type: String,\n      default: 'center center',\n    },\n    persistent: Boolean,\n    retainFocus: {\n      type: Boolean,\n      default: true,\n    },\n    scrollable: Boolean,\n    transition: {\n      type: [String, Boolean],\n      default: 'dialog-transition',\n    },\n    width: [String, Number],\n  },\n\n  data () {\n    return {\n      activatedBy: null as EventTarget | null,\n      animate: false,\n      animateTimeout: -1,\n      stackMinZIndex: 200,\n      previousActiveElement: null as HTMLElement | null,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        [(`v-dialog ${this.contentClass}`).trim()]: true,\n        'v-dialog--active': this.isActive,\n        'v-dialog--persistent': this.persistent,\n        'v-dialog--fullscreen': this.fullscreen,\n        'v-dialog--scrollable': this.scrollable,\n        'v-dialog--animated': this.animate,\n      }\n    },\n    contentClasses (): object {\n      return {\n        'v-dialog__content': true,\n        'v-dialog__content--active': this.isActive,\n      }\n    },\n    hasActivator (): boolean {\n      return Boolean(\n        !!this.$slots.activator ||\n        !!this.$scopedSlots.activator\n      )\n    },\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.show()\n        this.hideScroll()\n      } else {\n        this.removeOverlay()\n        this.unbind()\n        this.previousActiveElement?.focus()\n      }\n    },\n    fullscreen (val) {\n      if (!this.isActive) return\n\n      if (val) {\n        this.hideScroll()\n        this.removeOverlay(false)\n      } else {\n        this.showScroll()\n        this.genOverlay()\n      }\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('full-width')) {\n      removed('full-width', this)\n    }\n  },\n\n  beforeMount () {\n    this.$nextTick(() => {\n      this.isBooted = this.isActive\n      this.isActive && this.show()\n    })\n  },\n\n  beforeDestroy () {\n    if (typeof window !== 'undefined') this.unbind()\n  },\n\n  methods: {\n    animateClick () {\n      this.animate = false\n      // Needed for when clicking very fast\n      // outside of the dialog\n      this.$nextTick(() => {\n        this.animate = true\n        window.clearTimeout(this.animateTimeout)\n        this.animateTimeout = window.setTimeout(() => (this.animate = false), 150)\n      })\n    },\n    closeConditional (e: Event) {\n      const target = e.target as HTMLElement\n      // Ignore the click if the dialog is closed or destroyed,\n      // if it was on an element inside the content,\n      // if it was dragged onto the overlay (#6969),\n      // or if this isn't the topmost dialog (#9907)\n      return !(\n        this._isDestroyed ||\n        !this.isActive ||\n        this.$refs.content.contains(target) ||\n        (this.overlay && target && !this.overlay.$el.contains(target))\n      ) && this.activeZIndex >= this.getMaxZIndex()\n    },\n    hideScroll () {\n      if (this.fullscreen) {\n        document.documentElement.classList.add('overflow-y-hidden')\n      } else {\n        Overlayable.options.methods.hideScroll.call(this)\n      }\n    },\n    show () {\n      !this.fullscreen && !this.hideOverlay && this.genOverlay()\n      // Double nextTick to wait for lazy content to be generated\n      this.$nextTick(() => {\n        this.$nextTick(() => {\n          if (!this.$refs.dialog?.contains(document.activeElement)) {\n            this.previousActiveElement = document.activeElement as HTMLElement\n            this.$refs.dialog?.focus()\n          }\n          this.bind()\n        })\n      })\n    },\n    bind () {\n      window.addEventListener('focusin', this.onFocusin)\n    },\n    unbind () {\n      window.removeEventListener('focusin', this.onFocusin)\n    },\n    onClickOutside (e: Event) {\n      this.$emit('click:outside', e)\n\n      if (this.persistent) {\n        this.noClickAnimation || this.animateClick()\n      } else {\n        this.isActive = false\n      }\n    },\n    onKeydown (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.esc && !this.getOpenDependents().length) {\n        if (!this.persistent) {\n          this.isActive = false\n          const activator = this.getActivator()\n          this.$nextTick(() => activator && (activator as HTMLElement).focus())\n        } else if (!this.noClickAnimation) {\n          this.animateClick()\n        }\n      }\n      this.$emit('keydown', e)\n    },\n    // On focus change, wrap focus to stay inside the dialog\n    // https://github.com/vuetifyjs/vuetify/issues/6892\n    onFocusin (e: Event) {\n      if (!e || !this.retainFocus) return\n\n      const target = e.target as HTMLElement\n\n      if (\n        !!target &&\n        this.$refs.dialog &&\n        // It isn't the document or the dialog body\n        ![document, this.$refs.dialog].includes(target) &&\n        // It isn't inside the dialog body\n        !this.$refs.dialog.contains(target) &&\n        // We're the topmost dialog\n        this.activeZIndex >= this.getMaxZIndex() &&\n        // It isn't inside a dependent element (like a menu)\n        !this.getOpenDependentElements().some(el => el.contains(target))\n        // So we must have focused something outside the dialog and its children\n      ) {\n        // Find and focus the first available element inside the dialog\n        const focusable = this.$refs.dialog.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])')\n        const el = [...focusable].find(el => !el.hasAttribute('disabled')) as HTMLElement | undefined\n        el && el.focus()\n      }\n    },\n    genContent () {\n      return this.showLazyContent(() => [\n        this.$createElement(VThemeProvider, {\n          props: {\n            root: true,\n            light: this.light,\n            dark: this.dark,\n          },\n        }, [\n          this.$createElement('div', {\n            class: this.contentClasses,\n            attrs: {\n              role: 'dialog',\n              'aria-modal': this.hideOverlay ? undefined : 'true',\n              ...this.getScopeIdAttrs(),\n            },\n            on: { keydown: this.onKeydown },\n            style: { zIndex: this.activeZIndex },\n            ref: 'content',\n          }, [this.genTransition()]),\n        ]),\n      ])\n    },\n    genTransition () {\n      const content = this.genInnerContent()\n\n      if (!this.transition) return content\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.transition,\n          origin: this.origin,\n          appear: true,\n        },\n      }, [content])\n    },\n    genInnerContent () {\n      const data: VNodeData = {\n        class: this.classes,\n        attrs: {\n          tabindex: this.isActive ? 0 : undefined,\n        },\n        ref: 'dialog',\n        directives: [\n          {\n            name: 'click-outside',\n            value: {\n              handler: this.onClickOutside,\n              closeConditional: this.closeConditional,\n              include: this.getOpenDependentElements,\n            },\n          },\n          { name: 'show', value: this.isActive },\n        ],\n        style: {\n          transformOrigin: this.origin,\n        },\n      }\n\n      if (!this.fullscreen) {\n        data.style = {\n          ...data.style as object,\n          maxWidth: convertToUnit(this.maxWidth),\n          width: convertToUnit(this.width),\n        }\n      }\n\n      return this.$createElement('div', data, this.getContentSlot())\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-dialog__container',\n      class: {\n        'v-dialog__container--attached':\n          this.attach === '' ||\n          this.attach === true ||\n          this.attach === 'attach',\n      },\n    }, [\n      this.genActivator(),\n      this.genContent(),\n    ])\n  },\n})\n","import VOverlay from './VOverlay'\n\nexport { VOverlay }\n\nexport default VOverlay\n","// unit cost \r\nconst MATERIAL_UC = [5.8, 6.1, 6.5, 6.9, 7.5];\r\nconst MANUFACTURING_UC = [4.4, 5.1, 6.0, 6.6, 7.5];\r\nconst FEATURES_UC = [0, 9, 11, 7, 8, 14, 18, 2, 3, 1];\r\n\r\n//investments\r\nconst MATERIAL_I = [50, 70, 90, 140, 200];\r\nconst MANUFACTURING_I = [190, 250, 370, 480, 600];\r\nconst DESIGN_I = [700, 770, 860, 1090, 1290];\r\nconst FEATURES_I = [0, 100, 120, 220, 210, 190, 300, 30, 40, 0];\r\n\r\n//R&D time\r\nconst MATERIAL_T = [0.5, 0.5, 0.5, 0.5, 0.5];\r\nconst MANUFACTURING_T = [0.5, 1, 1.5, 2, 2.5];\r\nconst DESIGN_T = [1.5, 2, 2.5, 3, 3.5];\r\nconst FEATURES_T = [0, 1, 1.5, 1, 1.5, 2, 2, 1, 2, 0];\r\n\r\nexport function UnitCost(mat, man, v, feature = 0) {\r\n    const res =  MATERIAL_UC[mat - 1] + MANUFACTURING_UC[man - 1] +\r\n    + FEATURES_UC[feature] + (MANUFACTURING_UC[man - 1] * 0.2 * v);\r\n\r\n    return parseFloat(res.toFixed(2))\r\n}\r\n\r\nexport function Investments(mat, man, v, design, feature = 0) {\r\n    const res =  DESIGN_I[design - 1] + MATERIAL_I[mat - 1] + MANUFACTURING_I[man - 1] +\r\n    + FEATURES_I[feature] + (DESIGN_I[design - 1] * 0.2 * v);\r\n    \r\n    return parseFloat(res.toFixed(2))\r\n}\r\n\r\nexport function UpgradeInvestments(mat, man, v, design, mat2, man2, v2, feature2 = 0) {\r\n    \r\n    const res =  Math.abs(MATERIAL_I[mat2 - 1] - MATERIAL_I[mat - 1]) + \r\n    Math.abs(MANUFACTURING_I[man2 - 1] - MANUFACTURING_I[man - 1]) +\r\n    + FEATURES_I[feature2] + \r\n    + Math.abs(DESIGN_I[design - 1] * 0.2 * (v2 - v));\r\n    \r\n    return parseFloat(res.toFixed(2))\r\n}\r\n\r\nexport function AvailabilityFrom(mat, man, v, design, feature = 0) {\r\n    const res = DESIGN_T[design - 1] + MANUFACTURING_T[man - 1] + \r\n    + MATERIAL_T[mat - 1] + FEATURES_T[feature] +\r\n    + (0.5 * v);\r\n    \r\n    return Math.ceil(res);\r\n}\r\n\r\nexport function UpgradeAvailabilityFrom(mat, man, v_prev, v, feature = 0) {\r\n    const res = MANUFACTURING_T[man - 1] + \r\n    + MATERIAL_T[mat - 1] + FEATURES_T[feature] +\r\n    + (0.2 * Math.abs(v - v_prev) / v);\r\n    \r\n    return Math.ceil(res);\r\n}\r\n\r\n\r\n","import './_grid.sass'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nexport default createSimpleFunctional('spacer', 'div', 'v-spacer')\n","import './VTooltip.sass'\n\n// Mixins\nimport Activatable from '../../mixins/activatable'\nimport Colorable from '../../mixins/colorable'\nimport Delayable from '../../mixins/delayable'\nimport Dependent from '../../mixins/dependent'\nimport Menuable from '../../mixins/menuable'\n\n// Helpers\nimport { convertToUnit, keyCodes, getSlotType } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Colorable, Delayable, Dependent, Menuable).extend({\n  name: 'v-tooltip',\n\n  props: {\n    closeDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n    disabled: Boolean,\n    openDelay: {\n      type: [Number, String],\n      default: 0,\n    },\n    openOnHover: {\n      type: Boolean,\n      default: true,\n    },\n    openOnFocus: {\n      type: Boolean,\n      default: true,\n    },\n    tag: {\n      type: String,\n      default: 'span',\n    },\n    transition: String,\n  },\n\n  data: () => ({\n    calculatedMinWidth: 0,\n    closeDependents: false,\n  }),\n\n  computed: {\n    calculatedLeft (): string {\n      const { activator, content } = this.dimensions\n      const unknown = !this.bottom && !this.left && !this.top && !this.right\n      const activatorLeft = this.attach !== false ? activator.offsetLeft : activator.left\n      let left = 0\n\n      if (this.top || this.bottom || unknown) {\n        left = (\n          activatorLeft +\n          (activator.width / 2) -\n          (content.width / 2)\n        )\n      } else if (this.left || this.right) {\n        left = (\n          activatorLeft +\n          (this.right ? activator.width : -content.width) +\n          (this.right ? 10 : -10)\n        )\n      }\n\n      if (this.nudgeLeft) left -= parseInt(this.nudgeLeft)\n      if (this.nudgeRight) left += parseInt(this.nudgeRight)\n\n      return `${this.calcXOverflow(left, this.dimensions.content.width)}px`\n    },\n    calculatedTop (): string {\n      const { activator, content } = this.dimensions\n      const activatorTop = this.attach !== false ? activator.offsetTop : activator.top\n      let top = 0\n\n      if (this.top || this.bottom) {\n        top = (\n          activatorTop +\n          (this.bottom ? activator.height : -content.height) +\n          (this.bottom ? 10 : -10)\n        )\n      } else if (this.left || this.right) {\n        top = (\n          activatorTop +\n          (activator.height / 2) -\n          (content.height / 2)\n        )\n      }\n\n      if (this.nudgeTop) top -= parseInt(this.nudgeTop)\n      if (this.nudgeBottom) top += parseInt(this.nudgeBottom)\n      if (this.attach === false) top += this.pageYOffset\n\n      return `${this.calcYOverflow(top)}px`\n    },\n    classes (): object {\n      return {\n        'v-tooltip--top': this.top,\n        'v-tooltip--right': this.right,\n        'v-tooltip--bottom': this.bottom,\n        'v-tooltip--left': this.left,\n        'v-tooltip--attached':\n          this.attach === '' ||\n          this.attach === true ||\n          this.attach === 'attach',\n      }\n    },\n    computedTransition (): string {\n      if (this.transition) return this.transition\n\n      return this.isActive ? 'scale-transition' : 'fade-transition'\n    },\n    offsetY (): boolean {\n      return this.top || this.bottom\n    },\n    offsetX (): boolean {\n      return this.left || this.right\n    },\n    styles (): object {\n      return {\n        left: this.calculatedLeft,\n        maxWidth: convertToUnit(this.maxWidth),\n        minWidth: convertToUnit(this.minWidth),\n        top: this.calculatedTop,\n        zIndex: this.zIndex || this.activeZIndex,\n      }\n    },\n  },\n\n  beforeMount () {\n    this.$nextTick(() => {\n      this.value && this.callActivate()\n    })\n  },\n\n  mounted () {\n    if (getSlotType(this, 'activator', true) === 'v-slot') {\n      consoleError(`v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'`, this)\n    }\n  },\n\n  methods: {\n    activate () {\n      // Update coordinates and dimensions of menu\n      // and its activator\n      this.updateDimensions()\n      // Start the transition\n      requestAnimationFrame(this.startTransition)\n    },\n    deactivate () {\n      this.runDelay('close')\n    },\n    genActivatorListeners () {\n      const listeners = Activatable.options.methods.genActivatorListeners.call(this)\n\n      if (this.openOnFocus) {\n        listeners.focus = (e: Event) => {\n          this.getActivator(e)\n          this.runDelay('open')\n        }\n        listeners.blur = (e: Event) => {\n          this.getActivator(e)\n          this.runDelay('close')\n        }\n      }\n\n      listeners.keydown = (e: KeyboardEvent) => {\n        if (e.keyCode === keyCodes.esc) {\n          this.getActivator(e)\n          this.runDelay('close')\n        }\n      }\n\n      return listeners\n    },\n    genActivatorAttributes () {\n      return {\n        'aria-haspopup': true,\n        'aria-expanded': String(this.isActive),\n      }\n    },\n    genTransition () {\n      const content = this.genContent()\n\n      if (!this.computedTransition) return content\n\n      return this.$createElement('transition', {\n        props: {\n          name: this.computedTransition,\n        },\n      }, [content])\n    },\n    genContent () {\n      return this.$createElement(\n        'div',\n        this.setBackgroundColor(this.color, {\n          staticClass: 'v-tooltip__content',\n          class: {\n            [this.contentClass]: true,\n            menuable__content__active: this.isActive,\n            'v-tooltip__content--fixed': this.activatorFixed,\n          },\n          style: this.styles,\n          attrs: this.getScopeIdAttrs(),\n          directives: [{\n            name: 'show',\n            value: this.isContentActive,\n          }],\n          ref: 'content',\n        }),\n        this.getContentSlot()\n      )\n    },\n  },\n\n  render (h): VNode {\n    return h(this.tag, {\n      staticClass: 'v-tooltip',\n      class: this.classes,\n    }, [\n      this.showLazyContent(() => [this.genTransition()]),\n      this.genActivator(),\n    ])\n  },\n})\n","// Components\nimport VExpansionPanel from './VExpansionPanel'\nimport { VExpandTransition } from '../transitions'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Bootable,\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-content', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-content',\n\n  data: () => ({\n    isActive: false,\n  }),\n\n  computed: {\n    parentIsActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n  },\n\n  watch: {\n    parentIsActive: {\n      immediate: true,\n      handler (val, oldVal) {\n        if (val) this.isBooted = true\n\n        if (oldVal == null) this.isActive = val\n        else this.$nextTick(() => this.isActive = val)\n      },\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerContent(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterContent()\n  },\n\n  render (h): VNode {\n    return h(VExpandTransition, this.showLazyContent(() => [\n      h('div', this.setBackgroundColor(this.color, {\n        staticClass: 'v-expansion-panel-content',\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n      }), [\n        h('div', { class: 'v-expansion-panel-content__wrap' }, getSlot(this)),\n      ]),\n    ]))\n  },\n})\n","import VCard from './VCard'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nconst VCardActions = createSimpleFunctional('v-card__actions')\nconst VCardSubtitle = createSimpleFunctional('v-card__subtitle')\nconst VCardText = createSimpleFunctional('v-card__text')\nconst VCardTitle = createSimpleFunctional('v-card__title')\n\nexport {\n  VCard,\n  VCardActions,\n  VCardSubtitle,\n  VCardText,\n  VCardTitle,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCard,\n    VCardActions,\n    VCardSubtitle,\n    VCardText,\n    VCardTitle,\n  },\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addAction.vue?vue&type=style&index=0&id=c87afaa0&prod&lang=css&\"","// Components\nimport { VFadeTransition } from '../transitions'\nimport VExpansionPanel from './VExpansionPanel'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode, VueConstructor } from 'vue'\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject<'expansionPanel', VueConstructor<Vue>>('expansionPanel', 'v-expansion-panel-header', 'v-expansion-panel')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  expansionPanel: InstanceType<typeof VExpansionPanel>\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-expansion-panel-header',\n\n  directives: { ripple },\n\n  props: {\n    disableIconRotate: Boolean,\n    expandIcon: {\n      type: String,\n      default: '$expand',\n    },\n    hideActions: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: false,\n    },\n  },\n\n  data: () => ({\n    hasMousedown: false,\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel-header--active': this.isActive,\n        'v-expansion-panel-header--mousedown': this.hasMousedown,\n      }\n    },\n    isActive (): boolean {\n      return this.expansionPanel.isActive\n    },\n    isDisabled (): boolean {\n      return this.expansionPanel.isDisabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanel.isReadonly\n    },\n  },\n\n  created () {\n    this.expansionPanel.registerHeader(this)\n  },\n\n  beforeDestroy () {\n    this.expansionPanel.unregisterHeader()\n  },\n\n  methods: {\n    onClick (e: MouseEvent) {\n      this.$emit('click', e)\n    },\n    genIcon () {\n      const icon = getSlot(this, 'actions') ||\n        [this.$createElement(VIcon, this.expandIcon)]\n\n      return this.$createElement(VFadeTransition, [\n        this.$createElement('div', {\n          staticClass: 'v-expansion-panel-header__icon',\n          class: {\n            'v-expansion-panel-header__icon--disable-rotate': this.disableIconRotate,\n          },\n          directives: [{\n            name: 'show',\n            value: !this.isDisabled,\n          }],\n        }, icon),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    return h('button', this.setBackgroundColor(this.color, {\n      staticClass: 'v-expansion-panel-header',\n      class: this.classes,\n      attrs: {\n        tabindex: this.isDisabled ? -1 : null,\n        type: 'button',\n        'aria-expanded': this.isActive,\n      },\n      directives: [{\n        name: 'ripple',\n        value: this.ripple,\n      }],\n      on: {\n        ...this.$listeners,\n        click: this.onClick,\n        mousedown: () => (this.hasMousedown = true),\n        mouseup: () => (this.hasMousedown = false),\n      },\n    }), [\n      getSlot(this, 'default', { open: this.isActive }, true),\n      this.hideActions || this.genIcon(),\n    ])\n  },\n})\n","// Components\nimport VExpansionPanels from './VExpansionPanels'\nimport VExpansionPanelHeader from './VExpansionPanelHeader'\nimport VExpansionPanelContent from './VExpansionPanelContent'\n\n// Mixins\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Utilities\nimport { getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\ntype VExpansionPanelHeaderInstance = InstanceType<typeof VExpansionPanelHeader>\ntype VExpansionPanelContentInstance = InstanceType<typeof VExpansionPanelContent>\n\nexport default mixins(\n  GroupableFactory<'expansionPanels', typeof VExpansionPanels>('expansionPanels', 'v-expansion-panel', 'v-expansion-panels'),\n  RegistrableProvide('expansionPanel', true)\n  /* @vue/component */\n).extend({\n  name: 'v-expansion-panel',\n\n  props: {\n    disabled: Boolean,\n    readonly: Boolean,\n  },\n\n  data () {\n    return {\n      content: null as VExpansionPanelContentInstance | null,\n      header: null as VExpansionPanelHeaderInstance | null,\n      nextIsActive: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-expansion-panel--active': this.isActive,\n        'v-expansion-panel--next-active': this.nextIsActive,\n        'v-expansion-panel--disabled': this.isDisabled,\n        ...this.groupClasses,\n      }\n    },\n    isDisabled (): boolean {\n      return this.expansionPanels.disabled || this.disabled\n    },\n    isReadonly (): boolean {\n      return this.expansionPanels.readonly || this.readonly\n    },\n  },\n\n  methods: {\n    registerContent (vm: VExpansionPanelContentInstance) {\n      this.content = vm\n    },\n    unregisterContent () {\n      this.content = null\n    },\n    registerHeader (vm: VExpansionPanelHeaderInstance) {\n      this.header = vm\n      vm.$on('click', this.onClick)\n    },\n    unregisterHeader () {\n      this.header = null\n    },\n    onClick (e: MouseEvent) {\n      if (e.detail) this.header!.$el.blur()\n\n      this.$emit('click', e)\n\n      this.isReadonly || this.isDisabled || this.toggle()\n    },\n    toggle () {\n      this.$nextTick(() => this.$emit('change'))\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-expansion-panel',\n      class: this.classes,\n      attrs: {\n        'aria-expanded': String(this.isActive),\n      },\n    }, getSlot(this))\n  },\n})\n","export function SpotInvestments(quality, channels) {\r\n    const quality_arr = [1500, 1900, 2700, 3700, 5500];\r\n    const base = quality_arr[quality - 1];\r\n    return base + (channels.length - 1) * base * 0.5;\r\n}\r\n\r\nexport function SpotOperationsCosts(channels, segments, marketSize) {\r\n    let res = 0;\r\n    channels.forEach(channel => {\r\n        switch(channel) {\r\n            case 'TV': res+= 170000;\r\n            break;\r\n            case 'visual outdoor ads': res+= 90000;\r\n            break;\r\n            case 'autoradio podcasts': res+= 40000;\r\n            break;\r\n            case 'postal mailings':  res+= marketSize * 0.4; \r\n            break;\r\n            case 'SMM': \r\n                res+=  segments.reduce((sum, segment) => {\r\n                    return sum+= segment.segment.peak_size * 0.003\r\n                }, 0);\r\n                \r\n            break;\r\n            case 'content marketing': \r\n                res+= segments.reduce((sum, segment) => {\r\n                    return sum+= segment.segment.peak_size * 0.002\r\n                }, 0);\r\n            break;\r\n            case 'influencers':\r\n                res+= segments.reduce((sum, segment) => {\r\n                    return sum+= segment.segment.peak_size * 0.05\r\n                }, 0);\r\n        }   \r\n    })\r\n    return res;\r\n}","const ONLINE_INVESTMENTS = 28000;\r\nconst OFFLINE_INVESTMENTS = 15000;\r\nconst ONLINE_OPERATIONAL_COSTS = 40000;\r\nconst OFFLINE_OPERATIONAL_COSTS = 33000;\r\n\r\nexport function retailInvestments(type, stores = 1) {\r\n    if(type == 1) {\r\n        return ONLINE_INVESTMENTS;\r\n    }\r\n    else if (type == 2 || type == 3) {\r\n        return OFFLINE_INVESTMENTS * stores;\r\n    }\r\n    else {\r\n        throw new Error(`undefined channel type: ${type}`);\r\n    }\r\n}\r\n\r\nexport function operationalCosts(type, stores = 1) {\r\n    if (type == 1) {\r\n        return ONLINE_OPERATIONAL_COSTS;\r\n    }\r\n    else if (type == 2 || type == 3) {\r\n        return OFFLINE_OPERATIONAL_COSTS * stores;\r\n    }\r\n    else {\r\n        throw new Error(`undefined channel type: ${type}`);\r\n    }\r\n    \r\n}"],"sourceRoot":""}