(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bc3181a"],{"2f9a":function(t,e,a){"use strict";a.d(e,"c",(function(){return p})),a.d(e,"b",(function(){return v})),a.d(e,"e",(function(){return g})),a.d(e,"a",(function(){return _})),a.d(e,"d",(function(){return f}));const s=[5.8,6.1,6.5,6.9,7.5],r=[4.4,5.1,6,6.6,7.5],i=[0,9,11,7,8,14,18,2,3,1],l=[50,70,90,140,200],n=[190,250,370,480,600],o=[700,770,860,1090,1290],c=[0,100,120,220,210,190,300,30,40,0],d=[.5,.5,.5,.5,.5],u=[.5,1,1.5,2,2.5],m=[1.5,2,2.5,3,3.5],h=[0,1,1.5,1,1.5,2,2,1,2,0];function p(t,e,a,l=0){const n=s[t-1]+r[e-1]+ +i[l]+.2*r[e-1]*a;return parseFloat(n.toFixed(2))}function v(t,e,a,s,r=0){const i=o[s-1]+l[t-1]+n[e-1]+ +c[r]+.2*o[s-1]*a;return parseFloat(i.toFixed(2))}function g(t,e,a,s,r,i,d,u=0){const m=Math.abs(l[r-1]-l[t-1])+Math.abs(n[i-1]-n[e-1])+ +c[u]+ +Math.abs(.2*o[s-1]*(d-a));return parseFloat(m.toFixed(2))}function _(t,e,a,s,r=0){const i=m[s-1]+u[e-1]+ +d[t-1]+h[r]+.5*a;return Math.ceil(i)}function f(t,e,a,s,r=0){const i=u[e-1]+ +d[t-1]+h[r]+.2*Math.abs(s-a)/s;return Math.ceil(i)}},"925d":function(t,e,a){"use strict";a.r(e);var s=a("8336"),r=a("62ad"),i=a("a523"),l=a("ce7e"),n=a("4bd4"),o=a("0fd9"),c=a("b974"),d=a("71a3"),u=a("c671"),m=a("fe57"),h=a("aac8"),p=function(){var t=this,e=t._self._c;return e(i["a"],{staticClass:"pa-0",attrs:{fluid:""}},[e(i["a"],{staticClass:"my-4"},[e(n["a"],{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",sm:"4",md:"2"}},[e(c["a"],{attrs:{dense:"",color:"secondary","item-color":"secondary","return-object":"",items:t.sets,"item-text":"item","item-value":"value",label:"category of game",rules:[t.rules.required]},model:{value:t.set,callback:function(e){t.set=e},expression:"set"}})],1),e(r["a"],{staticClass:"mt-4",attrs:{cols:"12",sm:"3",md:"2"}},[e(s["a"],{staticClass:"text-lowercase",attrs:{color:"secondary",small:"",dark:"",disabled:!t.valid||Boolean(t.error)},on:{click:t.load}},[t._v("load ")])],1),t.teamsRout&&t.valid?e(r["a"],{staticClass:"mt-4",attrs:{cols:"12",sm:"3",md:"2"}},[e("add-team",{attrs:{set:t.set}})],1):t.productsRout&&t.valid?e(r["a"],{staticClass:"mt-4",attrs:{cols:"12",sm:"3",md:"2"}},[e("add-product",{attrs:{set:t.set}})],1):t.gamesRout&&t.valid?e(r["a"],{staticClass:"mt-4",attrs:{cols:"12",sm:"3",md:"2"}},[e("add-game",{attrs:{set:t.set}})],1):t.channelsRout&&t.valid?e(r["a"],{staticClass:"mt-4",attrs:{cols:"12",sm:"3",md:"2"}},[e("add-channel",{attrs:{set:t.set}})],1):t.promotionRout&&t.valid?e(r["a"],{staticClass:"mt-4",attrs:{cols:"12",sm:"3",md:"2"}},[e("add-spot",{attrs:{set:t.set}})],1):t.resourcesRout&&t.valid?e(r["a"],{staticClass:"mt-4",attrs:{cols:"12",sm:"3",md:"2"}},[e("add-resource",{attrs:{set:t.set}})],1):t._e()],1)],1)],1),e(l["a"]),e(m["a"],{attrs:{height:"35","background-color":"primary","fixed-tabs":"","hide-slider":"",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.itemsTab,(function(a){return e(d["a"],{key:a,staticClass:"text-capitalize",attrs:{to:t.link(a),ripple:"","exact-active-class":""}},[t._v(" "+t._s(a)+" ")])})),1),e(h["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(u["a"],{attrs:{value:"/admin/teams/games"}},[e("games")],1),e(u["a"],{attrs:{value:"/admin/teams/teams"}},[e("teams")],1),e(u["a"],{attrs:{value:"/admin/teams/products"}},[e("products")],1),e(u["a"],{attrs:{value:"/admin/teams/channels"}},[e("channels")],1),e(u["a"],{attrs:{value:"/admin/teams/promotion"}},[e("promotion")],1),e(u["a"],{attrs:{value:"/admin/teams/resources"}},[e("resources")],1)],1)],1)},v=[],g=function(){var t=this,e=t._self._c;return e(i["a"],{attrs:{fluid:""}},[t.loading?t._e():e("div",[e(o["a"],{staticClass:"my-2 subtitle-2 secondary--text pl-12"},[t._v(" Teams ")]),e(o["a"],{staticClass:"subtitle-2",attrs:{"no-gutters":""}},t._l(t.headers,(function(a,s){return e(r["a"],{key:s,staticClass:"tabCell",class:a.style,attrs:{cols:a.cols}},[t._v(" "+t._s(a.title)+" ")])})),1),t.teams.length?e("div",t._l(t.teams,(function(a){return e(o["a"],{key:a.id,attrs:{"no-gutters":""}},[e(r["a"],{staticClass:"tabCell text-left",attrs:{cols:"1"}},[t._v(t._s(a.id))]),e(r["a"],{staticClass:"tabCell text-center",attrs:{cols:"2"}},[t._v(t._s(a.name))]),e(r["a"],{staticClass:"tabCell text-center",attrs:{cols:"1"}},[t._v(t._s(a.gameId))])],1)})),1):t._e()],1)])},_=[],f={data(){return{headers:[{title:"Team id",style:"text-left",cols:1},{title:"Team",style:"text-center",cols:2},{title:"Game id",style:"text-center",cols:1}]}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},teams(){return this.$store.getters.teams}},methods:{localeNumber(t){return"ro-RO"==this.locale?t.toLocaleString("en-US"):t.toLocaleString(this.locale)}},components:{}},b=f,x=a("2877"),y=Object(x["a"])(b,g,_,!1,null,null,null),k=y.exports,C=function(){var t,e=this,a=e._self._c;return a(i["a"],{attrs:{fluid:""}},[e.loading?e._e():a("div",[a(o["a"],{staticClass:"my-2 subtitle-2 secondary--text pl-12"},[e._v(" Products ")]),a(o["a"],{staticClass:"subtitle-2",attrs:{"no-gutters":""}},e._l(e.headers,(function(t,s){return a(r["a"],{key:s,staticClass:"tabCell",class:t.style},[e._v(" "+e._s(t.title)+" ")])})),1),(null===(t=e.products)||void 0===t?void 0:t.length)>0?a("div",e._l(e.products,(function(t){var s,i;return a(o["a"],{key:t.id,attrs:{"no-gutters":""}},[a(r["a"],{staticClass:"tabCell text-left"},[e._v(e._s(null===(s=t.team)||void 0===s?void 0:s.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(null===(i=t.trademark)||void 0===i?void 0:i.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.model))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.material))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.manufacturing))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.design_type))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.design))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.variations))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.advanced_feature))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.sales_plan))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.production_plan))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.retail_price))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.price))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.unit_cost))]),a(r["a"],{staticClass:"tabCell text-center"},[a("edit-product",{attrs:{product:t}}),a("delete-product",{attrs:{product:t}})],1)],1)})),1):e._e()],1)])},$=[],w=a("b0af"),j=a("99d9"),q=a("169a"),S=a("132d"),M=a("2fa4"),z=a("8654"),T=a("3a2f"),D=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{scrollable:"","max-width":"600px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({attrs:{color:"secondary",small:"",icon:""}},a),[e(T["a"],{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(S["a"],t._g({attrs:{small:""}},a),[t._v("mdi-pencil")])]}}],null,!0)},[e("span",[t._v("edit product")])])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?t._e():e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6"},[t._v(" New parameters for "+t._s(t.trademark)+" "+t._s(t.model)+" model of the "+t._s(t.team)+" team ")]),e(l["a"]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"material level quality",name:"material",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.material,callback:function(e){t.material=t._n(e)},expression:"material"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"manufacturing level quality",name:"manufacturing",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.manufacturing,callback:function(e){t.manufacturing=t._n(e)},expression:"manufacturing"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"design level quality",name:"design",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.design,callback:function(e){t.design=t._n(e)},expression:"design"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",color:"primary",label:"type of design",items:t.types,rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.design_type,callback:function(e){t.design_type=e},expression:"design_type"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"variations of model",name:"variations",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.variations,callback:function(e){t.variations=t._n(e)},expression:"variations"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",color:"primary","return-object":"",label:"advanced feature",clearable:"",items:t.features,"item-text":"text","item-value":"value"},on:{change:function(e){return t.onceMore()}},model:{value:t.advanced_feature,callback:function(e){t.advanced_feature=e},expression:"advanced_feature"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"sales plan",name:"sales_plan",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.sales_plan,callback:function(e){t.sales_plan=t._n(e)},expression:"sales_plan"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"production plan",name:"production_plan",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.production_plan,callback:function(e){t.production_plan=t._n(e)},expression:"production_plan"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"ex-works price",name:"price",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.price,callback:function(e){t.price=t._n(e)},expression:"price"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"retail price",name:"retail_price",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.retail_price,callback:function(e){t.retail_price=t._n(e)},expression:"retail_price"}})],1)],1)],1)],1),e(o["a"],{staticClass:"error",attrs:{justify:"center"}},[t._v(t._s(t.error))]),e(o["a"],{staticClass:"subtitle-2",attrs:{justify:"center"}},[t._v(t._s(t.message))])],1),e(l["a"]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.haveBeenChanged||Boolean(t.error)},on:{click:t.calculating}},[t._v(" Calculate ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.calculate||Boolean(t.error)},on:{click:t.editProduct}},[t._v(" Save ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")])],1)],1)],1)},O=[],E=a("2f9a"),R={name:"EditProduct",props:["product"],data(){return{dialog:!1,valid:!1,haveBeenChanged:!1,error:"",message:"",rules:{required:t=>!!t||"this field is required",number:t=>/^[+]?[0-9]/.test(t)||"it's expected number",max:t=>t<=5||"max 5 expected"},types:["classic","business","casual","innovative","art"],features:["positioning tracker","power bank","missed items warning","danger alarm","fridge camera","individual pictures","against loss insurance","environment friendly utilization","charity profit sharing"],calculate:!1,trademark:this.product.trademark.name,model:this.product.model,team:this.product.team.name,available_from:this.product.available_from,available_till:this.product.available_till,material:this.product.material,manufacturing:this.product.manufacturing,design_type:this.product.design_type,design:this.product.design,variations:this.product.variations,advanced_feature:this.product.advanced_feature,sales_plan:this.product.sales_plan,production_plan:this.product.production_plan,retail_price:this.product.retail_price,price:this.product.price,unit_cost:this.product.unit_cost}},computed:{loading(){return this.$store.getters.loading}},methods:{onceMore(){this.error="",this.calculate=!1,this.message="",this.haveBeenChanged=!0},getAFValue(t){const e=[{text:"positioning tracker",value:1},{text:"power bank",value:2},{text:"missed items warning",value:3},{text:"danger alarm",value:4},{text:"fridge camera",value:5},{text:"individual pictures",value:6},{text:"against loss insurance",value:7},{text:"environment friendly utilization",value:8},{text:"charity profit sharing",value:9}],a=e.find(e=>e.text===t);return a?a.value:0},calculating(){this.$refs.form.validate()&&(this.advanced_feature?this.unit_cost=Object(E["c"])(this.material,this.manufacturing,this.variations,this.getAFValue(this.advanced_feature)):this.unit_cost=Object(E["c"])(this.material,this.manufacturing,this.variations),this.message="unit cost = "+this.unit_cost,this.calculate=!0)},async editProduct(){if(this.$refs.form.validate()){const e={id:this.product.id,team:this.product.team,trademark:this.product.trademark,model:this.model,available_from:this.available_from,available_till:this.available_till,material:this.material,manufacturing:this.manufacturing,design_type:this.design_type,design:this.design,variations:this.variations,advanced_feature:this.advanced_feature,sales_plan:this.sales_plan,production_plan:this.production_plan,retail_price:this.retail_price,price:this.price,investments:this.product.investments,unit_cost:this.unit_cost};console.log(e);try{await this.$store.dispatch("editProduct",e),this.closeDialog()}catch(t){this.$store.dispatch("setError",t.message)}}},closeDialog(){this.dialog=!1,this.error="",this.calculate=!1,this.haveBeenChanged=!1,this.trademark=this.product.trademark.name,this.model=this.product.model,this.team=this.product.team.name,this.available_from=this.product.available_from,this.available_till=this.product.available_till,this.material=this.product.material,this.manufacturing=this.product.manufacturing,this.design_type=this.product.design_type,this.design=this.product.design,this.variations=this.product.variations,this.sales_plan=this.product.sales_plan,this.production_plan=this.product.production_plan,this.retail_price=this.product.retail_price,this.price=this.product.price,this.unit_cost=this.product.unit_cost}}},N=R,I=Object(x["a"])(N,D,O,!1,null,null,null),B=I.exports,P=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{width:"420px"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"mx-2",attrs:{small:"",icon:"",color:"secondary"}},a),[e(T["a"],{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(S["a"],t._g({attrs:{small:""}},a),[t._v("mdi-delete")])]}}],null,!0)},[e("span",[t._v("delete")])])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?e("div",{staticClass:"text-xs-center"},[e("loader")],1):e(w["a"],[e(j["c"],{staticClass:"justify-center subtitle-2 pt-6"},[t._v(" Do you really want to delete the "),e("span",{staticClass:"px-2 secondary--text"},[t._v(t._s(this.product.trademark.name)+" "+t._s(t.product.model)+" ")]),t._v(" model of the "),e("span",{staticClass:"px-2 secondary--text"},[t._v(t._s(this.product.team.name))]),t._v(" team ? ")]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" No ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"error",text:"",disabled:Boolean(t.error)},on:{click:t.deleteProduct}},[t._v(" Yes")])],1)],1)],1)},A=[],L=a("43f5"),G={props:["product"],data(){return{dialog:!1,error:""}},computed:{loading(){return this.$store.getters.loading}},methods:{closeDialog(){this.dialog=!1},async deleteProduct(){if(this.product&&this.product.id){const e=this.product.id;try{await this.$store.dispatch("deleteProduct",e)}catch(t){console.log(t.message)}}}},components:{Loader:L["default"]}},U=G,V=Object(x["a"])(U,P,A,!1,null,null,null),F=V.exports,Y={data(){return{headers:[{title:"team",style:"text-left"},{title:"trademark",style:"text-center"},{title:"model",style:"text-center"},{title:"material",style:"text-center"},{title:"manufacturing",style:"text-center"},{title:"type of design",style:"text-center"},{title:"design level",style:"text-center"},{title:"variations",style:"text-center"},{title:"advanced feature",style:"text-center"},{title:"sales plan",style:"text-center"},{title:"production plan",style:"text-center"},{title:"retail price",style:"text-center"},{title:"ex-work price",style:"text-center"},{title:"unit_cost",style:"text-center"},{title:"action",style:"text-center"}]}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},products(){return this.$store.getters.products_all}},methods:{localeNumber(t){return"ro-RO"==this.locale?t.toLocaleString("en-US"):t.toLocaleString(this.locale)}},components:{EditProduct:B,DeleteProduct:F}},H=Y,J=Object(x["a"])(H,C,$,!1,null,null,null),Z=J.exports,K=function(){var t,e=this,a=e._self._c;return a(i["a"],{attrs:{fluid:""}},[e.loading?e._e():a("div",[a(o["a"],{staticClass:"my-2 subtitle-2 secondary--text pl-12"},[e._v(" Channels ")]),(null===(t=e.channels)||void 0===t?void 0:t.length)>0?a("div",[a(o["a"],{staticClass:"subtitle-2",attrs:{"no-gutters":""}},e._l(e.headers,(function(t,s){return a(r["a"],{key:s,staticClass:"tabCell",class:t.style},[e._v(" "+e._s(t.title)+" ")])})),1),e._l(e.channels,(function(t){var s;return a(o["a"],{key:t.id,attrs:{"no-gutters":""}},[a(r["a"],{staticClass:"tabCell text-left"},[e._v(e._s(e.trademarks(t)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(null===(s=t.team)||void 0===s?void 0:s.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.stores))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.getTypeByVal(t.type)))]),a(r["a"],{staticClass:"tabCell text-center"},[a("edit-channel",{attrs:{channel:t}}),a("delete-channel",{attrs:{channel:t}})],1)],1)}))],2):a(o["a"],{staticClass:"mt-8 px-4"},[e._v(" You haven't channels yet! ")])],1)])},Q=[],W=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{"max-width":"600px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({attrs:{color:"secondary",small:"",icon:""}},a),[e(T["a"],{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(S["a"],t._g({attrs:{small:""}},a),[t._v("mdi-pencil")])]}}],null,!0)},[e("span",[t._v("edit channel")])])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?e("div",{staticClass:"text-center"},[e("loader")],1):e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6 text-pre-wrap"},[t._v(" New parameters of "),e("span",{staticClass:"secondary--text"},[t._v(t._s(t.channel.name))]),t._v(" of the "),e("span",{staticClass:"secondary--text"},[t._v(t._s(t.channel.team.name))]),t._v(" team ")]),e(l["a"]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",md:"8",sm:"6"}},[e(z["a"],{attrs:{dense:"",color:"secondary","item-color":"secondary",label:"trademarks",readonly:""},on:{change:function(e){return t.onceMore()}},model:{value:t.trademarks,callback:function(e){t.trademarks=e},expression:"trademarks"}})],1),e(r["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"stores",name:"stores",type:"text",readonly:t.readonly,rules:[t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.stores,callback:function(e){t.stores=t._n(e)},expression:"stores"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"8"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"channel name",name:"name",type:"text"},on:{change:function(e){return t.onceMore()}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1)],1)],1),e(o["a"],{staticClass:"error--text",attrs:{justify:"center"}},[t._v(t._s(t.error))])],1),e(l["a"]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.valid||Boolean(t.error)},on:{click:t.editChannel}},[t._v("Save")])],1)],1)],1)},X=[],tt={name:"EditChannel",props:["channel"],data(){return{dialog:!1,valid:!1,error:"",haveBeenChanged:!1,rules:{required:t=>!!t||"this field is required",number:t=>/^[+]?[0-9]/.test(t)||"it's expected number"},name:this.channel.name,stores:this.channel.stores}},computed:{loading(){return this.$store.getters.loading},readonly(){return parseInt(this.channel.type)<3},trademarks(){const t=this.channel.trademarks.map(t=>t.name);return t.join(" , ")}},methods:{onceMore(){this.error="",this.haveBeenChanged=!0},async editChannel(){if(this.$refs.form.validate()){const e={...this.channel,stores:this.stores,name:this.name};console.log(e);try{await this.$store.dispatch("editChannel",e),this.closeDialog()}catch(t){this.$store.dispatch("setError",t.message)}}},closeDialog(){this.dialog=!1,this.error="",this.haveBeenChanged=!1,this.name=this.channel.name,this.stores=this.channel.stores,this.trademark=this.channel.trademarks}}},et=tt,at=Object(x["a"])(et,W,X,!1,null,null,null),st=at.exports,rt=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{width:"450px"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"mx-2",attrs:{small:"",icon:"",color:"secondary"}},a),[e(T["a"],{attrs:{bottom:"",color:"primary"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(S["a"],t._g({attrs:{small:""}},a),[t._v("mdi-delete")])]}}],null,!0)},[e("span",[t._v("delete")])])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?e("div",{staticClass:"text-xs-center"},[e("loader")],1):e(w["a"],[e(j["c"],{staticClass:"text-center subtitle-2 pt-6 text-pre-wrap"},[t._v(" Do you want to delete the "),e("span",{staticClass:"px-2 secondary--text"},[t._v(t._s(this.channel.name))]),t._v(" of the "),e("span",{staticClass:"px-2 secondary--text"},[t._v(t._s(this.channel.team.name))]),t._v(" team? ")]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" No ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"error",text:"",disabled:Boolean(t.error)},on:{click:t.deleteChannel}},[t._v(" Yes")])],1)],1)],1)},it=[],lt={props:["channel"],data(){return{dialog:!1,error:""}},computed:{loading(){return this.$store.getters.loading}},methods:{closeDialog(){this.dialog=!1},async deleteChannel(){if(this.channel&&this.channel.id){const e=this.channel.id;try{await this.$store.dispatch("deleteChannel",e)}catch(t){console.log(t.message)}}}},components:{Loader:L["default"]}},nt=lt,ot=Object(x["a"])(nt,rt,it,!1,null,null,null),ct=ot.exports,dt={data(){return{headers:[{title:"trademarks",style:"text-left"},{title:"team",style:"text-center"},{title:"channel name",style:"text-center"},{title:"number of stores",style:"text-center"},{title:"channel type",style:"text-center"},{title:"action",style:"text-center"}]}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},channels(){return this.$store.getters.channels_all}},methods:{trademarks(t){const e=t.trademarks.map(t=>t.name);return e.join(", ")},getTypeByVal(t){let e="";switch(t){case 1:e="team self operates online store";break;case 2:e="team self operates brick&mortar channel";break;case 3:e="trademark self operates brick&mortar channel"}return e}},components:{editChannel:st,deleteChannel:ct}},ut=dt,mt=Object(x["a"])(ut,K,Q,!1,null,null,null),ht=mt.exports,pt=function(){var t,e=this,a=e._self._c;return a(i["a"],{attrs:{fluid:""}},[e.loading?a("div",{staticClass:"text-center"},[a("loader")],1):a("div",[a(o["a"],{staticClass:"my-2 subtitle-2 secondary--text pl-12"},[e._v(" Promotion ")]),(null===(t=e.spots)||void 0===t?void 0:t.length)>0?a("div",[a(o["a"],{staticClass:"subtitle-2",attrs:{"no-gutters":""}},e._l(e.headers,(function(t,s){return a(r["a"],{key:s,staticClass:"tabCell",class:t.style},[e._v(" "+e._s(t.title)+" ")])})),1),e._l(e.spots,(function(t){var s,i;return a(o["a"],{key:t.id,attrs:{"no-gutters":""}},[a(r["a"],{staticClass:"tabCell text-left"},[e._v(e._s(t.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(null===(s=t.team)||void 0===s?void 0:s.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(null===(i=t.trademark)||void 0===i?void 0:i.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.core_message))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.advanced_feature))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.price))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.getValue(t.value)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.selializing(t.channels)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.selializing(t.segments)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.objective))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.quality))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.localeNumber(t.investments)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.localeNumber(t.operations)))]),a(r["a"],{staticClass:"tabCell text-center"},[a("delete-spot",{attrs:{spot:t}})],1)],1)}))],2):a(o["a"],{staticClass:"mt-8 px-4",attrs:{justify:"center"}},[e._v(" You haven't spots yet! ")])],1)])},vt=[],gt=function(){var t,e=this,a=e._self._c;return a(q["a"],{attrs:{width:"420px"},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(s["a"],e._g({staticClass:"mx-2",attrs:{small:"",icon:"",color:"secondary"}},t),[a(T["a"],{attrs:{bottom:"",color:"primary"},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(S["a"],e._g({attrs:{small:""}},t),[e._v("mdi-delete")])]}}],null,!0)},[a("span",[e._v("delete")])])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e.loading?a("div",{staticClass:"text-xs-center"},[a("loader")],1):a(w["a"],[a(j["c"],{staticClass:"justify-center subtitle-2 pt-6"},[e._v(" Do you really want to delete the "),a("span",{staticClass:"px-2 secondary--text"},[e._v(" "+e._s(e.spot.name)+" ")]),e._v(" of the "),a("span",{staticClass:"px-2 secondary--text"},[e._v(e._s(null===(t=e.spot.team)||void 0===t?void 0:t.name))]),e._v(" team? ")]),a(j["a"],[a(M["a"]),a(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:e.closeDialog}},[e._v(" No ")]),a(s["a"],{staticClass:"text-capitalize",attrs:{color:"error",text:"",disabled:Boolean(e.error)},on:{click:e.deleteSpot}},[e._v(" Yes")])],1)],1)],1)},_t=[],ft={props:["spot"],data(){return{dialog:!1,error:""}},computed:{loading(){return this.$store.getters.loading}},methods:{closeDialog(){this.dialog=!1},async deleteSpot(){if(this.spot&&this.spot.id){const e=this.spot.id;console.log(this.spot);try{await this.$store.dispatch("deleteAllSpot",e)}catch(t){console.log(t.message)}}}},components:{Loader:L["default"]}},bt=ft,xt=Object(x["a"])(bt,gt,_t,!1,null,null,null),yt=xt.exports,kt={data(){return{headers:[{title:"spot's name",style:"text-left"},{title:"team",style:"text-center"},{title:"trademark",style:"text-center"},{title:"core message",style:"text-center"},{title:"advanced feature",style:"text-center"},{title:"price",style:"text-center"},{title:"value",style:"text-center"},{title:"ad channels",style:"text-center"},{title:"segments",style:"text-center"},{title:"objective",style:"text-center"},{title:"level quality",style:"text-center"},{title:"investments in creation",style:"text-center"},{title:"operations costs",style:"text-center"},{title:"action",style:"text-center"}]}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},spots(){return this.$store.getters.spots_all},values(){return this.$store.getters.VALUES}},methods:{localeNumber(t){return"ro-RO"==this.locale?t.toLocaleString("en-US"):t.toLocaleString(this.locale)},getValue(t){var e;return null===(e=this.values)||void 0===e?void 0:e.find(e=>e.value==t).text},selializing(t){return t.join(", ")}},components:{deleteSpot:yt,Loader:L["default"]}},Ct=kt,$t=Object(x["a"])(Ct,pt,vt,!1,null,null,null),wt=$t.exports,jt=function(){var t,e=this,a=e._self._c;return a(i["a"],{attrs:{fluid:""}},[e.loading?a("div",{staticClass:"text-center"},[a("loader")],1):a("div",[a(o["a"],{staticClass:"my-2 subtitle-2 secondary--text pl-12"},[e._v(" Resources ")]),(null===(t=e.resources)||void 0===t?void 0:t.length)>0?a("div",[a(o["a"],{staticClass:"subtitle-2",attrs:{"no-gutters":""}},e._l(e.headers,(function(t,s){return a(r["a"],{key:s,staticClass:"tabCell",class:t.style},[e._v(" "+e._s(t.title)+" ")])})),1),e._l(e.resources,(function(t){var s;return a(o["a"],{key:t.id,attrs:{"no-gutters":""}},[a(r["a"],{staticClass:"tabCell text-left"},[e._v(e._s(null===(s=t.team)||void 0===s?void 0:s.name))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.formatNumber(t.capacities)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(t.capacities_increase))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.formatNumber(t.long_term_debt)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.formatNumber(t.borrowings)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.selializing(t.research_segments)))]),a(r["a"],{staticClass:"tabCell text-center"},[e._v(e._s(e.formatNumber(t.research_costs)))])],1)}))],2):a(o["a"],{staticClass:"mt-8 px-4",attrs:{justify:"center"}},[e._v(" You haven't resources yet! ")])],1)])},qt=[],St=a("22a5"),Mt={data(){return{headers:[{title:"Team",style:"text-left"},{title:"Capacities current round",style:"text-center"},{title:"Capacities increase for next round",style:"text-center"},{title:"Current long-term debt",style:"text-center"},{title:"Borrowings current round",style:"text-center"},{title:"Segments for research",style:"text-center"},{title:"Research costs",style:"text-center"}]}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},resources(){return this.$store.getters.resources}},methods:{formatNumber(t){return Object(St["d"])(t,this.locale)},getValue(t){return this.values.find(e=>e.value===t).text},selializing(t){return t&&t.length?t.join(", "):""}},components:{Loader:L["default"]}},zt=Mt,Tt=Object(x["a"])(zt,jt,qt,!1,null,null,null),Dt=Tt.exports,Ot=function(){var t=this,e=t._self._c;return e(i["a"],{attrs:{fluid:""}},[t.loading?t._e():e("div",[e(o["a"],{staticClass:"my-2 subtitle-2 secondary--text pl-12"},[t._v(" Games ")]),t.games.length>0?e("div",[e(o["a"],{staticClass:"subtitle-2",attrs:{"no-gutters":""}},t._l(t.headers,(function(a,s){return e(r["a"],{key:s,staticClass:"tabCell",class:a.style},[t._v(" "+t._s(a.title)+" ")])})),1),t._l(t.games,(function(a){return e(o["a"],{key:a.id,attrs:{"no-gutters":""}},[e(r["a"],{staticClass:"tabCell text-left"},[t._v(t._s(a.id))]),e(r["a"],{staticClass:"tabCell text-center"},[t._v(t._s(a.category))]),e(r["a"],{staticClass:"tabCell text-center"},[t._v(t._s(a.description))]),e(r["a"],{staticClass:"tabCell text-center"},[t._v(t._s(a.userId))]),e(r["a"],{staticClass:"tabCell text-center"})],1)}))],2):e(o["a"],{staticClass:"mt-8 px-4"},[t._v(" You haven't games yet! ")])],1)])},Et=[],Rt={name:"Games",data(){return{headers:[{title:"game id",style:"text-left"},{title:"category",style:"text-center"},{title:"description",style:"text-center"},{title:"user id",style:"text-center"},{title:"action",style:"text-center"}]}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},games(){return this.$store.getters.games}},methods:{dateToString(t){return t.toLocaleString("en-GB",{timeZone:"UTC"}).substr(0,10)}},components:{},async mounted(){if(this.games.length<1)try{await this.$store.dispatch("fetchUserGames")}catch(t){console.log(t.message)}}},Nt=Rt,It=Object(x["a"])(Nt,Ot,Et,!1,null,null,null),Bt=It.exports,Pt=a("a844"),At=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{scrollable:"","max-width":"400px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"text-lowercase mr-4",attrs:{color:"secondary",dark:"",small:""}},a),[t._v("add team")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?t._e():e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6"},[t._v(" New team parameters by "+t._s(t.set.item)+" game ")]),e(l["a"]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"Team name",name:"name",type:"text",rules:[t.rules.required]},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(r["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(Pt["a"],{attrs:{outlined:"",color:"primary",name:"description",label:"Description","auto-grou":""},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1)],1)],1)],1),e(o["a"],{staticClass:"error",attrs:{justify:"center"}},[t._v(t._s(t.error))])],1),e(l["a"]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.valid||Boolean(t.error)},on:{click:t.addTeam}},[t._v("Save")])],1)],1)],1)},Lt=[],Gt={name:"AddTeam",props:["set"],data(){return{dialog:!1,valid:!1,error:"",rules:{required:t=>!!t||"this field is required",number:t=>/^[+]?[0-9]/.test(t)||"it's expected number"},name:"",desc:""}},computed:{loading(){return this.$store.getters.loading},games(){return this.$store.getters.games}},methods:{onceMore(){this.error=""},async addTeam(){if(this.$refs.form.validate()){const e={gameId:this.set.value,round:0,name:this.name,description:this.desc};try{await this.$store.dispatch("addTeam",e),this.closeDialog()}catch(t){this.$store.dispatch("setError",t.message)}}},closeDialog(){this.dialog=!1,this.error="",this.name=""}},async mounted(){if(this.games.length<1&&this.user)try{await this.$store.dispatch("fetchUserGames")}catch(t){console.log(t.message)}}},Ut=Gt,Vt=Object(x["a"])(Ut,At,Lt,!1,null,null,null),Ft=Vt.exports,Yt=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{scrollable:"","max-width":"600px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"text-lowercase mr-4",attrs:{color:"secondary",dark:"",small:""}},a),[t._v("add product")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?t._e():e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6"},[t._v(" New product parameters by "+t._s(t.set.item)+" set ")]),e(l["a"]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"trademark",name:"trademark",type:"text",rules:[t.rules.required]},model:{value:t.trademark,callback:function(e){t.trademark=e},expression:"trademark"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"model",name:"model",type:"text",rules:[t.rules.required]},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"material level quality",name:"material",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.material,callback:function(e){t.material=t._n(e)},expression:"material"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"manufacturing level quality",name:"manufacturing",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.manufacturing,callback:function(e){t.manufacturing=t._n(e)},expression:"manufacturing"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"design level quality",name:"design",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.design,callback:function(e){t.design=t._n(e)},expression:"design"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",color:"primary",label:"type of design",items:t.types,rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.design_type,callback:function(e){t.design_type=e},expression:"design_type"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"variations of model",name:"variations",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.variations,callback:function(e){t.variations=t._n(e)},expression:"variations"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",color:"primary","return-object":"",label:"advanced feature",clearable:"",items:t.features,"item-text":"text","item-value":"value"},on:{change:function(e){return t.onceMore()}},model:{value:t.advanced_feature,callback:function(e){t.advanced_feature=e},expression:"advanced_feature"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"sales plan",name:"sales_plan",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.sales_plan,callback:function(e){t.sales_plan=t._n(e)},expression:"sales_plan"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"production plan",name:"production_plan",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.production_plan,callback:function(e){t.production_plan=t._n(e)},expression:"production_plan"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"ex-works price",name:"price",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.price,callback:function(e){t.price=t._n(e)},expression:"price"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"retail price",name:"retail_price",type:"text",rules:[t.rules.required,t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.retail_price,callback:function(e){t.retail_price=t._n(e)},expression:"retail_price"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",color:"primary","return-object":"",label:"team",items:t.teams,"item-text":"name","item-value":"id"},on:{change:function(e){return t.onceMore()}},model:{value:t.team,callback:function(e){t.team=t._n(e)},expression:"team"}})],1)],1)],1)],1),e(o["a"],{staticClass:"error",attrs:{justify:"center"}},[t._v(t._s(t.error))]),e(o["a"],{staticClass:"subtitle-2",attrs:{justify:"center"}},[t._v(t._s(t.message))])],1),e(l["a"]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.valid||Boolean(t.error)},on:{click:t.calculating}},[t._v(" Calculate ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.calculate||Boolean(t.error)},on:{click:t.addProduct}},[t._v(" Save ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")])],1)],1)],1)},Ht=[],Jt={name:"AddProduct",props:["set"],data(){return{dialog:!1,valid:!1,error:"",message:"",rules:{required:t=>!!t||"this field is required",number:t=>/^[+]?[0-9]/.test(t)||"it's expected number",max:t=>t<=5||"max 5 expected"},types:["classic","business","casual","innovative","art"],features:[{text:"positioning tracker",value:1},{text:"power bank",value:2},{text:"missed items warning",value:3},{text:"danger alarm",value:4},{text:"fridge camera",value:5},{text:"individual pictures",value:6},{text:"against loss insurance",value:7},{text:"environment friendly utilization",value:8},{text:"charity profit sharing",value:9}],calculate:!1,game_id:this.set.value,round:0,trademark:"",model:"",available_from:1,available_till:12,material:1,manufacturing:1,design_type:"",design:1,variations:1,advanced_feature:null,sales_plan:0,production_plan:0,retail_price:0,price:0,team:{},investments:0,unit_cost:0}},computed:{loading(){return this.$store.getters.loading},teams(){return this.$store.getters.teams}},watch:{async set(){try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(t){await this.$store.dispatch("setError",t.message)}}},methods:{onceMore(){this.error="",this.calculate=!1,this.message=""},generatorId(t){return"_"+Math.random().toString(36).substr(2,t)},calculating(){this.$refs.form.validate()&&(this.advanced_feature?this.unit_cost=Object(E["c"])(this.material,this.manufacturing,this.variations,this.advanced_feature.value):this.unit_cost=Object(E["c"])(this.material,this.manufacturing,this.variations),this.message="unit cost = "+this.unit_cost,this.calculate=!0)},async addProduct(){if(this.$refs.form.validate()){let e="";this.advanced_feature&&(e=this.advanced_feature.text);const a=this.generatorId(9),s={gameId:this.set.value,round:0,productId:a,trademark:this.trademark,model:this.model,available_from:this.available_from,available_till:this.available_till,material:this.material,manufacturing:this.manufacturing,design_type:this.design_type,design:this.design,variations:this.variations,advanced_feature:e,sales_plan:this.sales_plan,production_plan:this.production_plan,retail_price:this.retail_price,price:this.price,teamId:this.team.id,team:this.team,investments:this.investments,unit_cost:this.unit_cost};console.log(s);try{await this.$store.dispatch("addProduct",s),this.closeDialog()}catch(t){this.$store.dispatch("setError",t.message)}}},closeDialog(){this.dialog=!1,this.error="",this.name="",this.calculate=!1,this.$refs.form.reset()}},async mounted(){if(this.teams.length<1)try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(t){console.log(t)}}},Zt=Jt,Kt=Object(x["a"])(Zt,Yt,Ht,!1,null,null,null),Qt=Kt.exports,Wt=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{"max-width":"400px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"text-lowercase mr-4",attrs:{color:"secondary",dark:"",small:""}},a),[t._v("add game")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?t._e():e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6"},[t._v(" New game parameters ")]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"current round",type:"text",rules:[t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.round,callback:function(e){t.round=t._n(e)},expression:"round"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(c["a"],{attrs:{dense:"",color:"primary",label:"category",items:t.categories,rules:[t.rules.required]},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1),e(r["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(Pt["a"],{attrs:{outlined:"",dense:"",color:"primary",label:"description",name:"description",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1)],1)],1),e(o["a"],{staticClass:"error",attrs:{justify:"center"}},[t._v(t._s(t.error))])],1),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.valid||Boolean(t.error)},on:{click:t.addGame}},[t._v("Save")])],1)],1)],1)},Xt=[],te={name:"AddGame",props:["set"],data(){return{dialog:!1,valid:!1,error:"",categories:["simple","standart","advanced"],rules:{required:t=>!!t||"this field is required",number:t=>/^[+]?[0-9]/.test(t)||"it's expected number"},round:0,category:"standart",description:""}},computed:{loading(){return this.$store.getters.loading}},methods:{onceMore(){this.error=""},async addGame(){if(this.$refs.form.validate()){const e={category:this.category,round:this.round,description:this.description};try{await this.$store.dispatch("addGame",e),this.closeDialog()}catch(t){this.$store.dispatch("setError",t.message)}}},closeDialog(){this.dialog=!1,this.error="",this.round=0,this.category="standart",this.description=""}}},ee=te,ae=Object(x["a"])(ee,Wt,Xt,!1,null,null,null),se=ae.exports,re=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{"max-width":"600px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"text-lowercase",attrs:{color:"secondary",dark:"",small:""}},a),[t._v(" add channel ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?e("div",{staticClass:"text-center"},[e("loader")],1):e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6 text-pre-wrap"},[t._v(" New chanel parameters by "),e("span",{staticClass:"secondary--text"},[t._v(t._s(t.set.item))]),t._v(" set ")]),e(l["a"]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){t.preventDefault()}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[e(c["a"],{attrs:{dense:"","return-object":"",items:t.teams,"item-text":"name","item-value":"id","item-color":"secondary",label:"team",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.team,callback:function(e){t.team=e},expression:"team"}})],1),e(r["a"],{attrs:{cols:"12",md:"8",sm:"6"}},[e(c["a"],{attrs:{dense:"",items:t.types,"item-text":"text","item-value":"value","item-color":"secondary",label:"type of channel",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),e(r["a"],{attrs:{cols:"12",md:"8",sm:"6"}},[e(c["a"],{attrs:{dense:"",items:t.filteredTrademarks,"item-text":"name",multiple:"",color:"secondary","item-color":"secondary",label:"trademarks (multiple)",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.trademark,callback:function(e){t.trademark=e},expression:"trademark"}})],1),e(r["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"stores",name:"stores",type:"text",readonly:t.readonly,rules:[t.rules.number]},on:{change:function(e){return t.onceMore()}},model:{value:t.stores,callback:function(e){t.stores=t._n(e)},expression:"stores"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"8"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"channel name",name:"name",type:"text",readonly:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1)],1)],1),t.error?e(o["a"],{staticClass:"mx-2 error--text",attrs:{justify:"center"}},[t._v("! "+t._s(t.error))]):t._e(),e(o["a"],{staticClass:"text-center mx-2",attrs:{justify:"center"}},[t._v(t._s(t.message))])],1),e(l["a"]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.valid||Boolean(t.error)},on:{click:t.addChannel}},[t._v("Save")])],1)],1)],1)},ie=[],le=a("f3ca"),ne={props:["set"],data(){return{dialog:!1,valid:!1,message:"",error:"",calculating:!1,rules:{required:t=>!!t||"this field is required",number:t=>/^[+]?[0-9]/.test(t)||"it's expected number"},types:[{text:"team self operates online store",value:1},{text:"team self operates brick&mortar channel",value:2},{text:"trademark self operates brick&mortar channel",value:3}],stores:1,type:1,team:null,trademark:[]}},computed:{loading(){return this.$store.getters.loading},teams(){return this.$store.getters.teams},trademarks(){return this.$store.getters.trademarks},readonly(){return parseInt(this.type)<3},filteredTrademarks(){if(this.team){var t;const e=[];null===(t=this.team)||void 0===t||t.products.map(t=>{const a=e.find(e=>e===t.trademarkId);a||e.push(t.trademarkId)});const a=this.trademarks.filter(t=>-1!==e.indexOf(t.id));return a}return this.trademarks},name(){let t="";if(this.team&&this.type&&this.trademark)switch(this.type){case 1:t=this.team.name+" online store";break;case 2:t=this.team.name+" brick&mortar store";break;case 3:t=t=this.trademark[0]+" brick&mortar store"}return t}},watch:{team(){(1===this.type||2===this.type||1===this.filteredTrademarks.length)&&(this.trademark=this.filteredTrademarks.map(t=>t.name))},async set(){try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(t){await this.$store.dispatch("setError",t.message)}}},methods:{onceMore(){this.calculating=!1,this.message="",this.error=""},async addChannel(){if(this.$refs.form.validate()){if(1==this.type||2==this.type){if(this.trademark.length!==this.filteredTrademarks.length)return this.error=`You must add all trademarks of the team ${this.team.name}!`}else if(3==this.type&&1!==this.trademark.length)return this.error=`You can choose one of the team ${this.team.name} trademarks!`;const t={gameId:this.set.value,round:0,register_round:0,teamId:this.team.id,name:this.name,stores:this.stores,type:this.type,investment_costs:Object(le["b"])(this.type,this.stores),operational_costs:Object(le["a"])(this.type,this.stores),trademarks:this.trademark,team:this.team};await this.$store.dispatch("addChannel",t),this.closeDialog()}},closeDialog(){this.dialog=!1,this.calculating=!1,this.message="",this.error=""}},components:{Loader:L["default"]},async mounted(){if(this.trademarks.length<1)try{await this.$store.dispatch("fetchTrademarks")}catch(t){await this.$store.dispatch("setError",t.message)}if(this.teams.length<1)try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(t){await this.$store.dispatch("setError",t.message)}}},oe=ne,ce=Object(x["a"])(oe,re,ie,!1,null,null,null),de=ce.exports,ue=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{scrollable:"","max-width":"600px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"text-lowercase mr-4",attrs:{color:"secondary",dark:"",small:""}},a),[t._v("add spot")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?t._e():e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6 text-pre-wrap"},[t._v(" New spot parameters by "),e("span",{staticClass:"secondary--text"},[t._v(t._s(t.set.item))]),t._v(" set ")]),e(l["a"]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[e(c["a"],{attrs:{dense:"","return-object":"",items:t.teams,"item-text":"name","item-value":"id","item-color":"secondary",label:"team",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.team,callback:function(e){t.team=e},expression:"team"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"primary",label:"spot's quality*",hint:"it's expected number between 1 and 5","persistent-hint":"",name:"quality",type:"text",rules:[t.rules.required,t.rules.number,t.rules.max]},on:{change:function(e){return t.onceMore()}},model:{value:t.quality,callback:function(e){t.quality=t._n(e)},expression:"quality"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",color:"secondary",label:"core message*",items:t.core_messages,"item-color":"secondary",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.core_message,callback:function(e){t.core_message=e},expression:"core_message"}})],1),e(r["a"],{attrs:{cols:"12",sm:"12",md:"12"}},[e(c["a"],{attrs:{dense:"",multiple:"",color:"secondary",label:"channels*",items:t.all_channels,"item-color":"secondary",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.channels,callback:function(e){t.channels=e},expression:"channels"}})],1),e(r["a"],{attrs:{cols:"12",md:"6",sm:"6"}},[e(c["a"],{attrs:{dense:"","return-object":"",items:t.filteredTrademarks,"item-text":"name","item-value":"id",color:"secondary","item-color":"secondary",label:"trademark*",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.trademark,callback:function(e){t.trademark=e},expression:"trademark"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(c["a"],{attrs:{dense:"",color:"secondary","return-object":"",label:"advanced feature",items:t.features,"item-text":"text","item-value":"value","item-color":"secondary"},on:{change:function(e){return t.onceMore()}},model:{value:t.af,callback:function(e){t.af=e},expression:"af"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",clearable:"",color:"secondary",label:"price",items:t.prices,"item-color":"secondary"},on:{change:function(e){return t.onceMore()}},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(c["a"],{attrs:{dense:"",color:"secondary",label:"objective*",items:t.objectives,"item-color":"secondary",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.objective,callback:function(e){t.objective=e},expression:"objective"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"spot name",type:"text",readonly:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(c["a"],{attrs:{dense:"",color:"secondary",label:"value*",items:t.values,"item-text":"text","item-value":"value","item-color":"secondary",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"6"}},[e(c["a"],{attrs:{dense:"",multiple:"","return-object":"",items:t.segments,"item-text":"segment.name","item-value":"segment.pick_size",color:"secondary","item-color":"secondary",label:"segments (multiple)*",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.pick_segments,callback:function(e){t.pick_segments=e},expression:"pick_segments"}})],1)],1)],1)],1),e(o["a"],{staticClass:"error--text",attrs:{justify:"center"}},[t._v(t._s(t.error))]),e(o["a"],{staticClass:"subtitle-2",attrs:{justify:"center"}},[t._v(t._s(t.message))])],1),e(l["a"]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"primary",text:"",disabled:!t.valid||Boolean(t.error)},on:{click:t.calculating}},[t._v(" Calculate ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"secondary",text:"",disabled:!t.calculate||Boolean(t.error)},on:{click:t.addSpot}},[t._v("Save ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"secondary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")])],1)],1)],1)},me=[],he=(a("13d5"),a("d713")),pe={name:"AddSpot",props:["set"],data(){return{dialog:!1,valid:!1,error:"",message:"",calculate:!1,rules:{required:t=>!!t||"this field is required",number:t=>/^[+]?[0-9]/.test(t)||"it's expected number",max:t=>t<=5||"max 5 expected"},trademark:null,core_message:"",af:"",value:"",pick_segments:[],channels:[],team:null,price:"",objective:"",quality:1,investments:0,operations:0}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},teams(){return this.$store.getters.teams},segments(){return this.$store.getters.market_segments},trademarks(){return this.$store.getters.trademarks},all_channels(){return this.$store.getters.CHANNELS},core_messages(){return this.$store.getters.CORE_MESSAGES},features(){return this.$store.getters.FEATURES},prices(){return this.$store.getters.PRICES},objectives(){return this.$store.getters.OBJECTIVES},values(){return this.$store.getters.VALUES},filteredTrademarks(){if(this.team){var t;const e=[];null===(t=this.team)||void 0===t||t.products.map(t=>{const a=e.find(e=>e===t.trademarkId);a||e.push(t.trademarkId)});const a=this.trademarks.filter(t=>-1!==e.indexOf(t.id));return a}return this.trademarks},marketSize(){let t=0;return this.segments.length>0&&(t=this.segments.reduce((t,e)=>t+e.segment.peak_size,0)),console.log(t),t},name:{get(){return this.trademark?this.trademark.name+" Ad":""},set(t){return t}}},watch:{async set(){try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(t){await this.$store.dispatch("setError",t.message)}}},methods:{localeNumber(t){return"ro-RO"==this.locale?t.toLocaleString("en-US"):t.toLocaleString(this.locale)},onceMore(){this.error="",this.calculate=!1,this.message=""},calculating(){this.$refs.form.validate()&&(this.investments=Object(he["a"])(this.quality,this.channels),this.operations=Object(he["b"])(this.channels,this.pick_segments,this.marketSize),this.message=`spot investments = ${this.localeNumber(this.investments)} & \n                    operational costs = ${this.localeNumber(this.operations)}`,this.calculate=!0)},async addSpot(){if(this.$refs.form.validate()){const e=this.pick_segments.map(t=>t.segment.name),a=this.af.text?this.af.text:"",s={gameId:this.set.value,round:0,register_round:0,team:this.team,name:this.name,advanced_feature:a,price:this.price,value:this.value,objective:this.objective,quality:this.quality,trademark:this.trademark,core_message:this.core_message,segments:e,channels:this.channels,investments:this.investments,operations:this.operations};console.log(s);try{await this.$store.dispatch("addSpot",s),this.closeDialog()}catch(t){this.error=""+t.message,this.message="",this.$store.dispatch("setError",t.message)}}},closeDialog(){this.dialog=!1,this.error="",this.message="",this.calculate=!1,this.name="",this.$refs.form.reset(),this.trademark=[],this.design_type="",this.af="",this.value="",this.pick_segments=[],this.channels=[],this.team=null,this.price="",this.objective="",this.quality=1}},async mounted(){if(this.trademarks.length<1)try{await this.$store.dispatch("fetchTrademarks")}catch(t){await this.$store.dispatch("setError",t.message)}if(this.teams.length<1)try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(t){await this.$store.dispatch("setError",t.message)}if(this.segments.length<1){const e={gameId:this.set.value,round:0};try{await this.$store.dispatch("fetchMarketSegments",e)}catch(t){await this.$store.dispatch("setError",t.message)}}}},ve=pe,ge=Object(x["a"])(ve,ue,me,!1,null,null,null),_e=ge.exports,fe=function(){var t=this,e=t._self._c;return e(q["a"],{attrs:{scrollable:"","max-width":"600px","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(s["a"],t._g({staticClass:"text-lowercase mr-4",attrs:{color:"secondary",dark:"",small:""}},a),[t._v("add resources")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t.loading?t._e():e(w["a"],[e(j["c"],{staticClass:"subtitle-2 pt-6 text-pre-wrap"},[t._v(" New resources by "),e("span",{staticClass:"secondary--text"},[t._v(t._s(t.set.item))]),t._v(" set ")]),e(l["a"]),e(j["b"],{staticClass:"black--text"},[e(i["a"],{attrs:{"grid-list-md":""}},[e(n["a"],{ref:"form",attrs:{validation:""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e(o["a"],[e(r["a"],{attrs:{cols:"12",md:"4",sm:"6"}},[e(c["a"],{attrs:{dense:"","return-object":"",items:t.teams,"item-text":"name","item-value":"id","item-color":"secondary",label:"Team",rules:[t.rules.required]},on:{change:function(e){return t.onceMore()}},model:{value:t.team,callback:function(e){t.team=e},expression:"team"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"Capacities current round",value:t.formatNumber(t.capacities),name:"capacities",type:"text",readonly:""}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"Capacities increase for next round",name:"capacities_increase",type:"text",readonly:""},model:{value:t.capacities_increase,callback:function(e){t.capacities_increase=t._n(e)},expression:"capacities_increase"}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"Production assets",value:t.formatNumber(t.production_assets),name:"production_assets",type:"text",readonly:""}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"Long-term debt",value:t.formatNumber(t.long_term_debt),name:"debt",type:"text",readonly:""}})],1),e(r["a"],{attrs:{cols:"12",sm:"6",md:"3"}},[e(z["a"],{attrs:{dense:"",color:"secondary",label:"Borrowins this round",hint:t.borrowHint,name:"borrow",type:"text",readonly:""},model:{value:t.borrowings,callback:function(e){t.borrowings=t._n(e)},expression:"borrowings"}})],1)],1)],1)],1),e(o["a"],{staticClass:"error--text",attrs:{justify:"center"}},[t._v(t._s(t.error))]),e(o["a"],{staticClass:"text-pre-wrap subtitle-2",attrs:{justify:"center"}},[t._v(" "+t._s(t.message)+" ")])],1),e(l["a"]),e(j["a"],[e(M["a"]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"secondary",text:"",disabled:Boolean(t.error)},on:{click:t.addResource}},[t._v("Save ")]),e(s["a"],{staticClass:"text-capitalize",attrs:{color:"secondary",text:""},on:{click:t.closeDialog}},[t._v(" Close ")])],1)],1)],1)},be=[],xe={name:"AddResource",props:["set"],data(){return{dialog:!1,valid:!1,error:"",message:"",rules:{required:t=>!!t||"this field is required"},team:null,capacities_increase:0,borrowings:0}},computed:{loading(){return this.$store.getters.loading},locale(){return this.$store.getters.locale},teams(){return this.$store.getters.teams},market_segments(){return this.$store.getters.market_segments},capacities:{get(){var t;let e=0;return(null===(t=this.market_segments)||void 0===t?void 0:t.length)>0&&(e=this.market_segments.reduce((t,e)=>t+e.segment.peak_size,0)),.1*e},set(t){return t}},production_assets(){return this.capacities?10*this.capacities:0},long_term_debt(){return this.capacities?5*this.capacities:0},contributed_capital(){let t=0;return this.production_assets&&(t=2*this.production_assets),t},borrowHint(){return"not more than $"+Object(St["d"])(.7*this.fix_assets-this.debt,this.locale)}},watch:{async set(){const t={gameId:this.set.value,round:0};try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(e){console.log(e),await this.$store.dispatch("setError",e.message)}try{await this.$store.dispatch("fetchMarketSegments",t)}catch(e){console.log(e),await this.$store.dispatch("setError",e.message)}}},methods:{formatNumber(t){return Object(St["d"])(t,this.locale)},onceMore(){this.error="",this.calculate=!1,this.message="",this.capacities=()=>{var t;let e=0;return(null===(t=this.market_segments)||void 0===t?void 0:t.length)>0&&(e=this.market_segments.reduce((t,e)=>t+e.segment.peak_size,0)),.1*e}},async addResource(){if(this.$refs.form.validate()){const e={gameId:this.set.value,round:0,team:this.team,capacities:this.capacities,capacities_increase:this.capacities_increase,long_term_debt:this.long_term_debt,borrowings:this.borrowings,research_segments:[],research_costs:0},a={gameId:this.set.value,round:0,teamId:this.team.id,production_assets:this.production_assets,retail_assets:0,production_depreciation:0,retail_depreciation:0,franchise_cost:0,franchise_fee:0,retail_entry:0,retail_annual_fee:0,invest_assets:0,market_research:0},s=this.contributed_capital+this.long_term_debt-this.production_assets,r={gameId:this.set.value,round:0,team:this.team,fixed_assets:0,cash:s,contributed_capital:this.contributed_capital,long_term_debt:this.long_term_debt};try{await this.$store.dispatch("addResource",e),await this.$store.dispatch("addIntermediary",a),await this.$store.dispatch("addFinances",r),this.closeDialog()}catch(t){this.error=""+t.message,this.message="",this.$store.dispatch("setError",t.message)}}},closeDialog(){this.dialog=!1,this.error="",this.message=""}},async mounted(){var t,e;const a={gameId:this.set.value,round:0};if((null===(t=this.teams)||void 0===t?void 0:t.length)<1)try{await this.$store.dispatch("fetchTeams",this.set.value)}catch(s){await this.$store.dispatch("setError",s.message)}if((null===(e=this.market_segments)||void 0===e?void 0:e.length)<1)try{await this.$store.dispatch("fetchMarketSegments",a)}catch(s){await this.$store.dispatch("setError",s.message)}}},ye=xe,ke=Object(x["a"])(ye,fe,be,!1,null,null,null),Ce=ke.exports,$e={data(){return{itemsTab:["Games","Teams","Products","Channels","Promotion","Resources"],tab:0,valid:!1,error:"",set:{item:"standart",value:2},rules:{required:t=>!!t||"required field"}}},computed:{user(){return this.$store.getters.user},games(){return this.$store.getters.games},gamesRout(){return/\/teams\/games/.test(this.$route.path)},teamsRout(){return/\/teams\/teams/.test(this.$route.path)},productsRout(){return/\/teams\/products/.test(this.$route.path)},channelsRout(){return/\/teams\/channels/.test(this.$route.path)},promotionRout(){return/\/teams\/promotion/.test(this.$route.path)},resourcesRout(){return/\/teams\/resources/.test(this.$route.path)},sets(){const t=[{item:"simple",value:1},{item:"standart",value:2},{item:"advanced",value:3}],e=this.games.filter(t=>t.id>3);return e.length>0&&e.map(e=>{t.push({item:e.id,value:e.id})}),t}},methods:{link(t){return"/admin/teams/"+t.toLowerCase()},async load(){var t;let e=this.set.value,a=0,s=5;const r=null===(t=this.games)||void 0===t?void 0:t.find(t=>t.id==e);r&&(a=r.round,s=r.num_teams);const i={gameId:e,round:a};try{if(this.teamsRout)await this.$store.dispatch("fetchTeams",{gameId:e,limit:s});else if(this.productsRout)await this.$store.dispatch("fetchProducts",i);else if(this.gamesRout)await this.$store.dispatch("fetchUserGames");else if(this.channelsRout)await this.$store.dispatch("fetchChannels",i);else if(this.promotionRout)try{await this.$store.dispatch("fetchSpots",i)}catch(l){console.log("spot fetching error: "+l.message)}else this.resourcesRout&&await this.$store.dispatch("fetchResources",i)}catch(n){console.log(n)}}},components:{Teams:k,Products:Z,Channels:ht,Promotion:wt,Resources:Dt,Games:Bt,AddTeam:Ft,AddProduct:Qt,AddGame:se,AddChannel:de,AddSpot:_e,AddResource:Ce},async mounted(){if(!this.games.length)try{await this.$store.dispatch("fetchAllGames")}catch(t){console.log(t.message)}}},we=$e,je=Object(x["a"])(we,p,v,!1,null,null,null);e["default"]=je.exports},d713:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return r}));a("13d5");function s(t,e){const a=[1500,1900,2700,3700,5500],s=a[t-1];return s+(e.length-1)*s*.5}function r(t,e,a){let s=0;return t.forEach(t=>{switch(t){case"TV":s+=17e4;break;case"visual outdoor ads":s+=9e4;break;case"autoradio podcasts":s+=4e4;break;case"postal mailings":s+=.4*a;break;case"SMM":s+=e.reduce((t,e)=>t+.003*e.segment.peak_size,0);break;case"content marketing":s+=e.reduce((t,e)=>t+.002*e.segment.peak_size,0);break;case"influencers":s+=e.reduce((t,e)=>t+.05*e.segment.peak_size,0)}}),s}},f3ca:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return o}));a("d9e2");const s=28e3,r=15e3,i=4e4,l=33e3;function n(t,e=1){if(1==t)return s;if(2==t||3==t)return r*e;throw new Error("undefined channel type: "+t)}function o(t,e=1){if(1==t)return i;if(2==t||3==t)return l*e;throw new Error("undefined channel type: "+t)}}}]);
//# sourceMappingURL=chunk-4bc3181a.d31db843.js.map